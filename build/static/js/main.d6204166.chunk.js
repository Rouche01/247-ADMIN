(this["webpackJsonp247-admin"]=this["webpackJsonp247-admin"]||[]).push([[0],{319:function(e,t,a){},322:function(e,t,a){},548:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a.n(r),s=a(40),c=a.n(s),i=a(35),o=a(46),l=Object(o.a)(),d=(a(319),a(320),a(321),a(322),"/login"),u="/overview",b=a(9),j=a.n(b),p=a(20),m=a(3),x=a(83),h=a(80),g=a.n(h),O=a(1),f=function(e){var t=e.inputIcon,a=e.registerFn,r=e.errorText,n=e.label,s=e.darkMode,c=e.isNumeric,i=e.setValue,o=Object(x.a)(e,["inputIcon","registerFn","errorText","label","darkMode","isNumeric","setValue"]);return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"relative mt-8",children:[n&&Object(O.jsx)("label",{className:"text-base mb-2 font-medium inline-block text-white",children:n}),Object(O.jsx)("input",Object(m.a)(Object(m.a)(Object(m.a)({},o),c?a(e.name,{onChange:function(t){console.log(t.target.value.replace(/\D/g,""));var a=parseFloat(t.target.value.replace(/\D/g,"").replace(/,/g,""));i(e.name,a?a.toLocaleString():"")}}):a(e.name)),{},{className:g()("w-full","px-5","py-3","border",{"border-247-dark-text":!r},{"border-247-error-text":!!r},"rounded-md","text-lg",{"bg-247-dark-mode-input-bg":s},"font-customRoboto",{"text-white":s},"outline-none")})),Object(O.jsx)("span",{className:"absolute top-1/4 right-5",children:t&&t})]}),r&&Object(O.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:r})]})},v=a(156),y=a(157),N=a(34),w=a(19),C=a(10),k=a.n(C),S=function(e){var t=e.size,a=void 0===t?"small":t;return Object(O.jsx)("div",{className:"w-full flex justify-center",children:Object(O.jsx)("div",{className:k()({"w-6":"small"===a},{"h-6":"small"===a},{"w-12":"large"===a},{"h-12":"large"===a},"border-247-transparent","rounded-full","border-t-2","border-b-2","animate-spin")})})},A=function(e){var t=e.children,a=e.type,r=e.className,n=e.fullWidth,s=e.isLoading;return Object(O.jsx)("button",{className:["text-white","py-3","rounded-md",n&&"w-full","text-lg","font-bold","font-customRoboto"].concat(Object(w.a)(r)).join(" "),type:a,children:s?Object(O.jsx)(S,{}):t})},D=a.p+"static/media/logo.e6dad76f.png",I=a(8),z=function(e,t,a,n,s){var c=Object(r.createContext)();return{Context:c,Provider:function(i){var o=i.children,l=Object(r.useReducer)(e,t,(function(){if(n){var e=localStorage.getItem("247auth");return e?JSON.parse(e):{}}return Object(m.a)({},t)})),d=Object(I.a)(l,2),u=d[0],b=d[1];Object(r.useEffect)((function(){n&&s(u)}),[u]);var j={};for(var p in a)j[p]=a[p](b);return Object(O.jsx)(c.Provider,{value:Object(m.a)({state:u},j),children:o})}}},T=a(276),F=a.n(T).a.create({baseURL:"https://thawing-thicket-82190.herokuapp.com/api"}),M=z((function(e,t){switch(t.type){case"set_loading":return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case"signin":return Object(m.a)(Object(m.a)({},e),{},{token:t.payload.token,user:t.payload.user,loggedIn:!0});case"signout":return Object(m.a)(Object(m.a)({},e),{},{token:null,user:null,loggedIn:!1});case"set_error":case"clear_error":return Object(m.a)(Object(m.a)({},e),{},{error:t.payload});default:return e}}),{loading:!1,token:null,user:null,loggedIn:!1,error:null},{loginAdmin:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){var n,s,c,i;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.email,s=a.password,e({type:"set_loading",payload:!0}),t.prev=2,t.next=5,F.post("/admin/signin",{email:n,password:s});case 5:c=t.sent,console.log(c),i=c.data.token,e({type:"signin",payload:{token:i,user:c.data.user}}),l.push(r),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0.response),t.t0.response?e({type:"set_error",payload:t.t0.response.data.error}):e({type:"set_error",payload:"Something went wrong"});case 16:e({type:"set_loading",payload:!1});case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(){e({type:"clear_error",payload:null})}},logout:function(e){return function(){localStorage.removeItem("247auth"),e({type:"signout"}),l.push(d)}}},!0,(function(e){var t={user:e.user,loggedIn:e.loggedIn,token:e.token};localStorage.setItem("247auth",JSON.stringify(t))})),P=M.Context,E=M.Provider,_=a(57),L=a(27),q=function(){var e,t,a={validationSchema:L.b({emailAddress:L.c().email("Must be a valid email").required("Email is required"),password:L.c().min(7).max(255).required("Password is required")})}.validationSchema,n=Object(i.h)().state;console.log(n);var s=Object(r.useContext)(P),c=s.state,o=c.loading,l=c.error,d=c.loggedIn,b=s.loginAdmin,m=s.clearError,x=Object(N.e)({resolver:Object(_.a)(a)}),h=x.register,g=x.handleSubmit,w=x.formState.errors,C=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),a=t.emailAddress,r=t.password,s=(null===n||void 0===n?void 0:n.from)||u,e.next=5,b({email:a,password:r},s);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(O.jsx)(i.a,{to:u}):Object(O.jsxs)("div",{className:"grid grid-cols-6 gap-0 h-screen min-h-screen",children:[Object(O.jsx)("div",{className:"col-span-3 bg-247-main h-full flex",children:Object(O.jsx)("img",{src:D,alt:"logo",width:"340",className:"m-auto"})}),Object(O.jsx)("div",{className:"col-span-3 bg-247-transparent flex",children:Object(O.jsxs)("div",{className:"px-20 w-full items-center m-auto",children:[Object(O.jsx)("h1",{className:"text-5xl font-bold text-247-dark-text font-customRoboto",children:"Sign In"}),Object(O.jsx)("p",{className:"text-2xl text-247-dark-text font-customRoboto font-light mt-1 tracking-wide",children:"Welcome Back"}),Object(O.jsxs)("form",{className:"mt-20",onSubmit:g(C),children:[l&&Object(O.jsx)("p",{className:"font-semibold text-247-error-text",children:l}),Object(O.jsx)(f,{placeholder:"Email Address",type:"email",inputIcon:Object(O.jsx)(v.a,{size:24,color:"#4D4D4D"}),registerFn:h,name:"emailAddress",errorText:null===(e=w.emailAddress)||void 0===e?void 0:e.message}),Object(O.jsx)(f,{placeholder:"Password",type:"password",inputIcon:Object(O.jsx)(y.a,{size:24,color:"#4D4D4D"}),registerFn:h,name:"password",errorText:null===(t=w.password)||void 0===t?void 0:t.message}),Object(O.jsx)(A,{fullWidth:!0,className:["mt-20","bg-247-main"],type:"submit",isLoading:o,children:"Log In"})]})]})})]})},B=a(48),R=a(42),U=a(22),V=function(){return Object(O.jsxs)("div",{className:"relative",children:[Object(O.jsx)("input",{className:"pr-4 pl-11 py-2 w-72 border border-247-dark-text rounded-md text-lg text-white focus:outline-none focus:ring-1 font-customRoboto bg-transparent",type:"search",placeholder:"Search"}),Object(O.jsx)("span",{className:"absolute top-1/4 left-3",children:Object(O.jsx)(U.k,{color:"#979797",size:24})})]})},W=a(90),Q=a(281),G=a(282),H=[{label:"Overview",icon:W.a,link:"/overview"},{label:"Campaigns",icon:W.b,link:"/campaigns"},{label:"Advertisers",icon:v.b,link:"/advertisers"},{label:"Drivers",icon:Q.a,link:"/drivers"},{label:"Content Library",icon:U.m,link:"/content-library"},{label:"Playlist Manager",icon:G.a,link:"/playlist-manager"},{label:"Quiz Centre",icon:U.l,link:"/quiz-centre"},{label:"Send Notifs",icon:y.b,link:"/send-notifications"}],K=a(51),J=function(){return Object(O.jsx)("div",{className:"h-12 w-12 rounded-full bg-247-gray flex items-center justify-center border-2 border-247-dark-text cursor-pointer",children:Object(O.jsx)(K.d,{color:"#212427"})})};function Y(e){return function(t){var a=Object(r.useState)(!1),n=Object(I.a)(a,2),s=n[0],c=n[1],i=Object(r.useRef)();return Object(r.useEffect)((function(){document.addEventListener("mousedown",(function(e){var t;(null===(t=i.current)||void 0===t?void 0:t.contains(e.target))||c(!1)}))}),[i]),Object(O.jsx)(e,Object(m.a)(Object(m.a)({},t),{},{open:s,setOpen:c,ref:i}))}}var X=function(e){var t=e.onBtnClick,a=e.title,r=e.icon,n=e.isLoading;return Object(O.jsx)("button",{onClick:t,className:"text-base text-white bg-247-red-shade px-5 py-3 rounded-full flex items-center",style:{minWidth:"160px"},children:n?Object(O.jsx)(S,{}):Object(O.jsxs)(O.Fragment,{children:[r,a]})})},Z=a(63),$=a(213),ee=a.n($);ee.a.setAppElement("#root");var te=function(e){var t=e.modalOpen,a=e.setModalOpen,r=e.children,n=e.width,s={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#282C31",border:"1px solid #282C31",borderRadius:"8px",width:n?"".concat(n,"px"):"650px",padding:"28px 32px",maxHeight:"90vh",overflowY:"auto"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.86)"}};return Object(O.jsx)(ee.a,{isOpen:t,style:s,onRequestClose:function(){return a(!1)},children:r})},ae=function(){var e=localStorage.getItem("247auth");return e?JSON.parse(e).token:null},re="set_loading_state",ne="set_create_error_message",se="set_retrieve_error_message",ce="set_fetch_by_id_error",ie="set_campaign_list",oe="set_campaign_size",le="set_single_campaign",de={fetch:se,create:ne,fetchById:ce},ue=z((function(e,t){switch(t.type){case re:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case ne:return Object(m.a)(Object(m.a)({},e),{},{createErrorMsg:t.payload});case se:return Object(m.a)(Object(m.a)({},e),{},{retrieveErrorMsg:t.payload});case ce:return Object(m.a)(Object(m.a)({},e),{},{fetchByIdError:t.payload});case ie:return Object(m.a)(Object(m.a)({},e),{},{campaigns:t.payload});case oe:return Object(m.a)(Object(m.a)({},e),{},{campaignSize:t.payload});case le:return Object(m.a)(Object(m.a)({},e),{},{campaign:t.payload});default:return e}}),{loading:!1,campaigns:[],campaign:null,createErrorMsg:null,retrieveErrorMsg:null,fetchByIdError:null,campaignSize:0},{createCampaign:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:re,payload:!0}),t.prev=1,t.next=4,F.post("/campaigns",a,{headers:{Authorization:"Bearer ".concat(ae()),"content-type":"multipart/form-data"}});case 4:e({type:re,payload:!1}),r&&r(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response?(console.log(t.t0.response.data),e({type:ne,payload:t.t0.response.data.message||"Unable to create campaign. Something went wrong"})):e({type:ne,payload:"Unable to create campaign. Something went wrong"}),e({type:re,payload:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchCampaigns:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:se,payload:null}),e({type:re,payload:!0}),t.prev=2,t.next=5,F.get("/campaigns",{headers:{Authorization:"Bearer ".concat(ae())},params:Object(m.a)(Object(m.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:r=t.sent,e({type:ie,payload:r.data.campaigns}),e({type:oe,payload:r.data.size}),e({type:re,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response.data),e({type:se,payload:t.t0.response.data.message||"Unable to create campaign. Something went wrong"})):e({type:se,payload:"Unable to create campaign. Something went wrong"}),e({type:re,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchCampaignById:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ce,payload:null}),e({type:re,payload:!0}),t.prev=2,t.next=5,F.get("/campaigns/".concat(a),{headers:{Authorization:"Bearer ".concat(ae())}});case 5:r=t.sent,e({type:le,payload:r.data}),e({type:re,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:ce,payload:t.t0.response.data.message||"Unable to create campaign. Something went wrong"}):e({type:ce,payload:"Unable to create campaign. Something went wrong"}),e({type:re,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:de[t],payload:null})}}}),be=ue.Context,je=ue.Provider,pe=a(283),me=a.n(pe),xe=function(e){var t=e.label,a=e.darkMode,r=e.placeholder,n=e.startDate,s=e.endDate,c=e.handleChange,i=e.errorText;return Object(O.jsxs)("div",{className:"mt-8",children:[t&&Object(O.jsx)("label",{className:"text-base mb-2 font-medium inline-block text-white",children:t}),Object(O.jsxs)("div",{className:k()("relative","rounded-md",{"bg-247-dark-mode-input-bg":a}),children:[Object(O.jsx)(me.a,{className:k()("z-20","w-full","py-3"),selectsRange:!0,startDate:n,endDate:s,onChange:function(e){return c(e)},placeholderText:r}),Object(O.jsx)(U.g,{className:"absolute top-1/2 left-5 cursor-pointer z-0",style:{transform:"translateY(-50%)"},size:20,color:"#DFDFDF"})]}),i&&Object(O.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:i})]})},he=a(285),ge=function(e){var t=e.innerProps,a=(e.cx,e.data,e.selectProps,e.isSelected),r=e.isFocused,n=Object(x.a)(e,["innerProps","cx","data","selectProps","isSelected","isFocused"]);return Object(O.jsxs)("div",Object(m.a)(Object(m.a)(Object(m.a)({className:k()("flex","items-center","px-3","py-3","cursor-pointer","hover:bg-black","hover:text-247-red-straight",{"bg-black":a}),"data-focused":r,"data-selected":a},t),n),{},{children:[Object(O.jsx)("div",{className:"w-5 h-5",children:a&&Object(O.jsx)(U.h,{size:20})}),Object(O.jsx)("label",{className:"ml-3",children:n.label})]}))},Oe=function(e){var t=e.label,a=e.standAlone,r=e.bgColor,n=e.borderColor,s=e.options,c=e.value,i=e.darkMode,o=e.errorText,l=e.placeholderText,d=e.handleChange,u={control:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{backgroundColor:t.selectProps.darkMode?"rgba(0, 0, 0, 0.25)":r,borderColor:t.selectProps.darkMode?"#4D4D4D":n,padding:"6px 10px","&:hover":{borderColor:t.selectProps.darkMode?"#4D4D4D":n},"&:focus":{borderColor:t.selectProps.darkMode?"#4D4D4D":n,boxShadow:"none"}})},indicatorSeparator:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{display:"none"})},input:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontSize:"1.125rem",fontWeight:"500",color:"#fff"})},placeholder:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",color:"#848b95"})},singleValue:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",color:"#fff"})},menu:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",backgroundColor:t.selectProps.darkMode?"#222222":r,color:"#fff"})}};return Object(O.jsxs)("div",{className:k()({"mt-8":!a}),children:[t&&Object(O.jsx)("label",{className:"inline-block text-white mb-2 font-medium",children:t}),Object(O.jsx)(he.a,{className:"react-select",options:s,placeholder:l,styles:u,darkMode:i,value:c,onChange:d,isSearchable:!1,components:{Option:ge}}),o&&Object(O.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:o})]})},fe=a(24),ve=a(52),ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return new Promise((function(r,n){var s,c=document.createElement("video");c.setAttribute("src",t?e:URL.createObjectURL(e)),c.load(),c.addEventListener("error",(function(e){n("error when loading video file",e)})),c.addEventListener("loadedmetadata",(function(){s=c.duration,c.duration<a?n("video is too short."):(setTimeout((function(){c.currentTime=a}),200),c.addEventListener("seeked",(function(){var e=document.createElement("canvas");e.width=c.videoWidth,e.height=c.videoHeight;var t=e.getContext("2d");t.drawImage(c,0,0,e.width,e.height),t.canvas.toBlob((function(e){r({blob:e,duration:s})}),"image/jpeg",.75)})))}))}))},Ne={".jpg,.png,.jpeg":"(PNG, AND JPG Files Supported)",".mp4":"(MP4 Files Supported)"},we=function(e){var t=e.label,a=e.multiple,n=e.callUpdateFilesCb,s=e.accepts,c=e.setDuration,i=Object(r.useState)({}),o=Object(I.a)(i,2),l=o[0],d=o[1],u=Object(r.useRef)(null),b=function(){var e=Object(p.a)(j.a.mark((function e(t){var r,n,s,i,o,d,u,b;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=Object(fe.a)(t),e.prev=1,r.s();case 3:if((n=r.n()).done){e.next=25;break}if(!((s=n.value).size<5e8)){e.next=23;break}if(a){e.next=22;break}if(i="image"===s.type.split("/")[0],o=void 0,!i){e.next=13;break}o=URL.createObjectURL(s),e.next=20;break;case 13:return e.next=15,ye(s);case 15:d=e.sent,u=d.blob,b=d.duration,c&&c(b),o=URL.createObjectURL(u);case 20:return s.preview=o,e.abrupt("return",{file:s});case 22:l[s.name]=s;case 23:e.next=3;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:return e.abrupt("return",Object(m.a)({},l));case 34:case"end":return e.stop()}}),e,null,[[1,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target.files).length){e.next=7;break}return e.next=4,b(a);case 4:r=e.sent,d(r),n(r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)("div",{className:"mt-8",children:[Object(O.jsxs)("label",{className:"mb-2 font-medium inline-block text-white text-base",children:[t," ",Object(O.jsx)("span",{className:"text-xs font-normal ml-3",children:s?Ne[s]:"(PNG, JPG, AND MP4 Files Supported)"})]}),Object(O.jsxs)("div",{className:"rounded-md w-full bg-247-dark-mode-input-bg p-4",children:[!Object.keys(l).length&&Object(O.jsxs)("div",{className:"w-full relative rounded-md border border-dashed border-247-dotted-border bg-247-upload-bg flex-col text-center py-5 text-247-placeholder-shade cursor-pointer",children:[Object(O.jsx)("div",{className:"mx-auto inline-block",children:Object(O.jsx)(ve.d,{size:28})}),Object(O.jsxs)("p",{className:"text-sm",children:["Drag and drop or browse to choose ",a?"files":"a file"]}),Object(O.jsx)("input",{type:"file",ref:u,className:"absolute top-0 left-0 bottom-0 right-0 w-full opacity-0 cursor-pointer",onChange:function(e){return x(e)},accept:s||".jpg,.png,.jpeg,.mp4"})]}),!!Object.keys(l).length&&Object(O.jsxs)("div",{className:"rounded-md max-h-52 relative group",children:[Object(O.jsx)("div",{className:"absolute flex items-end justify-end rounded-md w-full h-full group-hover:visible group-hover:bg-247-overlay",children:Object(O.jsx)("div",{onClick:function(){d({}),n({})},className:"bg-white flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100  w-10 h-10 rounded-md mr-5 mb-5",children:Object(O.jsx)(K.c,{size:16,color:"#f00"})})}),Object.keys(l).map((function(e,t){var a=l[e];return Object(O.jsx)("div",{children:Object(O.jsx)("div",{children:Object(O.jsx)("img",{className:"max-h-52 w-full object-cover rounded-md",src:a.preview,alt:"file preview ".concat(t)})})},e)}))]})]})]})},Ce=function(e,t){Object(r.useEffect)((function(){e&&B.c.error(e,{duration:3e3}),setTimeout((function(){return t("create")}),3e3)}),[e])},ke=a(306),Se=function(e){var t=e.innerProps,a=(e.cx,e.data,e.selectProps,e.isSelected),r=e.isFocused,n=Object(x.a)(e,["innerProps","cx","data","selectProps","isSelected","isFocused"]);return Object(O.jsxs)("div",Object(m.a)(Object(m.a)(Object(m.a)({className:k()("flex","items-center","px-2","py-3","cursor-pointer","hover:bg-black","hover:text-247-red-straight",{"bg-black":a}),"data-focused":r,"data-selected":a},t),n),{},{children:[Object(O.jsx)("div",{className:"w-5 h-5",children:a&&Object(O.jsx)(U.h,{size:20})}),Object(O.jsx)("label",{className:"ml-3",children:n.label})]}))},Ae=function(e){var t=e.label,a=e.standAlone,r=e.bgColor,n=e.borderColor,s=e.handleChange,c=e.darkMode,i=e.errorText,o=e.placeholderText,l=e.value,d=e.loadOptionFn,u=e.createNewOption,b=e.getOptionLabel,j=e.getOptionValue,p=e.loading,x=e.inputValue,h=e.onInputValueChange,g={control:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{backgroundColor:t.selectProps.darkMode?"rgba(0, 0, 0, 0.25)":r,borderColor:t.selectProps.darkMode?"#4D4D4D":n,padding:"6px 10px","&:hover":{borderColor:t.selectProps.darkMode?"#4D4D4D":n},"&:focus":{borderColor:t.selectProps.darkMode?"#4D4D4D":n,boxShadow:"none"}})},indicatorSeparator:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{display:"none"})},input:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontSize:"1.125rem",fontWeight:"500",color:"#fff"})},placeholder:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",color:"#848b95"})},singleValue:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",color:"#fff"})},menu:function(e,t){return Object(m.a)(Object(m.a)({},e),{},{fontWeight:"500",backgroundColor:t.selectProps.darkMode?"#222222":r,color:"#fff"})}};return Object(O.jsxs)("div",{className:k()({"mt-8":!a}),children:[t&&Object(O.jsx)("label",{className:"inline-block text-white mb-2 font-medium",children:t}),Object(O.jsx)(ke.a,{value:l,inputValue:x,styles:g,darkMode:c,getOptionLabel:b,getOptionValue:j,components:{Option:Se},cacheOptions:!0,defaultOptions:!0,loadOptions:d,isSearchable:!0,onChange:s,onInputChange:h,onCreateOption:u,isClearable:!0,placeholder:o,isLoading:p,isDisabled:p,maxMenuHeight:180}),i&&Object(O.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:i})]})},De=function(e){var t,a,n=e.modalIsOpen,s=e.setIsOpen,c=e.modalWidth,i=e.isEdit,o=e.editData,l={validationSchema:L.b({campaignName:L.c().required("Campaign name is required"),duration:L.a().length(2,"select start and end duration").required("Campaign duration is required"),adBudget:L.c().required("Ad Spend is required"),adType:L.b().required("Ad type is required"),advertiser:L.b().required("Advertiser is required").typeError("This field cannot be empty")})}.validationSchema,d=Object(r.useContext)(be),u=d.createCampaign,b=d.clearError,m=d.state,x=m.loading,h=m.createErrorMsg,g=Object(r.useState)([]),v=Object(I.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)(!1),k=Object(I.a)(C,2),S=k[0],D=k[1],z=Object(r.useState)(""),T=Object(I.a)(z,2),M=T[0],P=T[1];Ce(h,(function(){b("create")}));var E=Object(N.e)({resolver:Object(_.a)(l),defaultValues:i&&o}),q=E.register,R=E.handleSubmit,U=E.control,V=E.formState.errors,W=E.setValue,Q=E.setError,G=E.clearErrors,H=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.get("/advertisers".concat(t?"?startsWith=".concat(t):""),{headers:{Authorization:"Bearer ".concat(ae())}});case 2:return a=e.sent,e.abrupt("return",a.data.advertisers);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),e.prev=1,e.next=4,F.post("/advertisers",{companyName:t},{headers:{Authorization:"Bearer ".concat(ae())}});case 4:a=e.sent,D(!1),W("advertiser",a.data),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),e.t0.response?Q("advertiser",{message:e.t0.response.data.message||"Unable to create advertiser, try again"}):Q("advertiser",{message:"Unable to create new advertiser, try again"}),D(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,!y[0]){e.next=13;break}return a.append("campaignName",t.campaignName),a.append("advertiser",t.advertiser.id),a.append("adBudget",parseFloat(t.adBudget.replace(/,/g,""))),a.append("adType",t.adType.value),a.append("duration",JSON.stringify([Object(Z.default)(t.duration[0],"yyyy-MM-dd"),Object(Z.default)(t.duration[1],"yyyy-MM-dd")])),a.append("campaignMedia",y[0]),e.next=10,u(a,(function(){return B.b.success("Campaign created successfully")}));case 10:s(!1),e.next=14;break;case 13:B.b.error("You need to upload a content for the campaign");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsxs)(te,{modalOpen:n,setModalOpen:s,width:c,children:[Object(O.jsx)("h2",{className:"text-2xl text-white text-center font-semibold",children:i?"Edit campaign (".concat(o.campaignName,")"):"Create new campaign"}),Object(O.jsxs)("form",{className:"mt-8",onSubmit:R(J),children:[Object(O.jsx)(f,{label:"Campaign Name",darkMode:!0,placeholder:"enter campaign name",type:"text",registerFn:q,name:"campaignName",errorText:null===(t=V.campaignName)||void 0===t?void 0:t.message}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(N.a,{name:"advertiser",control:U,render:function(e){var t,a=e.field;return Object(O.jsx)(Ae,{label:"Advertiser",handleChange:function(e){return a.onChange(e)},darkMode:!0,placeholderText:"Enter advertiser name...",value:a.value,loadOptionFn:H,createNewOption:K,getOptionLabel:function(e){return e.__isNew__?e.label:e.companyName},getOptionValue:function(e){return e.__isNew__?e.value:e.id},loading:S,errorText:null===(t=V.advertiser)||void 0===t?void 0:t.message,inputValue:M,onInputValueChange:function(e){G("advertiser"),P(e)}})}}),Object(O.jsx)(N.a,{name:"duration",control:U,render:function(e){var t,a=e.field;return Object(O.jsx)(xe,{label:"Duration",darkMode:!0,placeholder:"Select campaign duration",startDate:a.value&&(null===a||void 0===a?void 0:a.value[0])||null,endDate:a.value&&(null===a||void 0===a?void 0:a.value[1])||null,handleChange:function(e){return a.onChange(e)},errorText:null===(t=V.duration)||void 0===t?void 0:t.message})}})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Ad Budget",darkMode:!0,placeholder:"enter campaign spend",type:"string",registerFn:q,setValue:W,isNumeric:!0,name:"adBudget",errorText:null===(a=V.adBudget)||void 0===a?void 0:a.message}),Object(O.jsx)(N.a,{name:"adType",control:U,render:function(e){var t,a=e.field;return Object(O.jsx)(Oe,{label:"Ad Type",darkMode:!0,options:[{value:"image",label:"Image"},{value:"video",label:"Video"}],placeholderText:"select ad type",value:a.value,handleChange:function(e){return a.onChange(e)},errorText:null===(t=V.adType)||void 0===t?void 0:t.message})}})]}),Object(O.jsx)(we,{label:"Upload Content",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);w(t)}}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:x,children:i?"Submit Change":"Create Campaign"})]})]})},Ie=Object(r.forwardRef)((function(e,t){var a=e.children,n=e.open,s=e.setOpen,c=e.customHeader,o=Object(i.h)(),l=Object(r.useContext)(P).logout,d=Object(r.useState)(!1),u=Object(I.a)(d,2),b=u[0],j=u[1];return Object(O.jsxs)("div",{className:"h-screen max-h-screen overflow-y-hidden",children:[Object(O.jsx)(B.a,{position:"top-center"}),Object(O.jsxs)("div",{className:"grid grid-cols-5 gap-0 max-h-screen h-screen",children:[Object(O.jsxs)("div",{className:"h-screen min-h-screen border-r-2 border-247-dark-text bg-247-secondary",children:[Object(O.jsx)("img",{src:D,alt:"logo",width:"160",className:"ml-10 mt-10"}),Object(O.jsx)("ul",{className:"ml-10 mt-20",children:H.map((function(e){return o.pathname.includes(e.link)?Object(O.jsx)("li",{className:"py-5",children:Object(O.jsx)(R.a,{to:e.link,children:Object(O.jsxs)("span",{className:"flex items-center space-x-6",children:[Object(O.jsx)(e.icon,{size:22,color:"#FF0000"}),Object(O.jsx)("span",{className:"text-white text-xl font-customRoboto",children:e.label})]})})}):Object(O.jsx)("li",{className:"py-5",children:Object(O.jsx)(R.a,{to:e.link,children:Object(O.jsxs)("span",{className:"flex items-center space-x-6",children:[Object(O.jsx)(e.icon,{size:22,color:"#959698"}),Object(O.jsx)("span",{className:"text-247-inactive-link text-xl font-customRoboto",children:e.label})]})})})}))})]}),Object(O.jsxs)("div",{className:"col-span-4 w-full h-screen min-h-screen bg-247-main px-10 py-10",children:[c||Object(O.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[Object(O.jsx)(V,{}),Object(O.jsxs)("div",{className:"flex space-x-8 items-center",children:[Object(O.jsx)(X,{onBtnClick:function(){return j(!0)},title:"Create Campaign",icon:Object(O.jsx)(U.a,{className:"mr-2",size:22})}),Object(O.jsxs)("div",{className:"relative cursor-pointer",children:[Object(O.jsx)(U.d,{color:"#979797",size:28}),Object(O.jsx)("div",{className:"w-3 h-3 border-2 border-247-main rounded-full bg-red-500 absolute top-0 right-0"})]}),Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)(J,{}),Object(O.jsxs)("div",{className:"relative",ref:t,children:[Object(O.jsx)("div",{children:Object(O.jsx)(K.a,{color:"#EBEBEB",className:"ml-2 cursor-pointer",onClick:function(){s(!n)}})}),Object(O.jsx)("ul",{className:"absolute top-7 text-right bg-247-secondary border -right-3 border-247-dark-text p-0 transition-all translate-y-3 origin-top-right",children:Object(O.jsx)("li",{className:g()("list-none","text-white","py-2","px-6","z-20",{"opacity-0":!n},{"opacity-100":n},{visible:n},{hidden:!n},"cursor-pointer"),onClick:l,children:"Logout"})})]})]})]})]}),Object(O.jsx)("div",{className:"overflow-y-scroll max-h-full scrollbar-hide",children:a})]})]}),Object(O.jsx)(De,{setIsOpen:j,modalIsOpen:b,modalWidth:704})]})})),ze=Y(Ie),Te=a(556),Fe=a(557),Me=a(307),Pe=a(561),Ee=a(297),_e=a(298),Le=a(139),qe=function(e){var t=e.data,a=e.yDataKey,r=e.xDataKey;return Object(O.jsx)(Te.a,{width:"100%",height:300,children:Object(O.jsxs)(Fe.a,{data:t,margin:{top:5,right:20,bottom:5,left:0},children:[Object(O.jsx)(Me.a,{type:"monotone",dataKey:a,stroke:"#4FB81D"}),Object(O.jsx)(Pe.a,{stroke:"#4d4d4d",strokeDasharray:"5 5"}),Object(O.jsx)(Ee.a,{dataKey:r}),Object(O.jsx)(_e.a,{}),Object(O.jsx)(Le.a,{})]})})},Be=function(e){var t=e.checked,a=e.iconColor,r=e.name,n=e.value,s=e.handleChange;return Object(O.jsxs)("div",{className:"flex justify-center items-center",children:[Object(O.jsx)("input",{type:"checkbox",name:r,id:r,value:n,checked:t,className:"invisible w-0 h-0",onChange:s}),Object(O.jsxs)("label",{className:k()([{"text-xl":!!n},{"font-bold":!!n},{"ml-3":!!n},{"text-247-gray-accent2":!!n},"flex","items-center"]),htmlFor:r,children:[t?Object(O.jsx)(U.i,{color:a,className:k()([{"mr-2":n},"toggle-check"])}):Object(O.jsx)(U.j,{color:a,className:k()([{"mr-2":n},"toggle-check"])}),n]})]})},Re=[{date:"31/01",impressions:730,interactions:240},{date:"01/02",impressions:1560,interactions:350},{date:"02/02",impressions:722,interactions:190},{date:"03/02",impressions:3e3,interactions:780},{date:"04/02",impressions:750,interactions:320},{date:"05/02",impressions:1510,interactions:488},{date:"06/02",impressions:2880,interactions:590},{date:"07/02",impressions:889,interactions:286}],Ue=[{name:"James Adeola",email:"jadeola@gmail.com",location:"Lagos",status:"active",id:"AD240981",totalTrips:276,earnings:76560,pendingPayout:5778},{name:"Musa Ibrahim",email:"ibrahim.musa@gmail.com",location:"Lagos",status:"suspended",id:"AD241964",totalTrips:118,earnings:45755,pendingPayout:10291},{name:"Kayode Kazeem",email:"kaykazeem@gmail.com",location:"Lagos",status:"active",id:"AD248907",totalTrips:24,earnings:12897,pendingPayout:1675},{name:"Lawal Abioye",email:"oyelawal@gmail.com",location:"Lagos",status:"active",id:"AD240879",totalTrips:452,earnings:112094,pendingPayout:25650},{name:"Precious S.",email:"suavepreccy@gmail.com",location:"Lagos",status:"pending",id:"AD247765",totalTrips:18,earnings:10789,pendingPayout:975},{name:"Alao Matthew",email:"alaomatthew@gmail.com",location:"Lagos",status:"active",id:"AD249088",totalTrips:92,earnings:33173,pendingPayout:6240},{name:"Joel Ifeoluwa",email:"ifejoel@gmail.com",location:"Lagos",status:"active",id:"AD243374",totalTrips:422,earnings:91750,pendingPayout:9655},{name:"Anthony Jay.",email:"anthonyjay@gmail.com",location:"Lagos",status:"suspended",id:"AD246709",totalTrips:65,earnings:54129,pendingPayout:12980},{name:"Dare Salami",email:"salamidare@gmail.com",location:"Lagos",status:"active",id:"AD241119",totalTrips:17,earnings:6111,pendingPayout:2230},{name:"John James",email:"james.john@gmail.com",location:"Lagos",status:"pending",id:"AD247856",totalTrips:41,earnings:62600,pendingPayout:15400}],Ve=[{id:"cont-001",title:"Arsenal Vs. Chelsea",duration:"02:06",category:"Football",date:"21 Apr. 2021",plays:1600,status:"not-live",previewImg:"/assets/contentLibrary/arsenalVsChelsea.png",type:"video"},{id:"cont-002",title:"Ade has gone too soon",duration:"04:06",category:"Comedy",date:"12 May. 2021",plays:900,status:"live",previewImg:"/assets/contentLibrary/adeSkit.png",type:"video"},{id:"ad-001",title:"Samsung A52",duration:"00:36",category:"Ad",date:"29 Apr. 2022",plays:1200,status:"live",previewImg:"/assets/contentLibrary/samsung.png",type:"video"},{id:"cont-003",title:"RNB Mix",duration:"03:00",category:"Music Video",date:"01 May. 2022",plays:850,status:"live",previewImg:"/assets/contentLibrary/rnbMix.png",type:"video"},{id:"cont-004",title:"News Update",duration:"02:03",category:"Politics",date:"05 May. 2022",plays:850,status:"live",previewImg:"/assets/contentLibrary/newsUpdate.png",type:"video"},{id:"ad-002",title:"MTN TVC",duration:"00:48",category:"Ad",date:"11 May. 2022",plays:1500,status:"live",previewImg:"/assets/contentLibrary/mtnTvc.png",type:"video"},{id:"cont-005",title:"Liverpool Vs. Chelsea",duration:"02:48",category:"Football",date:"14 May. 2022",plays:800,status:"live",previewImg:"/assets/contentLibrary/liverpoolVsChelsea.png",type:"video"}],We=[{id:"quiz-001",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1500,correctAnswer:20,correctOption:"C"},{id:"quiz-002",question:"What year did Nigeria gain her independence?",answers:1500,correctAnswer:35,correctOption:"A"},{id:"quiz-003",question:"What is the capital of Tanzania?",answers:500,correctAnswer:59,correctOption:"D"},{id:"quiz-004",question:"One of these songs is by Wizkid, pick one",answers:1300,correctAnswer:20,correctOption:"A"},{id:"quiz-005",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1250,correctAnswer:25,correctOption:"C"},{id:"quiz-006",question:"What year did Nigeria gain her independence?",answers:2e3,correctAnswer:40,correctOption:"B"},{id:"quiz-007",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1700,correctAnswer:21,correctOption:"A"}],Qe=function(e,t,a){return e>9999&&e<1e6?a?t?e.toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):e.toLocaleString("en-NG"):"".concat(t?(e/1e3).toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):(e/1e3).toLocaleString("en-NG")," K"):e>1e6?"".concat(t?(e/1e6).toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):(e/1e6).toLocaleString("en-NG")," M"):t?e.toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):e.toLocaleString("en-NG")},Ge=function(e){var t=parseInt(e,10),a=Math.floor(t/60),r=t-60*a,n=a<10?"0".concat(a):a,s=r<10?"0".concat(r):r;return"".concat(n,":").concat(s)},He=function(e){var t=e.color,a=void 0===t?"#045684":t;return Object(O.jsxs)("svg",{width:"161",height:"130",viewBox:"0 0 161 130",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("g",{filter:"url(#filter0_d_217_1150)",children:Object(O.jsx)("path",{d:"M1 112C38.8667 97.8023 120.28 55.7256 143 1",stroke:a,strokeWidth:"5"})}),Object(O.jsx)("defs",{children:Object(O.jsxs)("filter",{id:"filter0_d_217_1150",x:"0.122314",y:"0.0414124",width:"160.187",height:"129.299",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(O.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(O.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(O.jsx)("feOffset",{dx:"8",dy:"8"}),Object(O.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),Object(O.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(O.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),Object(O.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_217_1150"}),Object(O.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_217_1150",result:"shape"})]})})]})},Ke=function(e){var t=e.color,a=void 0===t?"#035524":t;return Object(O.jsxs)("svg",{width:"163",height:"112",viewBox:"0 0 163 112",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(O.jsx)("g",{filter:"url(#filter0_d_217_1170)",children:Object(O.jsx)("path",{d:"M1 3C45.3333 6.33333 136.2 29.6 145 96",stroke:a,strokeWidth:"5"})}),Object(O.jsx)("defs",{children:Object(O.jsxs)("filter",{id:"filter0_d_217_1170",x:"0.8125",y:"0.50705",width:"161.666",height:"110.821",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(O.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(O.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(O.jsx)("feOffset",{dx:"8",dy:"8"}),Object(O.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),Object(O.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(O.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),Object(O.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_217_1170"}),Object(O.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_217_1170",result:"shape"})]})})]})},Je=a(123),Ye=a.n(Je),Xe=a(21),Ze=a.n(Xe),$e=(a(216),a(217),function(e,t){var a=new URLSearchParams(window.location.search);return t?a.set(e,t):a.delete(e),a.toString()}),et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Object(i.h)(),a=new URLSearchParams(t.search);return a.get(e)||void 0},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Object(i.g)(),a=Object(r.useCallback)((function(a){var r=$e(e,a);t.replace("".concat(t.location.pathname).concat(r?"?".concat(r):""))}),[t,e]);return a},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=et(e),a=tt(e);return[t,a]},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,a=at(e),r=Object(I.a)(a,2),n=r[0],s=r[1];return[n||t,s]},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-DD",a=at(e),n=Object(I.a)(a,2),s=n[0],c=n[1],i=Object(r.useMemo)((function(){var e=Ze()(s);return s&&e.isValid()?e:void 0}),[s]),o=Object(r.useCallback)((function(e){c(e?e.format(t):void 0)}),[t,c]);return[i,o]},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,a=nt(e),r=Object(I.a)(a,2),n=r[0],s=r[1];return[n||t,s]},ct=Ze()().subtract(12,"M"),it={startDate:ct,endDate:Ze()()},ot=function(e){var t=e.statName,a=e.statInfo,r=e.bgColor,n=e.statChange,s=e.indicatorColor;return Object(O.jsxs)("div",{className:"px-9 py-8 w-full bg-bottom ".concat(r," bg-cover rounded-md border border-247-box-border col-span-1 relative"),children:[Object(O.jsx)("h3",{className:"text-white font-customRoboto text-2xl",children:t}),Object(O.jsxs)("div",{className:"mt-12 flex relative items-center",children:[Object(O.jsx)("h2",{className:"text-white font-bold text-5xl",children:a}),n>0?Object(O.jsx)(U.f,{className:"absolute left-56 text-247-increment-green",size:48}):Object(O.jsx)(U.e,{className:"absolute left-56 text-247-decrement-red",size:48})]}),Object(O.jsx)("div",{className:"absolute top-1/2 right-10 mt-2",style:{transform:"translateY(-50%)"},children:n>0?Object(O.jsx)(He,{color:s}):Object(O.jsx)(Ke,{color:s})})]})},lt=function(){var e=Object(r.useState)(!0),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(!1),c=Object(I.a)(s,2),i=c[0],o=c[1],l=st("startDate",it.startDate),d=Object(I.a)(l,2),u=d[0],b=d[1],j=st("endDate",it.endDate),p=Object(I.a)(j,2),m=p[0],x=p[1],h=function(){a&&(n(!1),o(!0)),i&&(o(!1),n(!0))};return Object(r.useEffect)((function(){Ye()('button[name="daterange"]').daterangepicker({opens:"left",ranges:{"Last 7 Days":[Ze()().subtract(6,"days"),Ze()()],"Last 14 Days":[Ze()().subtract(13,"days"),Ze()()],"Last 30 Days":[Ze()().subtract(29,"days"),Ze()()],"Last 3 months":[Ze()().subtract(3,"M"),Ze()()],"Last 12 months":[Ze()().subtract(12,"M"),Ze()()],"Month to date":[Ze()().startOf("month"),Ze()()],"All time":[Ze()().subtract(2,"Y"),Ze()()]},startDate:u,endDate:m,alwaysShowCalendars:!0,applyButtonClasses:"range-apply-btn"},(function(e,t,a){b(e),x(t)}))}),[]),Object(O.jsxs)(ze,{pageTitle:"Overview",children:[Object(O.jsxs)("div",{className:"flex items-center w-full justify-between",children:[Object(O.jsxs)("div",{className:"mt-16 mb-8",children:[Object(O.jsx)("h2",{className:"text-4xl text-white",children:"Hello, Welcome back"}),Object(O.jsx)("p",{className:"text-white text-base",children:"Today is Sunday, 22 February"})]}),Object(O.jsxs)("button",{className:"bg-transparent px-5 py-3 rounded-md text-white border border-white flex items-center text-base",name:"daterange",children:[Object(O.jsx)(U.g,{size:20,className:"mr-3"}),"Set Date Filter"]})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(O.jsx)(ot,{indicatorColor:"#045684",bgColor:"bg-blue-gradient",statChange:5.23,statInfo:Qe(1200),statName:"Total Campaigns"}),Object(O.jsx)(ot,{indicatorColor:"#035524",bgColor:"bg-green-gradient",statChange:-1.08,statInfo:Qe(680),statName:"Active Campaigns"}),Object(O.jsx)(ot,{indicatorColor:"#000000",bgColor:"bg-yellow-gradient",statChange:1.75,statInfo:Qe(800),statName:"Active Drivers"}),Object(O.jsx)(ot,{indicatorColor:"#21A0AA",bgColor:"bg-orange-gradient",statChange:1.75,statInfo:Qe(1285e4,!0),statName:"Total Revenue"})]}),Object(O.jsxs)("div",{className:"mt-10 mb-20 w-full bg-247-secondary rounded-md border-2 border-247-dark-text pl-6 pr-10 py-10",children:[Object(O.jsxs)("div",{className:"flex justify-between items-center mb-10",children:[Object(O.jsx)("h3",{className:"text-white font-customRoboto text-2xl font-medium",children:"Impressions"}),Object(O.jsx)("div",{className:"flex items-center",children:Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)(Be,{checked:a,handleChange:h,name:"total",value:"Total",iconColor:"#4FB81D"}),Object(O.jsx)(Be,{checked:i,handleChange:h,name:"perDay",value:"Per day",iconColor:"#FF0000"})]})})]}),Object(O.jsx)(qe,{data:Re,xDataKey:"date",yDataKey:"impressions"})]})]})},dt=a(170),ut=function(e){var t=e.infoTitle,a=e.infoValue,r=e.bgColor,n=e.statChange,s=e.btnText;return Object(O.jsxs)("div",{className:"".concat(r," rounded-lg border-2 border-247-dark-text py-8 px-7 flex flex-col items-start justify-between"),children:[Object(O.jsx)("h4",{className:"text-white font-customRoboto font-medium text-xl",children:t}),Object(O.jsxs)("div",{className:"mt-4 flex items-center relative",children:[Object(O.jsx)("h2",{className:"font-customRoboto text-white text-3xl font-medium",children:a}),n&&(n>0?Object(O.jsx)(U.f,{className:"absolute left-48 text-247-increment-green",size:40}):Object(O.jsx)(U.e,{className:"absolute left-48 text-247-decrement-red",size:40}))]}),s&&Object(O.jsx)("button",{className:"text-lg font-semibold px-7 py-2 bg-white rounded mt-4",children:s})]})},bt="set_loading_state",jt="creating_advertiser",pt="set_create_error",mt="set_fetch_error",xt="set_fetch_by_id_error",ht="set_advertiser_list",gt="set_advertiser_size",Ot="set_single_advertiser",ft={fetch:mt,fetchById:xt,createAdvertiser:pt},vt=z((function(e,t){switch(t.type){case bt:return Object(m.a)(Object(m.a)({},e),{},{loading:t.payload});case mt:return Object(m.a)(Object(m.a)({},e),{},{fetchError:t.payload});case xt:return Object(m.a)(Object(m.a)({},e),{},{fetchByIdError:t.payload});case ht:return Object(m.a)(Object(m.a)({},e),{},{advertisers:t.payload});case gt:return Object(m.a)(Object(m.a)({},e),{},{advertiserSize:t.payload});case Ot:return Object(m.a)(Object(m.a)({},e),{},{advertiser:t.payload});case jt:return Object(m.a)(Object(m.a)({},e),{},{creatingAdvertiser:t.payload});case pt:return Object(m.a)(Object(m.a)({},e),{},{createAdvertiserError:t.payload});default:return e}}),{loading:!1,creatingAdvertiser:!1,fetchError:null,fetchByIdError:null,createAdvertiserError:null,advertisers:[],advertiserSize:0,advertiser:null},{fetchAdvertisers:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:bt,payload:!0}),e({type:mt,payload:null}),e({type:ht,payload:[]}),t.prev=3,t.next=6,F.get("/advertisers",{headers:{Authorization:"Bearer ".concat(ae())},params:Object(m.a)(Object(m.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 6:r=t.sent,e({type:ht,payload:r.data.advertisers}),e({type:gt,payload:r.data.size}),e({type:bt,payload:!1}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),t.t0.response?e({type:mt,payload:t.t0.response.data.message||"Unable to fetch advertisers. Something went wrong"}):e({type:mt,payload:"Unable to fetch advertisers. Something went wrong"}),e({type:bt,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},fetchAdvertiserById:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),e({type:bt,payload:!0}),e({type:xt,payload:null}),t.prev=3,t.next=6,F.get("/advertisers/".concat(a),{headers:{Authorization:"Bearer ".concat(ae())}});case 6:r=t.sent,e({type:Ot,payload:r.data}),e({type:bt,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),t.t0.response?e({type:xt,payload:t.t0.response.data.message||"Unable to fetch particular advertiser. Something went wrong"}):e({type:xt,payload:"Unable to fetch particular advertiser. Something went wrong"}),e({type:bt,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},createAdvertiser:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:jt,payload:!0}),e({type:pt,payload:null}),t.prev=2,t.next=5,F.post("/advertisers",a,{headers:{Authorization:"Bearer ".concat(ae())}});case 5:r=t.sent,console.log(r.data),e({type:jt,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:pt,payload:t.t0.response.data.message||"Unable to create advertiser. Something went wrong"}):e({type:pt,payload:"Unable to create advertiser. Something went wrong"}),e({type:jt,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:ft[t],payload:null})}}}),yt=vt.Context,Nt=vt.Provider,wt=function(e,t,a,n){var s=Object(r.useMemo)((function(){return e*t}),[e,t]),c=Object(r.useMemo)((function(){return s-t}),[s,t]),i=Object(r.useMemo)((function(){return a.slice(c,s)}),[c,s,a]),o=Math.ceil(n/t);return{currentList:i,indexOfFirstItem:c,indexOfLastItem:s,pages:o}},Ct=function(e){var t=e.headers,a=e.children,r=e.loadingData;return Object(O.jsxs)("table",{className:"font-customRoboto w-full text-white border-collapse relative",children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{className:"border border-247-dark-text bg-247-red-straight",children:t.map((function(e,t){return Object(O.jsx)("th",{className:k()("text-left","py-4","text-lg",{"px-2":0===t},{"px-6":0!==t}),children:e},"".concat(e,"_").concat(t))}))})}),Object(O.jsx)("tbody",{className:k()({"h-48":r}),children:a})]})},kt=a(71),St=function(e){var t=e.visibleRows,a=e.setActivePage,r=e.setVisibleRows,n=e.firstItem,s=e.pages,c=e.activePage,i=e.dataLength,o=e.lastItem;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("p",{className:"text-247-gray-accent2 mr-4 font-customRoboto text-base",children:"Show rows:"}),Object(O.jsxs)("select",{name:"rows",id:"rows",value:t,onChange:function(e){a(1),r(e.target.value)},className:"px-3 py-1 font-customRoboto text-247-gray-accent2 bg-transparent border-2 rounded-sm focus:outline-none focus:ring-1 border-247-dark-text",children:[Object(O.jsx)("option",{value:5,children:"5"}),Object(O.jsx)("option",{value:10,children:"10"}),Object(O.jsx)("option",{value:15,children:"15"})]})]}),Object(O.jsxs)("div",{className:"flex ml-16 items-center",children:[Object(O.jsx)("p",{className:"text-base text-247-gray-accent2",children:"".concat(n," - ").concat(s===c?i:o," of ").concat(i)}),Object(O.jsxs)("div",{className:"ml-3",children:[Object(O.jsx)("button",{onClick:1===c?null:function(){a(c-1)},className:"px-3 rounded-l-md py-1 border-2 border-247-dark-text",children:Object(O.jsx)(kt.a,{size:20,color:"#CACACA"})}),Object(O.jsx)("button",{onClick:s===c?null:function(){a(c+1)},className:"px-3 rounded-r-md py-1 border-2 border-l-0 border-247-dark-text",children:Object(O.jsx)(kt.b,{size:20,color:"#CACACA"})})]})]})]})},At=a(299),Dt=function(e){var t=e.title,a=e.subtitle;return Object(O.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(O.jsxs)("div",{className:"flex flex-col items-center",children:[Object(O.jsx)(At.a,{size:60,color:"#d1d1d1"}),Object(O.jsx)("h4",{className:"text-white font-semibold text-2xl mt-5",children:t}),Object(O.jsx)("p",{className:"mt-2 text-gray-300",children:a})]})})},It=function(e){var t=e.title,a=e.subtitle;return Object(O.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(O.jsxs)("div",{className:"flex flex-col items-center",children:[Object(O.jsx)(kt.c,{size:60,color:"#d1d1d1"}),Object(O.jsx)("h4",{className:"text-white font-semibold text-2xl mt-5",children:t}),Object(O.jsx)("p",{className:"mt-2 text-gray-300",children:a})]})})},zt=function(e){return e.campaigns.map((function(e){return e.campaignStat.adSpend})).reduce((function(e,t){return e+t}),0)},Tt=function(e){return e.campaigns.map((function(e){return e.campaignStat.impressions})).reduce((function(e,t){return e+t}),0)},Ft=["","Advertiser","No. of Campaigns","Total Impressions","Total Spend","Total Duration"],Mt=function(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1),c=Object(I.a)(s,2),o=c[0],l=c[1],d=Object(r.useState)(5),u=Object(I.a)(d,2),b=u[0],j=u[1],p=Object(i.g)(),x=Object(r.useContext)(yt),h=x.state,g=h.loading,f=h.advertisers,v=h.advertiserSize,y=h.fetchError,N=x.fetchAdvertisers,C=Object(r.useMemo)((function(){return{limit:b,skip:(o-1)*b}}),[b,o]);Object(r.useEffect)((function(){N(Object(m.a)({},C))}),[C]),console.log(f);var k=wt(o,b,f,v),A=k.indexOfFirstItem,D=k.indexOfLastItem,z=k.pages;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(ze,{pageTitle:"Advertisers",children:[Object(O.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"No. of Advertisers",infoValue:Qe(1291)}),Object(O.jsx)(ut,{bgColor:"bg-green-gradient",infoTitle:"Total Revenue",infoValue:Qe(1285e4,!0)}),Object(O.jsx)(ut,{bgColor:"bg-yellow-gradient",infoTitle:"Total Campaigns",infoValue:Qe(27009,!1,!0)})]}),Object(O.jsxs)("div",{className:"mt-16 rounded-md bg-black border-2 border-247-dark-text mb-10",children:[Object(O.jsxs)(Ct,{headers:Ft,loadingData:g,children:[g&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!g&&f.length>0&&f.map((function(e,t){var r=Tt(e),s=zt(e),c=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),r=Math.floor((t-3600*a)/60),n=t-3600*a-60*r,s=a<10?"0".concat(a):a,c=r<10?"0".concat(r):r,i=n<10?"0".concat(n):n;return"".concat(s,":").concat(c,":").concat(i)}(e.campaigns.map((function(e){return Object(dt.a)(new Date(e.duration[1]),new Date(e.duration[0]))})).reduce((function(e,t){return e+t}),0));return Object(O.jsxs)("tr",{onClick:function(t){t.target.closest(".toggle-check")||p.push({pathname:"/advertiser/".concat(e.advertiserId)})},className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(O.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(O.jsx)(Be,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),r=Object(w.a)(a);r.splice(t,1),n(r)}else n([].concat(Object(w.a)(a),[e]))}(t)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsx)("div",{className:"flex items-center",children:e.companyName})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center",children:[Number(e.campaigns.length).toLocaleString("en-US")," "]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(r).toLocaleString("en-US")}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(s).toLocaleString("en-NG",{currency:"NGN",style:"currency",minimumFractionDigits:2,maximumFractionDigits:2})}),Object(O.jsx)("td",{className:"px-6 py-5",children:c})]},e.id)}))]}),!g&&!y&&0===f.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!g&&y&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:y})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:f&&f.length>0&&Object(O.jsx)(St,{activePage:o,dataLength:v,firstItem:A+1,lastItem:D,pages:z,setActivePage:l,setVisibleRows:j,visibleRows:b})})]})})},Pt=a(112),Et=a.n(Pt),_t=function(e){var t=e.defaultFilters,a=e.filterList,r=e.activeFilter,n=e.setActiveFilter;return Object(O.jsx)("div",{className:"bg-247-tab-bg rounded-lg p-3",children:Object(O.jsx)("ul",{className:"flex text-white gap-3 text-lg",children:a.map((function(e){var a=e.label,s=e.id;return Object(O.jsx)("li",{children:Object(O.jsx)("button",{onClick:function(){s===t.status?n(void 0):n(s)},className:g()("py-1","px-2","rounded-md",{"bg-247-tab-bg":s!==r},{"bg-247-red-straight":s===r}),children:a})},s)}))})})},Lt=a(165),qt=a.n(Lt),Bt=function(e){var t=e.defaultFilters,a=e.statusFilters,n=e.typeFilters,s=e.selectedStatusFilter,c=e.setSelectedStatusFilter,i=e.selectedTypeFilter,o=e.setSelectedTypeFilter,l=e.startDate,d=e.endDate,u=e.setStartDate,b=e.setEndDate;return Object(r.useEffect)((function(){Ye()('button[name="campaign-daterange"]').daterangepicker({opens:"left",ranges:{"Last 7 Days":[Ze()().subtract(6,"days"),Ze()()],"Last 14 Days":[Ze()().subtract(13,"days"),Ze()()],"Last 30 Days":[Ze()().subtract(29,"days"),Ze()()],"Last 3 months":[Ze()().subtract(3,"M"),Ze()()],"Last 12 months":[Ze()().subtract(12,"M"),Ze()()],"Month to date":[Ze()().startOf("month"),Ze()()],"All time":[Ze()().subtract(2,"Y"),Ze()()]},startDate:l,endDate:d,alwaysShowCalendars:!0,applyButtonClasses:"range-apply-btn"},(function(e,t,a){u(e),b(t)}))}),[]),Object(O.jsxs)("div",{className:"flex pt-3 px-8 mb-3 items-stretch justify-between",children:[Object(O.jsx)(_t,{defaultFilters:t,filterList:a,activeFilter:s,setActiveFilter:c}),Object(O.jsx)("div",{className:"w-40 flex items-center bg-247-tab-bg justify-center rounded-lg",children:Object(O.jsx)("div",{className:"w-full",children:Object(O.jsx)(Oe,{standAlone:!0,options:n,value:qt()(n,{value:i}),handleChange:function(e){return e.value===t.type?o(void 0):o(e.value)},bgColor:"#222",borderColor:"#222"})})}),Object(O.jsxs)("button",{name:"campaign-daterange",className:"flex items-center bg-247-tab-bg p-4 rounded-lg text-white text-base font-semibold",children:[Object(O.jsx)(U.g,{size:20,className:"mr-3"}),"Set Date Filter"]})]})},Rt=[{label:"All",id:"all"},{label:"Active",id:"active"},{label:"Closed",id:"closed"},{label:"Paused",id:"paused"}],Ut=[{label:"All Types",value:"all"},{label:"Image",value:"image"},{label:"Video",value:"video"}],Vt=[{label:"All",id:"all"},{label:"Active",id:"approved"},{label:"Suspended",id:"suspended"},{label:"Pending",id:"pending"}],Wt=a(47),Qt=a.n(Wt),Gt=a(39),Ht=function(e){Object.assign({},e);return Object(O.jsxs)("div",{className:"py-10 h-full",children:[Object(O.jsxs)("div",{className:"grid grid-cols-3 space-x-4 mt-6",children:[Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"30vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"10vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},Kt=["","Campaign Name","Status","Advertiser","Impressions","Duration","Ad Spend"],Jt=Ze()().subtract(12,"M"),Yt=Ze()(),Xt=function(e){var t=e.advertiserName,a=e.goToPrevPage;return Object(O.jsxs)("div",{className:"flex items-center justify-between",children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("button",{onClick:a,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(O.jsx)(U.c,{color:"#f00",size:28})}),Object(O.jsx)("div",{className:"ml-14 flex items-center",children:Object(O.jsx)("h3",{className:"text-2xl text-247-gray font-semibold",children:t})})]}),Object(O.jsx)(X,{title:"Download report",icon:Object(O.jsx)(ve.b,{className:"mr-2",size:22}),onBtnClick:function(){return console.log("Handle report downloading")}})]})},Zt={status:"all",type:"all",startDate:Jt,endDate:Yt},$t=function(){var e=Object(i.g)(),t=Object(i.i)().advertiserId,a=Object(r.useState)(1),n=Object(I.a)(a,2),s=n[0],c=n[1],o=Object(r.useState)(5),l=Object(I.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)([]),j=Object(I.a)(b,2),p=j[0],x=j[1],h=rt("status",Zt.status),f=Object(I.a)(h,2),v=f[0],y=f[1],N=rt("type",Zt.type),C=Object(I.a)(N,2),k=C[0],A=C[1],D=st("startDate",Zt.startDate),z=Object(I.a)(D,2),T=z[0],F=z[1],M=st("endDate",Zt.endDate),P=Object(I.a)(M,2),E=P[0],_=P[1],L=Object(r.useContext)(yt),q=L.state,B=q.loading,R=q.advertiser,U=L.fetchAdvertiserById;Object(r.useEffect)((function(){U(t)}),[]);var V=Object(r.useMemo)((function(){if(R)return{totalAdSpend:zt(R),totalImpression:Tt(R)}}),[R]),W=Object(r.useMemo)((function(){return R?{status:v,type:k,advertiser:R.id,startDate:Object(Z.default)(T.toDate(),"yyyy/MM/dd"),endDate:Object(Z.default)(E.toDate(),"yyyy/MM/dd")}:{}}),[v,k,R,T,E]),Q=Object(r.useMemo)((function(){return{limit:d,skip:(s-1)*d}}),[d,s]),G=Object(r.useContext)(be),H=G.fetchCampaigns,K=G.state,J=K.loading,Y=K.campaignSize,X=K.campaigns,$=K.retrieveErrorMsg;Object(r.useEffect)((function(){if(R){var e=Et()(W,(function(e){return e&&"all"===e}));H(Object(m.a)(Object(m.a)({},e),Q))}}),[W,Q,R,T,E]);var ee=wt(s,d,X,Y),te=ee.indexOfFirstItem,ae=ee.indexOfLastItem,re=ee.pages;return B&&!R?Object(O.jsx)(S,{}):R&&Object(O.jsx)(ze,{customHeader:Object(O.jsx)(Xt,{goToPrevPage:function(){return e.push("/advertisers")},advertiserName:null===R||void 0===R?void 0:R.companyName}),children:B?Object(O.jsx)(Ht,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"mt-20 grid grid-cols-3 gap-6",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Total No. of Campaigns",infoValue:null===R||void 0===R?void 0:R.campaigns.length}),Object(O.jsx)(ut,{bgColor:"bg-green-gradient",infoTitle:"Total Spend",infoValue:Qe(V.totalAdSpend,!0)}),Object(O.jsx)(ut,{bgColor:"bg-yellow-gradient",infoTitle:"Total Impressions",infoValue:Qe(V.totalImpression,!1,!0)})]}),Object(O.jsxs)("div",{className:"mt-16 bg-black rounded-md border-2 border-247-dark-text mb-10",children:[Object(O.jsx)(Bt,{defaultFilters:Zt,setSelectedStatusFilter:y,setSelectedTypeFilter:A,selectedStatusFilter:v,selectedTypeFilter:k,statusFilters:Rt,typeFilters:Ut,startDate:T,endDate:E,setStartDate:F,setEndDate:_}),Object(O.jsxs)(Ct,{headers:Kt,loadingData:J,children:[J&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!J&&X.length>0&&X.map((function(e,t){return Object(O.jsxs)("tr",{className:p.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(O.jsx)("td",{className:"px-3 py-5",children:Object(O.jsx)(Be,{checked:!!p.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(p.includes(e)){var t=p.indexOf(e),a=Object(w.a)(p);a.splice(t,1),x(a)}else x([].concat(Object(w.a)(p),[e]))}(t)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsx)("div",{className:"flex items-center ",children:e.campaignName})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center gap-3",children:[Object(O.jsx)("div",{className:g()("rounded-full","w-4","h-4",{"bg-active-gradient":"active"===e.status},{"bg-closed-gradient":"closed"===e.status},{"bg-paused-gradient":"paused"===e.status})}),Qt()(e.status)]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:e.advertiser.companyName}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(e.campaignStat.impressions).toLocaleString("en-NG")}),Object(O.jsx)("td",{className:"px-6 py-5",children:10}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(e.campaignStat.adSpend).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},"campaign".concat(e.id))}))]}),!J&&!$&&0===X.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!J&&$&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:$})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:X&&X.length>0&&Object(O.jsx)(St,{activePage:s,dataLength:Y,firstItem:te+1,lastItem:ae,pages:re,setActivePage:c,setVisibleRows:u,visibleRows:d})})]})})},ea=function(e){var t=e.defaultFilters,a=e.statusFilters,r=e.selectedStatusFilter,n=e.setSelectedStatusFilter,s=e.navigateToPayoutRequests;return Object(O.jsxs)("div",{className:"flex pt-3 px-8 mb-3 items-center justify-between",children:[Object(O.jsx)(_t,{defaultFilters:t,filterList:a,activeFilter:r,setActiveFilter:n}),Object(O.jsx)(X,{title:"See payout requests",onBtnClick:s})]})},ta="fetching_drivers",aa="fetching_single_driver",ra="updating_status",na="set_fetch_drivers_error",sa="fetch_single_driver_error",ca="update_status_error",ia="set_drivers_list",oa="set_single_driver",la="set_drivers_list_size",da={fetchDrivers:na,fetchDriverById:sa,updateStatus:ca},ua=z((function(e,t){switch(t.type){case ta:return Object(m.a)(Object(m.a)({},e),{},{fetchingDrivers:t.payload});case aa:return Object(m.a)(Object(m.a)({},e),{},{fetchingSingleDriver:t.payload});case ra:return Object(m.a)(Object(m.a)({},e),{},{updatingDriverStatus:t.payload});case ca:return Object(m.a)(Object(m.a)({},e),{},{updateStatusError:t.payload});case sa:return Object(m.a)(Object(m.a)({},e),{},{fetchSingleDriverError:t.payload});case na:return Object(m.a)(Object(m.a)({},e),{},{fetchDriversError:t.payload});case oa:return Object(m.a)(Object(m.a)({},e),{},{driver:t.payload});case ia:return Object(m.a)(Object(m.a)({},e),{},{drivers:t.payload});case la:return Object(m.a)(Object(m.a)({},e),{},{driverListSize:t.payload});default:return e}}),{fetchingDrivers:!1,fetchingSingleDriver:!1,updatingDriverStatus:!1,drivers:[],driver:null,fetchDriversError:null,fetchSingleDriverError:null,updateStatusError:null,driverListSize:0},{fetchDrivers:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ta,payload:!0}),e({type:na,payload:null}),t.prev=2,t.next=5,F.get("/drivers",{headers:{Authorization:"Bearer ".concat(ae())},params:Object(m.a)(Object(m.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:r=t.sent,e({type:ia,payload:r.data.drivers}),e({type:la,payload:r.data.size}),e({type:ta,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:na,payload:t.t0.response.data.message||"Unable to fetch drivers. Something went wrong"}):e({type:na,payload:"Unable to fetch drivers. Something went wrong"}),e({type:ta,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchDriverById:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:aa,payload:!0}),e({type:sa,payload:null}),t.prev=2,t.next=5,F.get("/driver/".concat(a),{headers:{Authorization:"Bearer ".concat(ae())}});case 5:r=t.sent,e({type:oa,payload:r.data.driver}),e({type:aa,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:sa,payload:t.t0.response.data.message||"Unable to fetch driver. Something went wrong"}):e({type:sa,payload:"Unable to fetch driver. Something went wrong"}),e({type:aa,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},updateDriverStatus:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r,n){var s;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ra,payload:!0}),e({type:ca,payload:null}),t.prev=2,t.next=5,F.patch("/driver/change-status?driver=".concat(a),{status:r},{headers:{Authorization:"Bearer ".concat(ae())}});case 5:s=t.sent,console.log(s),n&&n(),e({type:ra,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:ca,payload:t.t0.response.data.message||"Unable to update driver status. Something went wrong"}):e({type:ca,payload:"Unable to update driver status. Something went wrong"}),e({type:ra,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a,r){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:da[t],payload:null})}}}),ba=ua.Context,ja=ua.Provider,pa=["","Driver","Status","Location","Total Trips","Total Earnings","Pending Payout"],ma={status:"all"},xa=function(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1),c=Object(I.a)(s,2),o=c[0],l=c[1],d=Object(r.useState)(5),u=Object(I.a)(d,2),b=u[0],j=u[1],p=rt("status",ma.status),x=Object(I.a)(p,2),h=x[0],g=x[1],f=Object(r.useMemo)((function(){return{status:h}}),[h]),v=Object(r.useMemo)((function(){return{limit:b,skip:(o-1)*b}}),[b,o]),y=Object(r.useContext)(ba),N=y.state,C=N.fetchingDrivers,A=N.drivers,D=N.fetchDriversError,z=N.driverListSize,T=y.fetchDrivers;Object(r.useEffect)((function(){var e=Et()(f,(function(e){return e&&"all"===e}));T(Object(m.a)(Object(m.a)({},e),v))}),[f,v]),console.log(A);var F=wt(o,b,A,z),M=F.indexOfFirstItem,P=F.indexOfLastItem,E=F.pages,_=Object(i.g)();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)(ze,{pageTitle:"Drivers",children:[Object(O.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Total No. of Drivers",infoValue:Qe(800,!1,!0)}),Object(O.jsx)(ut,{bgColor:"bg-green-gradient",infoTitle:"Settled Payout",infoValue:Qe(820557.45,!0,!0)}),Object(O.jsx)(ut,{bgColor:"bg-yellow-gradient",infoTitle:"Pending Payout",infoValue:Qe(123760.87,!0,!0)})]}),Object(O.jsxs)("div",{className:"mt-10 bg-247-secondary rounded-md border-2 border-247-dark-text mb-10",children:[Object(O.jsx)(ea,{defaultFilters:ma,selectedStatusFilter:h,setSelectedStatusFilter:g,statusFilters:Vt,navigateToPayoutRequests:function(){return _.push("/pending-payouts")}}),Object(O.jsxs)(Ct,{headers:pa,loadingData:C,children:[C&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!C&&A.length>0&&A.map((function(e,t){return Object(O.jsxs)("tr",{onClick:function(t){t.target.closest(".toggle-check")||_.push({pathname:"/driver/".concat(e.id.toLowerCase())})},className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(O.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(O.jsx)(Be,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),r=Object(w.a)(a);r.splice(t,1),n(r)}else n([].concat(Object(w.a)(a),[e]))}(t)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{children:[e.name,Object(O.jsx)("span",{className:"block text-sm font-light",children:e.email})]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center gap-3",children:[Object(O.jsx)("div",{className:k()("rounded-full","w-4","h-4",{"bg-active-gradient":"approved"===e.status},{"bg-closed-gradient":"suspended"===e.status},{"bg-paused-gradient":"pending"===e.status})}),Qt()("approved"===e.status?"active":e.status)]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:e.city}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(276,!1,!0)}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(76560,!0,!0)}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(0,!0,!0)})]},"driver_".concat(e.id))}))]}),!C&&!D&&0===A.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!C&&D&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:D})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:A&&A.length>0&&Object(O.jsx)(St,{activePage:o,dataLength:z,firstItem:M+1,lastItem:P,pages:E,setActivePage:l,setVisibleRows:j,visibleRows:b})})]})})},ha=a(300),ga=function(e){var t=e.label,a=e.value,r=e.last,n=e.valueColor;return Object(O.jsxs)("div",{className:k()("text-white",{"mb-7":!r}),children:[Object(O.jsx)("h5",{className:"text-base font-light mb-2",children:t}),Object(O.jsx)("h3",{className:"text-xl font-medium",style:n&&{color:n},children:a})]})},Oa=function(e){var t=e.open,a=e.setOpen,r=e.icon,n=e.text,s=e.handleConfirmation,c=e.processingConfirm;return Object(O.jsx)(te,{modalOpen:t,setModalOpen:a,children:Object(O.jsxs)("div",{className:"text-center",children:[Object(O.jsx)("div",{className:"mx-auto inline-block",children:r}),Object(O.jsx)("p",{className:"text-white text-2xl mt-5 font-medium",children:n}),Object(O.jsxs)("div",{className:"flex items-center justify-center mt-6 gap-7",children:[Object(O.jsx)("button",{onClick:s,className:"text-white bg-247-red-straight px-5 py-2 rounded-md font-medium text-base",children:c?Object(O.jsx)(S,{}):"Yes"}),Object(O.jsx)("button",{onClick:function(){return a(!1)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"No"})]})]})})},fa=function(e){var t,a,n,s,c,i,o,l,d=e.isOpen,u=e.setIsOpen,b=e.isEdit,j=e.editData,p=e.submitAction,m=L.b({firstName:L.c().required("First name is required"),lastName:L.c().required("Last name is required"),emailAddress:L.c().email("Enter a valid email address").required("Email is required"),phoneNumber:L.c().length(11).required("Phone number is required"),favouriteMeal:L.c().required("Required field"),hobby:L.c().required("Required field"),askMeAbout:L.c().required("Required field"),vacationSpot:L.c().required("Required field")}),x=Object(N.e)({resolver:Object(_.a)(m)}),h=x.handleSubmit,g=x.formState.errors,v=x.register,y=x.reset;return Object(r.useEffect)((function(){y(j)}),[j]),Object(O.jsxs)(te,{modalOpen:d,setModalOpen:u,width:704,children:[Object(O.jsx)("h2",{className:"text-white text-center text-2xl font-semibold",children:"Edit Contact Info"}),Object(O.jsxs)("form",{className:"mt-10",onSubmit:h(p),children:[Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"First Name",darkMode:!0,placeholder:"enter first name",type:"text",registerFn:v,name:"firstName",errorText:null===(t=g.firstName)||void 0===t?void 0:t.message}),Object(O.jsx)(f,{label:"Last Name",darkMode:!0,placeholder:"enter last name",type:"text",registerFn:v,name:"lastName",errorText:null===(a=g.lastName)||void 0===a?void 0:a.message})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Email Address",darkMode:!0,placeholder:"enter email address",type:"text",registerFn:v,name:"emailAddress",errorText:null===(n=g.emailAddress)||void 0===n?void 0:n.message}),Object(O.jsx)(f,{label:"Phone Number",darkMode:!0,placeholder:"enter phone number",type:"text",registerFn:v,name:"phoneNumber",errorText:null===(s=g.phoneNumber)||void 0===s?void 0:s.message})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Favourite Meal",darkMode:!0,placeholder:"enter favourite meal",type:"text",registerFn:v,name:"favouriteMeal",errorText:null===(c=g.favouriteMeal)||void 0===c?void 0:c.message}),Object(O.jsx)(f,{label:"Hobby",darkMode:!0,placeholder:"enter hobby",type:"text",registerFn:v,name:"hobby",errorText:null===(i=g.hobby)||void 0===i?void 0:i.message})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Ask Me About",darkMode:!0,placeholder:"what are you passionate about?",type:"text",registerFn:v,name:"askMeAbout",errorText:null===(o=g.askMeAbout)||void 0===o?void 0:o.message}),Object(O.jsx)(f,{label:"Vacation Spot",darkMode:!0,placeholder:"enter your vacation spot",type:"text",registerFn:v,name:"vacationSpot",errorText:null===(l=g.vacationSpot)||void 0===l?void 0:l.message})]}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,children:b?"Save Changes":"Create New Driver"})]})]})},va=[{amount:24567,date:"Oct. 11, 2021 | 12:50:32",status:"pending"},{amount:65450,date:"Apr. 11, 2021 | 08:10:32",status:"success"},{amount:74537,date:"Mar. 11, 2021 | 11:50:32",status:"success"},{amount:165450,date:"Feb. 05, 2021 | 08:34:32",status:"success"},{amount:35450,date:"Jan. 03, 2021 | 11:34:32",status:"success"}],ya=function(e){var t=e.isOpen,a=e.setIsOpen;return Object(O.jsxs)(te,{modalOpen:t,setModalOpen:a,children:[Object(O.jsx)("h2",{className:"text-white text-center text-2xl font-semibold",children:"Payout History"}),Object(O.jsx)("div",{className:"mt-14 w-full",children:Object(O.jsx)("ul",{children:va.map((function(e){return Object(O.jsx)("li",{className:"odd:bg-247-dark-accent3 even:bg-black first:rounded-t-lg last:rounded-b-lg",children:Object(O.jsxs)("div",{className:"py-4 px-7 grid grid-cols-4 items-center gap-4 ",children:[Object(O.jsxs)("div",{className:"col-span-2",children:[Object(O.jsx)("h4",{className:"text-white text-base font-semibold",children:Qe(e.amount,!0,!0)}),Object(O.jsx)("p",{className:"text-247-timestamp-color text-sm font-semibold",children:e.date})]}),Object(O.jsx)("div",{className:"col-span-1",children:Object(O.jsx)("button",{className:k()("text-base","px-4","py-2","rounded","text-white","bg-247-red-straight","disabled:bg-247-inactive-btn","disabled:cursor-not-allowed"),disabled:"success"===e.status,children:"Settle"})}),Object(O.jsx)("div",{className:"col-span-1",children:Object(O.jsx)("p",{className:k()("text-base","font-bold",{"text-247-red-straight":"pending"===e.status},{"text-247-increment-green":"success"===e.status}),children:Qt()(e.status)})})]})})}))})}),Object(O.jsxs)("div",{className:"flex items-center justify-between mt-9",children:[Object(O.jsx)("button",{onClick:function(){return a(!1)},className:"text-base text-white font-semibold py-3 px-5 rounded bg-247-red-straight",children:"Close"}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){return console.log("go to previous page...")},className:"px-3 rounded-l-md py-1 border-2 border-247-dark-text",children:Object(O.jsx)(kt.a,{size:20,color:"#CACACA"})}),Object(O.jsx)("button",{onClick:function(){return console.log("go to next page...")},className:"px-3 rounded-r-md py-1 border-2 border-l-0 border-247-dark-text",children:Object(O.jsx)(kt.b,{size:20,color:"#CACACA"})})]})]})]})},Na=function(e){Object.assign({},e);return Object(O.jsxs)("div",{className:"py-10 h-full",children:[Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"35vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},wa={approved:{title:"Suspend Account",icon:Object(O.jsx)(W.c,{className:"mr-2",size:22}),action:"suspend"},pending:{title:"Activate Account",icon:Object(O.jsx)(ve.a,{className:"mr-2",size:22}),action:"activate"},suspended:{title:"Reactivate Account",icon:Object(O.jsx)(kt.d,{className:"mr-2",size:22}),action:"reactivate"}},Ca=function(e){var t=e.goToPrevPage,a=e.name,r=e.status,n=e.accountAction,s=e.createdDate,c=e.loadingState;return Object(O.jsxs)("div",{className:"flex items-center justify-between",children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("button",{onClick:t,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(O.jsx)(U.c,{color:"#f00",size:28})}),Object(O.jsxs)("div",{className:"ml-14",children:[Object(O.jsx)("h3",{className:"text-white text-2xl font-semibold",children:a}),Object(O.jsxs)("p",{className:"text-white font-normal text-sm",children:["Date created: ",s]})]}),Object(O.jsx)("div",{className:k()("flex","items-center","justify-center","ml-10","py-1","px-4","rounded-md",{"bg-active-gradient":"approved"===r},{"bg-closed-gradient":"suspended"===r},{"bg-paused-gradient":"pending"===r}),children:Object(O.jsx)("p",{className:"text-white font-medium text-lg",children:Qt()(r)})})]}),Object(O.jsx)(X,{title:wa[r].title,icon:wa[r].icon,onBtnClick:function(){return n(wa[r].action)},isLoading:c})]})},ka={suspend:"suspended",activate:"approved",reactivate:"approved"},Sa=function(){var e,t,a,n,s,c,o,l=Object(i.g)(),d=Object(i.i)().driverId,u=Object(r.useState)(!1),b=Object(I.a)(u,2),m=b[0],x=b[1],h=Object(r.useState)(!1),g=Object(I.a)(h,2),f=g[0],v=g[1],y=Object(r.useState)({open:!1,action:null}),N=Object(I.a)(y,2),w=N[0],C=N[1],k=Object(r.useContext)(ba),A=k.state,D=A.fetchingSingleDriver,z=A.driver,T=A.updatingDriverStatus,F=A.updateStatusError,M=k.fetchDriverById,P=k.updateDriverStatus,E=k.clearError;Object(r.useEffect)((function(){M(d)}),[]),Ce(F,E);var _=function(){return B.b.success("Driver is ".concat(ka[w.action]," successfully!")),M(d)},L={suspend:{confirmText:"Are you sure you want to suspend this account?",action:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("suspending..."),e.next=3,P(d,ka[w.action],_);case 3:C({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},activate:{confirmText:"Are you sure you want to activate this account?",action:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("activating..."),e.next=3,P(d,ka[w.action],_);case 3:C({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},reactivate:{confirmText:"Are you sure you want to reactivate this account?",action:function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reactivating..."),e.next=3,P(d,ka[w.action],_);case 3:C({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}},q={firstName:null===z||void 0===z||null===(e=z.name)||void 0===e?void 0:e.split(" ")[0],lastName:null===z||void 0===z||null===(t=z.name)||void 0===t?void 0:t.split(" ")[1],emailAddress:null===z||void 0===z?void 0:z.email,phoneNumber:(null===z||void 0===z?void 0:z.phoneNumber)?"0".concat(z.phoneNumber):"",favouriteMeal:null===z||void 0===z||null===(a=z.extraInfo)||void 0===a?void 0:a.favouriteMeal,hobby:null===z||void 0===z||null===(n=z.extraInfo)||void 0===n?void 0:n.favouriteHobby,askMeAbout:null===z||void 0===z||null===(s=z.extraInfo)||void 0===s?void 0:s.askMeAbout,vacationSpot:null===z||void 0===z?void 0:z.extraInfo.vacationSpot},R=Object(r.useMemo)((function(){return(null===z||void 0===z?void 0:z.createdAt)?Object(Z.default)(new Date(z.createdAt),"dd/MM/yyyy"):"12/12/2021"}),[z]);return D&&!z?Object(O.jsx)(S,{}):z&&Object(O.jsxs)(ze,{customHeader:Object(O.jsx)(Ca,{goToPrevPage:function(){return l.push("/drivers")},name:z.name,status:z.status,accountAction:function(e){C({open:!0,action:e})},createdDate:R,loadingState:T}),children:[D?Object(O.jsx)(Na,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"w-full mt-20 rounded-lg bg-247-campaign-preview",children:[Object(O.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(O.jsx)("h4",{className:"text-white text-xl font-medium",children:"Personal Info"}),Object(O.jsx)("button",{onClick:function(){return v(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"Edit Info"})]}),Object(O.jsxs)("div",{className:"flex py-5 px-6",children:[Object(O.jsx)("img",{src:z.profilePhoto,alt:"profile",className:"h-full drop-shadow-sm w-full object-cover rounded-md",style:{maxWidth:"300px",maxHeight:"300px"}}),Object(O.jsx)("div",{className:"border-l border-white ml-14"}),Object(O.jsxs)("div",{className:"w-full flex justify-around pt-2",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(ga,{label:"First name",value:z.name.split(" ")[0]}),Object(O.jsx)(ga,{label:"Phone Number",value:"0".concat(z.phoneNumber)}),Object(O.jsx)(ga,{label:"Hobby",value:z.extraInfo.favouriteHobby}),Object(O.jsx)(ga,{label:"Date Created",value:R,last:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(ga,{label:"Last name",value:z.name.split(" ")[1]}),Object(O.jsx)(ga,{label:"City",value:z.city}),Object(O.jsx)(ga,{label:"Ask me about",value:z.extraInfo.askMeAbout}),Object(O.jsx)(ga,{label:"ID Type",value:"Drivers License",last:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(ga,{label:"Email Address",value:z.email}),Object(O.jsx)(ga,{label:"Favourite Meal",value:z.extraInfo.favouriteMeal}),Object(O.jsx)(ga,{label:"Vacation Spot",value:z.extraInfo.vacationSpot}),Object(O.jsx)(ga,{label:"ID Upload",value:"mydl.png"})]})]})]})]}),Object(O.jsxs)("div",{className:"w-full mt-14 mb-24 rounded-lg bg-247-campaign-preview",children:[Object(O.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(O.jsx)("h4",{className:"text-white text-xl font-medium",children:"Earnings"}),Object(O.jsx)("button",{onClick:function(){return x(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"Payout History"})]}),Object(O.jsxs)("div",{className:"grid grid-cols-3 gap-6 pt-16 pb-5 px-6",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Today's Earning",infoValue:Qe(4557.45,!0,!0)}),Object(O.jsx)(ut,{bgColor:"bg-green-gradient",infoTitle:"Total Earning",infoValue:Qe(147557.45,!0,!0)}),Object(O.jsx)(ut,{bgColor:"bg-yellow-gradient",infoTitle:"Pending Payout",infoValue:Qe(20800.45,!0,!0),btnText:"Settle"})]})]})]}),Object(O.jsx)(Oa,{open:w.open,setOpen:C,text:null===(c=L[null===w||void 0===w?void 0:w.action])||void 0===c?void 0:c.confirmText,icon:Object(O.jsx)(ha.a,{size:28,color:"#fff"}),handleConfirmation:null===(o=L[null===w||void 0===w?void 0:w.action])||void 0===o?void 0:o.action}),Object(O.jsx)(fa,{isOpen:f,setIsOpen:v,isEdit:!0,editData:q,submitAction:function(e){console.log(e,"Editing driver info...")}}),Object(O.jsx)(ya,{isOpen:m,setIsOpen:x})]})},Aa=a(305),Da=function(e,t){return Object(Aa.a)(new Date(e),new Date(t))},Ia=["","Campaign Name","Status","Advertiser","Impressions","Duration","Ad Spend"],za={status:"all",type:"all",startDate:Ze()().subtract(12,"M"),endDate:Ze()()},Ta=function(){var e=Object(r.useState)(1),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(5),c=Object(I.a)(s,2),o=c[0],l=c[1],d=Object(r.useState)([]),u=Object(I.a)(d,2),b=u[0],j=u[1],p=Object(i.g)(),x=rt("status",za.status),h=Object(I.a)(x,2),g=h[0],f=h[1],v=rt("type",za.type),y=Object(I.a)(v,2),N=y[0],C=y[1],A=st("startDate",za.startDate),D=Object(I.a)(A,2),z=D[0],T=D[1],F=st("endDate",za.endDate),M=Object(I.a)(F,2),P=M[0],E=M[1],_=Object(r.useMemo)((function(){return{status:g,type:N,startDate:Object(Z.default)(z.toDate(),"yyyy/MM/dd"),endDate:Object(Z.default)(P.toDate(),"yyyy/MM/dd")}}),[g,N,z,P]),L=Object(r.useMemo)((function(){return{limit:o,skip:(a-1)*o}}),[o,a]),q=Object(r.useContext)(be),B=q.fetchCampaigns,R=q.state,U=R.loading,V=R.campaigns,W=R.campaignSize,Q=R.retrieveErrorMsg;Object(r.useEffect)((function(){var e=Et()(_,(function(e){return e&&"all"===e}));B(Object(m.a)(Object(m.a)({},e),L))}),[_,L]);var G=wt(a,o,V,W),H=G.indexOfFirstItem,K=G.indexOfLastItem,J=G.pages;return Object(O.jsxs)(ze,{children:[Object(O.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Total Revenue",infoValue:Qe(1285e4,!0),statChange:2.4}),Object(O.jsx)(ut,{infoTitle:"Active Campaigns",infoValue:Qe(5500),bgColor:"bg-green-gradient",statChange:-2.5}),Object(O.jsx)(ut,{infoTitle:"Total Campaigns",infoValue:Qe(1200),bgColor:"bg-yellow-gradient",statChange:2.4})]}),Object(O.jsxs)("div",{className:"mt-16 bg-black rounded-md border-2 border-247-dark-text mb-10",children:[Object(O.jsx)(Bt,{defaultFilters:za,setSelectedStatusFilter:f,setSelectedTypeFilter:C,selectedStatusFilter:g,selectedTypeFilter:N,statusFilters:Rt,typeFilters:Ut,startDate:z,endDate:P,setStartDate:T,setEndDate:E}),Object(O.jsxs)(Ct,{headers:Ia,loadingData:U,children:[U&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!U&&V.length>0&&V.map((function(e,t){var a=Da(e.duration[1],e.duration[0]);return Object(O.jsxs)("tr",{className:b.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",onClick:function(t){t.target.closest(".toggle-check")||p.push({pathname:"/campaign/".concat(e.campaignID)})},children:[Object(O.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(O.jsx)(Be,{checked:!!b.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(e){!function(e){if(b.includes(e)){var t=b.indexOf(e),a=Object(w.a)(b);a.splice(t,1),j(a)}else j([].concat(Object(w.a)(b),[e]))}(t)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsx)("div",{className:"flex items-center ",children:e.campaignName})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center gap-3",children:[Object(O.jsx)("div",{className:k()("rounded-full","w-4","h-4",{"bg-active-gradient":"active"===e.status},{"bg-closed-gradient":"closed"===e.status},{"bg-paused-gradient":"paused"===e.status})}),Qt()(e.status)]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:e.advertiser.companyName}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(e.campaignStat.impressions).toLocaleString("en-NG")}),Object(O.jsx)("td",{className:"px-6 py-5",children:a}),Object(O.jsx)("td",{className:"px-6 py-5",children:Number(e.adBudget).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},"campaign".concat(e.campaignID))}))]}),!U&&!Q&&0===V.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!U&&Q&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:Q})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:V&&V.length>0&&Object(O.jsx)(St,{activePage:a,dataLength:W,firstItem:H+1,lastItem:K,pages:J,setActivePage:n,setVisibleRows:l,visibleRows:o})})]})},Fa=function(e){var t=e.data,a=e.impressionDataKey,r=e.interactionsDataKey,n=e.xDataKey;return Object(O.jsx)(Te.a,{width:"100%",height:360,children:Object(O.jsxs)(Fe.a,{data:t,margin:{top:5,right:20,bottom:5,left:0},children:[Object(O.jsx)(Pe.a,{stroke:"#4d4d4d",strokeDasharray:"5 5"}),Object(O.jsx)(Me.a,{type:"monotone",dataKey:a,stroke:"#FF0000"}),Object(O.jsx)(Me.a,{type:"monotone",dataKey:r,stroke:"#4FB81D"}),Object(O.jsx)(_e.a,{axisLine:!1}),Object(O.jsx)(Ee.a,{dataKey:n}),Object(O.jsx)(Le.a,{})]})})},Ma=function(e){Object.assign({},e);return Object(O.jsxs)("div",{className:"py-10 h-full",children:[Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"30vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsxs)("div",{className:"grid grid-cols-3 space-x-4 mt-6",children:[Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{children:Object(O.jsx)(Gt.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"10vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(O.jsx)("div",{className:"mt-6",children:Object(O.jsx)(Gt.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},Pa=function(e){var t=e.handleTerminateClick,a=e.campaignName,r=e.campaignId,n=e.goToPrevPage;return Object(O.jsxs)("div",{className:"flex items-center justify-between",children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("button",{onClick:n,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(O.jsx)(U.c,{color:"#f00",size:28})}),Object(O.jsxs)("div",{className:"ml-14 flex items-center",children:[Object(O.jsx)("h3",{className:"text-2xl text-247-gray font-semibold",children:a}),Object(O.jsx)("span",{className:"bg-247-dark-text text-247-gray-accent2 px-3 py-1 text-xl rounded-md ml-8",children:r})]})]}),Object(O.jsx)(X,{title:"Terminate",icon:Object(O.jsx)(W.c,{className:"mr-2",size:22}),onBtnClick:t})]})},Ea={active:"#028307",paused:"#EC5500",closed:"#E20000"},_a=function(){var e,t=Object(r.useState)(!1),a=Object(I.a)(t,2),n=a[0],s=a[1],c=Object(r.useState)(!1),o=Object(I.a)(c,2),l=o[0],d=o[1],u=Object(i.i)().campaignId,b=Object(r.useContext)(be),j=b.state,p=j.loading,m=j.campaign,x=b.fetchCampaignById;Object(r.useEffect)((function(){x(u)}),[]);var h=Object(i.g)(),g={campaignName:null===m||void 0===m?void 0:m.campaignName,advertiserName:null===m||void 0===m?void 0:m.advertiser.companyName,adBudget:null===m||void 0===m?void 0:m.adBudget,adType:{label:"Video",value:"video"}},f=Object(r.useMemo)((function(){return m&&Da(m.duration[1],m.duration[0])}),[m]);return m&&Object(O.jsx)(ze,{customHeader:Object(O.jsx)(Pa,{campaignId:null===m||void 0===m?void 0:m.campaignID,campaignName:null===m||void 0===m?void 0:m.campaignName,handleTerminateClick:function(){return s(!0)},goToPrevPage:function(){return h.push("/campaigns")}}),children:p?Object(O.jsx)(Ma,{}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"w-full mt-20 rounded-lg bg-247-campaign-preview",children:[Object(O.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(O.jsx)("h4",{className:"text-white text-xl font-medium",children:"Campaign Information"}),Object(O.jsx)("button",{onClick:function(){return d(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"Edit Campaign"})]}),Object(O.jsxs)("div",{className:"flex py-5 px-6",children:[Object(O.jsx)("img",{src:m.videoThumbnail,alt:"video ad",className:"h-64 drop-shadow-sm w-full object-cover rounded-md",style:{maxWidth:"450px"}}),Object(O.jsx)("div",{className:"border-l border-white ml-14"}),Object(O.jsxs)("div",{className:"w-full flex justify-around pt-2",children:[Object(O.jsxs)("div",{children:[Object(O.jsx)(ga,{label:"Campaign name",value:null===m||void 0===m?void 0:m.campaignName}),Object(O.jsx)(ga,{label:"Advertiser",value:null===m||void 0===m||null===(e=m.advertiser)||void 0===e?void 0:e.companyName}),Object(O.jsx)(ga,{label:"Ad Type",value:Qt()(null===m||void 0===m?void 0:m.adType),last:!0})]}),Object(O.jsxs)("div",{children:[Object(O.jsx)(ga,{label:"Ad Spend",value:Number(null===m||void 0===m?void 0:m.adBudget).toLocaleString("en-NG",{currency:"NGN",style:"currency"})}),Object(O.jsx)(ga,{label:"Duration",value:f}),Object(O.jsx)(ga,{label:"Status",value:Qt()(null===m||void 0===m?void 0:m.status),valueColor:Ea[null===m||void 0===m?void 0:m.status],last:!0})]})]})]})]}),Object(O.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-14",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Campaign Playtime",infoValue:"25:06:32"}),Object(O.jsx)(ut,{infoTitle:"Total Impressions",infoValue:Qe(27009,!1,!0),bgColor:"bg-green-gradient"}),Object(O.jsx)(ut,{infoTitle:"Amount Spent",infoValue:Qe(null===m||void 0===m?void 0:m.adBudget,!0,!0),bgColor:"bg-yellow-gradient"})]}),Object(O.jsxs)("div",{className:"w-full mb-32 bg-247-campaign-preview rounded-xl mt-14 px-9 py-8",children:[Object(O.jsxs)("div",{className:"flex items-center justify-between mb-14",children:[Object(O.jsx)("h3",{className:"text-3xl text-247-gray-accent2 font-medium",children:"Campaign Analytics"}),Object(O.jsxs)("div",{className:"flex gap-10",children:[Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-247-red-straight"}),Object(O.jsx)("label",{className:"text-247-gray-accent2 text-2xl ml-4",children:"Impressions"})]}),Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-247-green"}),Object(O.jsx)("label",{className:"text-247-gray-accent2 text-2xl ml-4",children:"Interactions"})]})]})]}),Object(O.jsx)(Fa,{data:Re,interactionsDataKey:"interactions",impressionDataKey:"impressions",xDataKey:"date"})]}),Object(O.jsx)(Oa,{open:n,setOpen:s,text:"Are you sure you want to terminate this ad?",icon:Object(O.jsx)(K.b,{size:28,color:"#fff"}),handleConfirmation:function(){console.log("Terminating"),s(!1)}}),Object(O.jsx)(De,{modalIsOpen:l,setIsOpen:d,modalWidth:704,editData:g,isEdit:!0})]})})},La=function(e){var t=e.name;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("textarea",{className:"bg-transparent border-2 border-247-dark-text w-2/3 rounded-md px-6 py-4 text-white text-lg focus:outline-none focus:ring-1",placeholder:"Write a message...",name:t,id:t,cols:"30",rows:"10"})})},qa=function(e){var t=e.btnValue,a=e.clickFn,r=e.active;return Object(O.jsx)("div",{className:"w-36 cursor-pointer text-xl flex justify-center items-center rounded-md border border-247-dark-text text-247-gray-accent2 py-2 ".concat(r?"bg-247-gray-accent3":"bg-transparent"),onClick:a,children:t})},Ba=function(){var e=Object(r.useState)("all"),t=Object(I.a)(e,2),a=t[0],n=t[1],s=function(e){n(e)};return Object(O.jsxs)(ze,{pageTitle:"Send Notifs",children:[Object(O.jsxs)("div",{className:"mt-16 flex items-center gap-5",children:[Object(O.jsx)(qa,{btnValue:"All",active:"all"===a,clickFn:function(){return s("all")}}),Object(O.jsx)(qa,{btnValue:"Advertisers",active:"advertisers"===a,clickFn:function(){return s("advertisers")}}),Object(O.jsx)(qa,{btnValue:"Drivers",active:"drivers"===a,clickFn:function(){return s("drivers")}})]}),Object(O.jsxs)("div",{className:"mt-14",children:[Object(O.jsx)(La,{name:"notif-text"}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-10"],children:"Send Notification"})]})]})},Ra=function(e){var t,a,r=e.isOpen,n=e.setIsOpen,s=e.handleUpload,c=e.setMediaItem,i=e.setMediaDuration,o=e.creatingContent,l=L.b({title:L.c().required("Title is required"),category:L.c().required("Category is required")}),d=Object(N.e)({resolver:Object(_.a)(l)}),u=d.handleSubmit,b=d.formState.errors,j=d.register;return Object(O.jsxs)(te,{modalOpen:r,setModalOpen:n,width:704,children:[Object(O.jsx)("h2",{className:"text-white text-2xl font-semibold text-center",children:"Upload Content"}),Object(O.jsxs)("form",{className:"mt-10",onSubmit:u(s),children:[Object(O.jsx)(f,{label:"Title",darkMode:!0,placeholder:"enter title",type:"string",registerFn:j,name:"title",errorText:null===(t=b.title)||void 0===t?void 0:t.message}),Object(O.jsx)(f,{label:"Category",darkMode:!0,placeholder:"enter category",type:"string",registerFn:j,name:"category",errorText:null===(a=b.category)||void 0===a?void 0:a.message}),Object(O.jsx)(we,{label:"Upload Content",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);c(t)},accepts:".mp4",setDuration:i}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:o,children:"Upload"})]})]})},Ua=a(168),Va=a.n(Ua),Wa=a(301),Qa=a.n(Wa),Ga=Y(Object(r.forwardRef)((function(e,t){var a=e.setConfirmItemDelete,r=e.setCurrentItem,n=e.removeItemFromPlaylist,s=e.addItemToPlaylist,c=e.contentItem,i=e.index,o=e.checkedItems,l=e.toggleItemCheck,d=e.hideAction,u=e.smallText,b=e.open,j=e.setOpen,p=[{name:"Delete content",action:function(e){j(!1),r(e),a(!0)}},"not-live"===c.status&&{name:"Add to live playlist",action:function(e){j(!1),s(e)}},"live"===c.status&&{name:"Remove from live playlist",action:function(e){j(!1),n(e)}}];return Object(O.jsxs)("tr",{className:k()("border","border-247-dark-text","hover:bg-gray-700",{"bg-gray-700":o.includes(i)},{"odd:bg-247-dark-accent3":!o.includes(i)},{"text-lg":!u},{"text-sm":u}),children:[Object(O.jsx)("td",{className:"px-3 py-5",children:Object(O.jsx)(Be,{checked:!!o.includes(i),iconColor:"#CACACA",name:c.title.toLowerCase(),handleChange:function(){return l(i)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("img",{src:c.previewUri,className:"h-14 w-24 object-cover rounded",alt:"content thumbnail"}),Object(O.jsxs)("div",{className:"ml-4",children:[Object(O.jsx)("p",{children:c.title}),Object(O.jsx)("p",{className:"text-sm text-247-timestamp-color font-semibold",children:c.type})]})]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:c.duration}),Object(O.jsx)("td",{className:"px-6 py-5",children:c.category}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(Z.default)(new Date(c.createdAt),"dd LLL, yyyy")}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(c.plays,!1,!0)}),Object(O.jsx)("td",{className:k()("px-6","py-5",{"text-247-red-straight":"live"===c.status,"text-247-not-live":"not-live"===c.status}),children:Qt()(c.status.split("-").join(" "))}),!d&&Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"relative",ref:t,children:[Object(O.jsx)("button",{onClick:function(){return j(!b)},className:"flex items-center justify-center",children:Object(O.jsx)(ve.c,{color:"#fff",size:24})}),Object(O.jsx)("ul",{style:{transform:"translateX(-90%)"},className:k()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!b},{"opacity-100":b},{visible:b},{hidden:!b}),children:Qa()(p).map((function(e){return Object(O.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(t){return e.action(c)},children:e.name},Va()(e.name))}))})]})})]})}))),Ha="creating_content",Ka="fetching_media_items",Ja="deleting_item",Ya="fetch_media_items_error",Xa="create_error",Za="delete_error",$a="set_media_items",er="set_media_items_size",tr={create:Xa,fetchItems:Ya,deleteItem:Za},ar=z((function(e,t){switch(t.type){case Ha:return Object(m.a)(Object(m.a)({},e),{},{creatingContent:t.payload});case Xa:return Object(m.a)(Object(m.a)({},e),{},{createError:t.payload});case Ka:return Object(m.a)(Object(m.a)({},e),{},{fetchingMediaItems:t.payload});case Ya:return Object(m.a)(Object(m.a)({},e),{},{fetchItemsError:t.payload});case Ja:return Object(m.a)(Object(m.a)({},e),{},{deletingItem:t.payload});case Za:return Object(m.a)(Object(m.a)({},e),{},{deleteItemError:t.payload});case $a:return Object(m.a)(Object(m.a)({},e),{},{mediaItems:t.payload});case er:return Object(m.a)(Object(m.a)({},e),{},{mediaItemsSize:t.payload});default:return e}}),{creatingContent:!1,createError:null,deletingItem:!1,deleteItemError:null,fetchingMediaItems:!1,fetchItemsError:null,mediaItems:[],mediaItemsSize:0},{createContentItem:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Ha,payload:!0}),e({type:Xa,payload:null}),t.prev=2,t.next=5,F.post("/mediaitems",a,{headers:{Authorization:"Bearer ".concat(ae())}});case 5:e({type:Ha,payload:!1}),r&&r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response?e({type:Xa,payload:t.t0.response.data.message||"Unable to create content. Something went wrong"}):e({type:Xa,payload:"Unable to create content. Something went wrong"}),e({type:Ha,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchMediaItems:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Ka,payload:!0}),e({type:Ya,payload:null}),t.prev=2,t.next=5,F.get("/mediaitems",{headers:{Authorization:"Bearer ".concat(ae())},params:Object(m.a)(Object(m.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:r=t.sent,e({type:$a,payload:r.data.mediaItems}),e({type:er,payload:r.data.size}),e({type:Ka,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Ya,payload:t.t0.response.data.message||"Unable to fetch media items. Something went wrong"}):e({type:Ya,payload:"Unable to fetch media items. Something went wrong"}),e({type:Ka,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:tr[t],payload:null})}},deleteMediaItem:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Ja,payload:!0}),e({type:Za,payload:null}),t.prev=2,t.next=5,F.delete("/mediaitems/".concat(a),{headers:{Authorization:"Bearer ".concat(ae())}});case 5:e({type:Ja,payload:!1}),r&&r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response?e({type:Za,payload:t.t0.response.data.message||"Unable to delete media item. Something went wrong"}):e({type:Za,payload:"Unable to delete media item. Something went wrong"}),e({type:Ja,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()}}),rr=ar.Context,nr=ar.Provider,sr=["","Title","Duration","Category","Date","Plays","Status",""],cr=function(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1),c=Object(I.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)(5),d=Object(I.a)(l,2),u=d[0],b=d[1],x=Object(r.useState)(),h=Object(I.a)(x,2),g=h[0],f=h[1],v=Object(r.useState)([]),y=Object(I.a)(v,2),N=y[0],C=y[1],k=Object(r.useState)(),A=Object(I.a)(k,2),D=A[0],z=A[1],T=Object(r.useState)(!1),F=Object(I.a)(T,2),M=F[0],P=F[1],E=Object(r.useState)(!1),_=Object(I.a)(E,2),L=_[0],q=_[1],R=Object(r.useContext)(rr),U=R.state,V=U.creatingContent,W=U.createError,Q=U.fetchingMediaItems,G=U.deletingItem,H=U.deleteItemError,J=U.mediaItems,Y=U.mediaItemsSize,Z=U.fetchItemsError,$=R.createContentItem,ee=R.fetchMediaItems,te=R.deleteMediaItem,ae=R.clearError;Ce(W,(function(){ae("create")})),Ce(H,(function(){ae("deleteItem")}));var re=Object(r.useMemo)((function(){return{limit:u,skip:(i-1)*u}}),[u,i]);Object(r.useEffect)((function(){ee(Object(m.a)({},re))}),[re]);var ne=wt(i,u,J,Y),se=ne.indexOfFirstItem,ce=ne.indexOfLastItem,ie=ne.pages,oe=function(e){if(a.includes(e)){var t=a.indexOf(e),r=Object(w.a)(a);r.splice(t,1),n(r)}else n([].concat(Object(w.a)(a),[e]))},le=function(){return B.b.success("New content created!"),ee(Object(m.a)({},re))},de=function(){return B.b.success("Media item deleted successfully!"),ee(Object(m.a)({},re))},ue=function(){var e=Object(p.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"uploading new content..."),console.log(N,Ge(D)),(a=new FormData).append("title",t.title),a.append("category",t.category),a.append("duration",Ge(D)),a.append("mediaItem",N[0]),e.next=9,$(a,le);case 9:P(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){console.log(e,"removing item from playlist...")},je=function(e){console.log(e,"adding item to playlist...")},pe=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(g.mediaId,de);case 2:q(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(ze,{children:[Object(O.jsxs)("div",{className:"mt-20 rounded-md bg-247-secondary border-2 border-247-dark-text mb-10",children:[Object(O.jsx)("div",{className:"flex py-4 px-8 justify-end",children:Object(O.jsx)(X,{title:"Upload Content",icon:Object(O.jsx)(ve.d,{className:"mr-3",size:22}),onBtnClick:function(){return P(!0)}})}),Object(O.jsxs)(Ct,{headers:sr,loadingData:Q,children:[Q&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!Q&&J.length>0&&J.map((function(e,t){return Object(O.jsx)(Ga,{checkedItems:a,contentItem:e,index:t,toggleItemCheck:oe,setConfirmItemDelete:q,removeItemFromPlaylist:be,addItemToPlaylist:je,setCurrentItem:f},"contentItem_".concat(t))}))]}),!Q&&!Z&&0===J.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!Q&&Z&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:Z})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:J&&J.length>0&&Object(O.jsx)(St,{activePage:i,dataLength:Y,firstItem:se+1,lastItem:ce,pages:ie,setActivePage:o,setVisibleRows:b,visibleRows:u})}),Object(O.jsx)(Ra,{isOpen:M,setIsOpen:P,handleUpload:ue,setMediaItem:C,setMediaDuration:z,creatingContent:V}),Object(O.jsx)(Oa,{open:L,setOpen:q,text:"Are you sure you want to delete this content?",icon:Object(O.jsx)(K.b,{size:28,color:"#fff"}),handleConfirmation:pe,processingConfirm:G})]})},ir=a(134),or=Y(Object(r.forwardRef)((function(e,t){var a=e.playlistItem,r=e.onDownwardMove,n=e.onUpwardMove,s=e.setConfirmRemoveItem,c=e.open,i=e.setOpen,o=e.draggableId,l=e.index,d=[{name:"Remove content",action:function(){i(!1),s(!0)}},{name:"Move up",action:function(e){i(!1),n(e)}},{name:"Move down",action:function(e){i(!1),r(e)}}];return Object(O.jsx)(ir.b,{draggableId:o,index:l,children:function(e){return Object(O.jsxs)("tr",Object(m.a)(Object(m.a)({ref:e.innerRef},e.draggableProps),{},{className:"text-lg border border-247-dark-text odd:bg-247-dark-accent3 hover:bg-gray-700",children:[Object(O.jsx)("td",Object(m.a)(Object(m.a)({},e.dragHandleProps),{},{className:"px-3 py-5",children:Object(O.jsx)(U.b,{color:"#fff",size:30})})),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("img",{src:a.previewImg,className:"h-14 w-24 object-cover rounded",alt:"content thumbnail"}),Object(O.jsxs)("div",{className:"ml-4",children:[Object(O.jsx)("p",{children:a.title}),Object(O.jsx)("p",{className:"text-sm text-247-timestamp-color font-semibold",children:a.type})]})]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:a.duration}),Object(O.jsx)("td",{className:"px-6 py-5",children:a.date}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{className:"relative",ref:t,children:[Object(O.jsx)("button",{onClick:function(){return i(!c)},className:"flex items-center justify-center",children:Object(O.jsx)(ve.c,{color:"#fff",size:24})}),Object(O.jsx)("ul",{style:{transform:"translateX(-90%)"},className:k()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!c},{"opacity-100":c},{visible:c},{hidden:!c}),children:d.map((function(e){return Object(O.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(t){return e.action(a)},children:e.name},Va()(e.name))}))})]})})]}))}})}))),lr=function(e){var t=e.droppableId,a=e.children,r=e.headers,n=e.handleDragEnd;return Object(O.jsxs)("table",{className:"font-customRoboto w-full text-white border-collapse",children:[Object(O.jsx)("thead",{children:Object(O.jsx)("tr",{className:"border border-247-dark-text bg-247-red-straight",children:r.map((function(e,t){return Object(O.jsx)("th",{className:"text-left px-6 py-4 text-lg",children:e},"".concat(e,"_").concat(t))}))})}),Object(O.jsx)(ir.a,{onDragEnd:n,children:Object(O.jsx)(ir.c,{droppableId:t,children:function(e){return Object(O.jsxs)("tbody",Object(m.a)(Object(m.a)({},e.droppableProps),{},{ref:e.innerRef,children:[a,e.placeholder]}))}})})]})},dr=["","Title","Duration","Category","Date","Plays","Status"],ur=function(e){var t=e.isOpen,a=e.setIsOpen,n=Object(r.useState)([]),s=Object(I.a)(n,2),c=s[0],i=s[1],o=Object(r.useState)(1),l=Object(I.a)(o,2),d=l[0],u=l[1],b=Object(r.useState)(5),j=Object(I.a)(b,2),p=j[0],m=j[1],x=wt(d,p,Ve),h=x.currentList,g=x.indexOfFirstItem,f=x.indexOfLastItem,v=x.pages,y=function(e){if(c.includes(e)){var t=c.indexOf(e),a=Object(w.a)(c);a.splice(t,1),i(a)}else i([].concat(Object(w.a)(c),[e]))};return Object(O.jsxs)(te,{modalOpen:t,setModalOpen:a,width:1100,children:[Object(O.jsxs)("div",{className:"mt-10 rounded-md bg-black border-247-dark-text mb-10",children:[Object(O.jsx)("div",{className:"flex py-4 px-8",children:Object(O.jsx)(V,{})}),Object(O.jsx)(Ct,{headers:dr,children:h.map((function(e,t){return Object(O.jsx)(Ga,{checkedItems:c,contentItem:e,index:t,toggleItemCheck:y,hideAction:!0,smallText:!0},"contentItem_".concat(t))}))})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:Object(O.jsx)(St,{activePage:d,dataLength:Ve.length,firstItem:g+1,lastItem:f,pages:v,setActivePage:u,setVisibleRows:m,visibleRows:p})}),Object(O.jsx)(A,{className:["bg-247-red-straight","block","mt-12","px-12","font-normal"],fullWidth:!0,children:"Add"})]})},br=["","Title","Duration","Date Added","Action"],jr=function(){var e=Object(r.useState)(1),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(5),c=Object(I.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)(!1),d=Object(I.a)(l,2),u=d[0],b=d[1],j=Object(r.useState)(!1),p=Object(I.a)(j,2),m=p[0],x=p[1],h=Object(r.useState)(Ve),g=Object(I.a)(h,2),f=g[0],v=g[1],y=wt(a,i,f),N=y.currentList,w=y.indexOfFirstItem,C=y.indexOfLastItem,k=y.pages,S=function(e){console.log(e,"moving item down...")},A=function(e){console.log(e,"moving up...")};return Object(O.jsxs)(ze,{pageTitle:"Ad-Playlists",children:[Object(O.jsxs)("div",{className:"flex items-center justify-between mt-16",children:[Object(O.jsx)("h3",{className:"text-white text-3xl font-semibold",children:"Live Playlist"}),Object(O.jsx)(X,{title:"Add Content",icon:Object(O.jsx)(U.a,{className:"mr-2",size:22}),onBtnClick:function(){return x(!0)}})]}),Object(O.jsx)("div",{className:"mt-16",children:Object(O.jsx)(lr,{handleDragEnd:function(e){if(console.log(e),e.destination){var t=function(e,t,a){var r=Array.from(e),n=r.splice(t,1),s=Object(I.a)(n,1)[0];return r.splice(a,0,s),r}(f,e.source.index,e.destination.index);console.log(t),v(t)}},droppableId:"playlist-table",headers:br,children:N.map((function(e,t){return Object(O.jsx)(or,{playlistItem:e,index:t,draggableId:e.id,onDownwardMove:S,onUpwardMove:A,setConfirmRemoveItem:b},"playlistItem".concat(t))}))})}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20 mt-12",children:Object(O.jsx)(St,{activePage:a,dataLength:f.length,firstItem:w+1,lastItem:C,pages:k,setActivePage:n,setVisibleRows:o,visibleRows:i})}),Object(O.jsx)(ur,{isOpen:m,setIsOpen:x}),Object(O.jsx)(Oa,{open:u,setOpen:b,text:"Are you sure you want to remove this item from the playlist?",icon:Object(O.jsx)(K.b,{size:28,color:"#fff"}),handleConfirmation:function(){b(!1),console.log("removing item from playlist...")}})]})},pr="creating_quiz",mr="fetching_quiz",xr="deleting_quiz",hr="fetch_quizzes_error",gr="delete_quiz_error",Or="set_quizzes",fr="set_quizzes_count",vr="create_quiz_error",yr={createQuiz:vr,fetchQuizzes:hr,deleteQuiz:gr},Nr=z((function(e,t){switch(t.type){case pr:return Object(m.a)(Object(m.a)({},e),{},{creatingQuiz:t.payload});case mr:return Object(m.a)(Object(m.a)({},e),{},{fetchingQuizzes:t.payload});case hr:return Object(m.a)(Object(m.a)({},e),{},{fetchQuizzesError:t.payload});case vr:return Object(m.a)(Object(m.a)({},e),{},{createQuizError:t.payload});case Or:return Object(m.a)(Object(m.a)({},e),{},{quizzes:t.payload});case fr:return Object(m.a)(Object(m.a)({},e),{},{quizzesCount:t.payload});case xr:return Object(m.a)(Object(m.a)({},e),{},{deletingQuiz:t.payload});case gr:return Object(m.a)(Object(m.a)({},e),{},{deleteQuizError:t.payload});default:return e}}),{creatingQuiz:!1,createQuizError:null,fetchingQuizzes:!1,fetchQuizzesError:null,quizzes:[],quizzesCount:0,deletingQuiz:!1,deleteQuizError:null},{createNewQuiz:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("working"),e({type:pr,payload:!0}),e({type:vr,payload:null}),t.prev=3,t.next=6,F.post("/quizzes",a,{headers:{Authorization:"Bearer ".concat(ae())}});case 6:e({type:pr,payload:!1}),r&&r(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),t.t0.response?e({type:vr,payload:t.t0.response.data.message||"Unable to create quiz. Something went wrong"}):e({type:vr,payload:"Unable to create quiz. Something went wrong"}),e({type:pr,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchQuizzes:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:mr,payload:!0}),e({type:hr,payload:null}),t.prev=2,t.next=5,F.get("/quizzes",{headers:{Authorization:"Bearer ".concat(ae())},params:Object(m.a)(Object(m.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:r=t.sent,e({type:Or,payload:r.data.quizzes}),e({type:fr,payload:r.data.count}),e({type:mr,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:hr,payload:t.t0.response.data.message||"Unable to fetch quizzes. Something went wrong"}):e({type:hr,payload:"Unable to fetch quizzes. Something went wrong"}),e({type:mr,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},deleteQuiz:function(e){return function(){var t=Object(p.a)(j.a.mark((function t(a,r){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:xr,payload:!0}),e({type:gr,payload:null}),t.prev=2,t.next=5,F.delete("/quiz/".concat(a),{headers:{Authorization:"Bearer ".concat(ae())}});case 5:n=t.sent,console.log(n.data),e({type:xr,payload:!1}),r&&r(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:gr,payload:t.t0.response.data.message||"Unable to delete quiz. Something went wrong"}):e({type:gr,payload:"Unable to delete quiz. Something went wrong"}),e({type:xr,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:yr[t],payload:null})}}}),wr=Nr.Context,Cr=Nr.Provider,kr={0:"A",1:"B",2:"C",3:"D"},Sr=Y(Object(r.forwardRef)((function(e,t){var a=e.setCurrentItem,r=e.checkedItems,n=e.index,s=e.toggleItemCheck,c=e.quizItem,i=e.setConfirmDeleteItem,o=e.setOpen,l=e.open,d=c.options.findIndex((function(e){return e.toLowerCase()===c.answer.toLowerCase()}));return Object(O.jsxs)("tr",{className:k()("border","border-247-dark-text","hover:bg-gray-700","text-lg",{"bg-gray-700":r.includes(n)},{"odd:bg-247-dark-accent3":!r.includes(n)}),children:[Object(O.jsx)("td",{className:"px-3 py-5",children:Object(O.jsx)(Be,{checked:!!r.includes(n),iconColor:"#CACACA",name:c._id.toLowerCase(),handleChange:function(){return s(n)}})}),Object(O.jsx)("td",{className:"px-6 py-5 max-w-xs",children:c.question}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(c.timesAnswered,!1,!0)}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(c.timesAnsweredCorrectly,!1,!0)}),Object(O.jsx)("td",{className:"px-6 py-5",children:kr[d]}),Object(O.jsx)("td",{children:Object(O.jsxs)("div",{className:"relative",ref:t,children:[Object(O.jsx)("button",{onClick:function(){return o(!l)},className:"flex items-center justify-center",children:Object(O.jsx)(ve.c,{color:"#fff",size:24})}),Object(O.jsx)("ul",{style:{transform:"translateX(-90%)"},className:k()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!l},{"opacity-100":l},{visible:l},{hidden:!l}),children:Object(O.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(e){o(!1),a(c),i(!0)},children:"Delete question"})})]})})]})}))),Ar=function(e){var t,a,r,n,s,c=e.isOpen,i=e.setIsOpen,o=e.submitAction,l=e.setMediaItem,d=e.creatingQuiz,u=L.b({question:L.c().required("This field is required"),optionA:L.c().required("This field is required"),optionB:L.c().required("This field is required"),optionC:L.c().required("This field is required"),optionD:L.c().required("This field is required"),correctOption:L.b().required("This field is required")}),b=Object(N.e)({resolver:Object(_.a)(u)}),j=b.handleSubmit,p=b.register,m=b.formState.errors,x=b.control;return Object(O.jsxs)(te,{modalOpen:c,setModalOpen:i,width:704,children:[Object(O.jsx)("h3",{className:"text-white text-center text-2xl font-semibold",children:"New Quiz"}),Object(O.jsxs)("form",{className:"mt-10",onSubmit:j(o),children:[Object(O.jsx)(f,{label:"Question",darkMode:!0,placeholder:"enter quiz question",type:"text",registerFn:p,name:"question",errorText:null===(t=m.question)||void 0===t?void 0:t.message}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Option A",darkMode:!0,placeholder:"enter option a",type:"text",registerFn:p,name:"optionA",errorText:null===(a=m.optionA)||void 0===a?void 0:a.message}),Object(O.jsx)(f,{label:"Option B",darkMode:!0,placeholder:"enter option b",type:"text",registerFn:p,name:"optionB",errorText:null===(r=m.optionB)||void 0===r?void 0:r.message})]}),Object(O.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(O.jsx)(f,{label:"Option C",darkMode:!0,placeholder:"enter option c",type:"text",registerFn:p,name:"optionC",errorText:null===(n=m.optionC)||void 0===n?void 0:n.message}),Object(O.jsx)(f,{label:"Option D",darkMode:!0,placeholder:"enter option d",type:"text",registerFn:p,name:"optionD",errorText:null===(s=m.optionD)||void 0===s?void 0:s.message})]}),Object(O.jsx)(N.a,{name:"correctOption",control:x,render:function(e){var t,a=e.field;return Object(O.jsx)(Oe,{label:"Select Correct Option",darkMode:!0,options:[{value:"a",label:"A"},{value:"b",label:"B"},{value:"c",label:"C"},{value:"d",label:"D"}],placeholderText:"select the correct option",value:a.value,handleChange:function(e){return a.onChange(e)},errorText:null===(t=m.correctOption)||void 0===t?void 0:t.message})}}),Object(O.jsx)(we,{label:"Upload Quiz Image",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);l(t)},accepts:".jpg,.png,.jpeg"}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:d,children:"Submit Quiz"})]})]})},Dr=function(e){var t=e.checkedItems,a=e.toggleAll;return Object(O.jsx)(Be,{checked:t.length===We.length,iconColor:"#CACACA",name:"checkAll",handleChange:a})},Ir=function(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1),c=Object(I.a)(s,2),i=c[0],o=c[1],l=Object(r.useState)(5),d=Object(I.a)(l,2),u=d[0],b=d[1],x=Object(r.useState)(),h=Object(I.a)(x,2),g=h[0],f=h[1],v=Object(r.useState)([]),y=Object(I.a)(v,2),N=y[0],C=y[1],k=Object(r.useState)(!1),A=Object(I.a)(k,2),D=A[0],z=A[1],T=Object(r.useState)(!1),F=Object(I.a)(T,2),M=F[0],P=F[1],E=Object(r.useContext)(wr),_=E.state,L=_.creatingQuiz,q=_.createQuizError,R=_.quizzes,V=_.quizzesCount,W=_.fetchQuizzesError,Q=_.fetchingQuizzes,G=_.deletingQuiz,H=_.deleteQuizError,J=E.createNewQuiz,Y=E.fetchQuizzes,Z=E.deleteQuiz,$=E.clearError;Ce(q,(function(){$("createQuiz")})),Ce(H,(function(){$("deleteQuiz")}));var ee=Object(r.useMemo)((function(){return{limit:u,skip:(i-1)*u}}),[u,i]);Object(r.useEffect)((function(){Y(Object(m.a)({},ee))}),[ee]);var te=wt(i,u,R,V),ae=te.indexOfFirstItem,re=te.indexOfLastItem,ne=te.pages;console.log(R);var se=function(e){if(a.includes(e)){var t=a.indexOf(e),r=Object(w.a)(a);r.splice(t,1),n(r)}else n([].concat(Object(w.a)(a),[e]))},ce=function(){return B.b.success("Quiz has been sucessfully deleted!"),Y(Object(m.a)({},ee))},ie=function(){var e=Object(p.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(g._id,ce);case 2:z(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){return B.b.success("New quiz added successfully!"),Y(Object(m.a)({},ee))},le=function(){var e=Object(p.a)(j.a.mark((function e(t){var a,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="option".concat(t.correctOption.value.toUpperCase()),(r=new FormData).append("question",t.question),r.append("option1",t.optionA),r.append("option2",t.optionB),r.append("option3",t.optionC),r.append("option4",t.optionD),r.append("answer",t[a]),r.append("quizImage",N[0]),e.next=11,J(r,oe);case 11:P(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=[Object(O.jsx)(Dr,{checkedItems:a,toggleAll:function(){if(0!==a.length)n([]);else{var e=Array.from({length:We.length},(function(e,t){return t}));n(e)}}}),"Question","Answers","Correct Answer","Correct Option",""];return Object(O.jsxs)(ze,{children:[Object(O.jsx)("div",{className:"w-full flex items-center mt-20 justify-end",children:Object(O.jsx)(X,{title:"New Quiz",icon:Object(O.jsx)(U.a,{className:"mr-2",size:22}),onBtnClick:function(){return P(!0)}})}),Object(O.jsxs)("div",{className:"mt-8 mb-10 bg-247-secondary",children:[Object(O.jsxs)(Ct,{headers:de,loadingData:Q,children:[Q&&Object(O.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(O.jsx)(S,{size:"large"})}),!Q&&R.length>0&&R.map((function(e,t){return Object(O.jsx)(Sr,{quizItem:e,index:t,checkedItems:a,toggleItemCheck:se,setConfirmDeleteItem:z,setCurrentItem:f},e._id)}))]}),!Q&&!W&&0===R.length&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(Dt,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!Q&&W&&Object(O.jsx)("div",{className:"w-full py-9",children:Object(O.jsx)(It,{title:"Error Retrieving Campaigns",subtitle:W})})]}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:R&&R.length>0&&Object(O.jsx)(St,{activePage:i,dataLength:V,firstItem:ae+1,lastItem:re,pages:ne,setActivePage:o,setVisibleRows:b,visibleRows:u})}),Object(O.jsx)(Oa,{open:D,setOpen:z,text:"Are you sure you want to delete this question?",icon:Object(O.jsx)(K.b,{size:28,color:"#fff"}),handleConfirmation:ie,processingConfirm:G}),Object(O.jsx)(Ar,{isOpen:M,setIsOpen:P,submitAction:le,setMediaItem:C,creatingQuiz:L})]})},zr=a(303),Tr=function(e){var t,a,n,s,c=e.isOpen,i=e.setIsOpen,o=e.driverDeets,l=e.handlePayout,d=L.b({bankName:L.c().required("Bank name is required"),accountNumber:L.c().length(10).required("Account number is required"),accountName:L.c().required("Account name is required"),pendingPayout:L.c().required("Enter an amount to payout")}),u=Object(N.e)({resolver:Object(_.a)(d)}),b=u.register,j=u.handleSubmit,p=u.reset,m=u.formState.errors;return Object(r.useEffect)((function(){p(o)}),[o]),Object(O.jsxs)(te,{modalOpen:c,setModalOpen:i,width:704,children:[Object(O.jsx)("h2",{className:"text-center text-white text-2xl font-semibold",children:"Settle Payout"}),Object(O.jsxs)("form",{className:"mt-10",onSubmit:j(l),children:[Object(O.jsx)(f,{label:"Bank Name",darkMode:!0,placeholder:"enter bank name",type:"text",registerFn:b,name:"bankName",errorText:null===(t=m.bankName)||void 0===t?void 0:t.message}),Object(O.jsx)(f,{label:"Account Number",darkMode:!0,placeholder:"enter account number",type:"text",registerFn:b,name:"accountNumber",errorText:null===(a=m.accountNumber)||void 0===a?void 0:a.message}),Object(O.jsx)(f,{label:"Account Name",darkMode:!0,placeholder:"enter account name",type:"text",registerFn:b,name:"accountName",errorText:null===(n=m.accountName)||void 0===n?void 0:n.message}),Object(O.jsx)(f,{label:"Pending Payout",darkMode:!0,placeholder:"enter amount to payout",type:"text",registerFn:b,name:"pendingPayout",errorText:null===(s=m.pendingPayout)||void 0===s?void 0:s.message}),Object(O.jsx)(A,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,children:"Payout"})]})]})},Fr=["","Driver","Total Earning","Pending Payout"],Mr=function(e){var t=e.goToPrevPage;return Object(O.jsxs)("div",{className:"flex items-center",children:[Object(O.jsx)("button",{onClick:t,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(O.jsx)(U.c,{color:"#f00",size:28})}),Object(O.jsx)("h3",{className:"text-2xl text-247-gray font-semibold ml-14",children:"Pending Payouts"})]})},Pr=function(){var e=Object(r.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1],s=Object(r.useState)(1),c=Object(I.a)(s,2),o=c[0],l=c[1],d=Object(r.useState)(5),u=Object(I.a)(d,2),b=u[0],j=u[1],p=Object(r.useState)(!1),m=Object(I.a)(p,2),x=m[0],h=m[1],g=Object(r.useState)(!1),f=Object(I.a)(g,2),v=f[0],y=f[1],N=Object(r.useState)(),C=Object(I.a)(N,2),k=C[0],S=C[1],A=Object(i.g)(),D=wt(o,b,Ue),z=D.currentList,T=D.indexOfFirstItem,F=D.indexOfLastItem,M=D.pages;return Object(O.jsxs)(ze,{customHeader:Object(O.jsx)(Mr,{goToPrevPage:function(){return A.goBack()}}),children:[Object(O.jsxs)("div",{className:"mt-16 grid grid-cols-3 gap-6",children:[Object(O.jsx)(ut,{bgColor:"bg-blue-gradient",infoTitle:"Pending Payout",infoValue:Qe(123760.87,!0,!0)}),Object(O.jsx)(ut,{bgColor:"bg-green-gradient",infoTitle:"Settled Payout",infoValue:Qe(820557.45,!0,!0)})]}),Object(O.jsx)("div",{className:"mt-10 bg-247-secondary rounded-md border-2 border-247-dark-text mb-10",children:Object(O.jsx)(Ct,{headers:Fr,children:z.map((function(e,t){return Object(O.jsxs)("tr",{className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text  hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3  hover:bg-gray-700",children:[Object(O.jsx)("td",{className:"px-3 py-5",children:Object(O.jsx)(Be,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),r=Object(w.a)(a);r.splice(t,1),n(r)}else n([].concat(Object(w.a)(a),[e]))}(t)}})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsxs)("div",{children:[e.name,Object(O.jsx)("span",{className:"block text-sm font-light",children:e.email})]})}),Object(O.jsx)("td",{className:"px-6 py-5",children:Qe(e.pendingPayout,!0,!0)}),Object(O.jsx)("td",{className:"px-6 py-5",children:Object(O.jsx)(X,{onBtnClick:function(){S({bankName:"Access Bank",accountNumber:"2591678234",accountName:e.name,pendingPayout:e.pendingPayout}),h(!0)},title:"Settle"})})]},"driver_".concat(e.id))}))})}),Object(O.jsx)("div",{className:"flex items-center justify-end mb-20",children:Object(O.jsx)(St,{activePage:o,dataLength:Ue.length,firstItem:T+1,lastItem:F,pages:M,setActivePage:l,setVisibleRows:j,visibleRows:b})}),Object(O.jsx)(Tr,{isOpen:x,setIsOpen:h,driverDeets:k,handlePayout:function(e){console.log(e,"confirming payout"),h(!1),y(!0)}}),Object(O.jsx)(Oa,{open:v,setOpen:y,text:"Continue payout for ".concat(null===k||void 0===k?void 0:k.accountName),handleConfirmation:function(){console.log("paying driver..."),y(!1)},icon:Object(O.jsx)(zr.a,{size:32,color:"#fff"})})]})},Er=function(e){var t=e.component,a=e.userType,n=Object(x.a)(e,["component","userType"]),s=Object(r.useContext)(P).state,c=s.user,o=s.loggedIn,l=Object(i.h)();return Object(O.jsx)(i.b,Object(m.a)(Object(m.a)({},n),{},{children:o&&(null===c||void 0===c?void 0:c.kind.toLowerCase())===a?Object(O.jsx)(t,{}):Object(O.jsx)(i.a,{to:{pathname:d,state:{from:l,userType:a}}})}))};var _r=function(){var e=Object(i.h)();return console.log(e),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(i.d,{children:[Object(O.jsx)(i.b,{exact:!0,path:"/",children:Object(O.jsx)(i.a,{to:{pathname:d,state:{from:e}}})}),Object(O.jsx)(i.b,{path:d,component:q}),Object(O.jsx)(Er,{exact:!0,userType:"admin",path:u,component:lt}),Object(O.jsx)(Er,{path:"/advertisers",exact:!0,userType:"admin",component:Mt}),Object(O.jsx)(Er,{path:"/advertiser/:advertiserId",userType:"admin",component:$t}),Object(O.jsx)(Er,{path:"/drivers",exact:!0,userType:"admin",component:xa}),Object(O.jsx)(Er,{path:"/driver/:driverId",userType:"admin",component:Sa}),Object(O.jsx)(Er,{path:"/campaigns",exact:!0,userType:"admin",component:Ta}),Object(O.jsx)(Er,{path:"/campaign/:campaignId",userType:"admin",component:_a}),Object(O.jsx)(Er,{path:"/send-notifications",exact:!0,userType:"admin",component:Ba}),Object(O.jsx)(Er,{path:"/content-library",exact:!0,userType:"admin",component:cr}),Object(O.jsx)(Er,{path:"/playlist-manager",exact:!0,userType:"admin",component:jr}),Object(O.jsx)(Er,{path:"/quiz-centre",exact:!0,userType:"admin",component:Ir}),Object(O.jsx)(Er,{path:"/pending-payouts",exact:!0,userType:"admin",component:Pr})]})})},Lr=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,563)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),s(e),c(e)}))};c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(E,{children:Object(O.jsx)(Nt,{children:Object(O.jsx)(Cr,{children:Object(O.jsx)(nr,{children:Object(O.jsx)(je,{children:Object(O.jsx)(ja,{children:Object(O.jsx)(i.c,{history:l,children:Object(O.jsx)(_r,{})})})})})})})})}),document.getElementById("root")),Lr()}},[[548,1,2]]]);
//# sourceMappingURL=main.d6204166.chunk.js.map