(this["webpackJsonp247-admin"]=this["webpackJsonp247-admin"]||[]).push([[0],{340:function(e,t,a){},343:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),c=a(47),s=a.n(c),i=a(45),o=a(59),l=Object(o.a)(),d=(a(340),a(341),a(342),a(343),"/login"),u="/overview",p=a(4),b=a(12),j=a(3),m=a(38),f=a(93),h=a.n(f),g=a(1),O=["inputIcon","registerFn","errorText","label","darkMode","isNumeric","setValue"],x=function(e){var t=e.inputIcon,a=e.registerFn,n=e.errorText,r=e.label,c=e.darkMode,s=e.isNumeric,i=e.setValue,o=Object(m.a)(e,O);return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"relative mt-8",children:[r&&Object(g.jsx)("label",{className:"text-base mb-2 font-medium inline-block text-white",children:r}),Object(g.jsx)("input",Object(j.a)(Object(j.a)(Object(j.a)({},o),s?a(e.name,{onChange:function(t){console.log(t.target.value.replace(/\D/g,""));var a=parseFloat(t.target.value.replace(/\D/g,"").replace(/,/g,""));i(e.name,a?a.toLocaleString():"")}}):a(e.name)),{},{className:h()("w-full","px-5","py-3","border",{"border-247-dark-text":!n},{"border-247-error-text":!!n},"rounded-md","text-lg",{"bg-247-dark-mode-input-bg":c},"font-customRoboto",{"text-white":c&&!o.disabled},{"text-247-disabled-input":c&&o.disabled},{"cursor-not-allowed":o.disabled},"outline-none")})),Object(g.jsx)("span",{className:"absolute top-1/4 right-5",children:t&&t})]}),n&&Object(g.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:n})]})},y=a(174),v=a(175),w=a(41),N=a(18),S=a(16),C=a.n(S),k=function(e){var t=e.size,a=void 0===t?"small":t;return Object(g.jsx)("div",{className:"w-full flex justify-center",children:Object(g.jsx)("div",{className:C()({"w-6":"small"===a},{"h-6":"small"===a},{"w-12":"large"===a},{"h-12":"large"===a},{"w-16":"v-large"===a},{"h-16":"v-large"===a},"border-247-transparent","rounded-full","border-t-2","border-b-2","animate-spin")})})},A=["children","type","className","fullWidth","isLoading","handleClick"],I=function(e){var t=e.children,a=e.type,n=e.className,r=e.fullWidth,c=e.isLoading,s=e.handleClick,i=Object(m.a)(e,A);return Object(g.jsx)("button",Object(j.a)(Object(j.a)({className:["text-white","py-3","rounded-md",r&&"w-full","text-lg","font-bold","font-customRoboto","disabled:bg-247-inactive-btn","disabled:text-247-gray-accent5","disabled:cursor-not-allowed"].concat(Object(N.a)(n)).join(" "),type:a,onClick:s},i),{},{children:c?Object(g.jsx)(k,{}):t}))},D=a.p+"static/media/logo.e6dad76f.png",z=a(7),_=function(e,t,a,r,c){var s=Object(n.createContext)();return{Context:s,Provider:function(i){var o=i.children,l=Object(n.useReducer)(e,t,(function(){if(r){var e=localStorage.getItem("247auth");return e?JSON.parse(e):{}}return Object(j.a)({},t)})),d=Object(z.a)(l,2),u=d[0],p=d[1];Object(n.useEffect)((function(){r&&c(u)}),[u]);var b={};for(var m in a)b[m]=a[m](p);return Object(g.jsx)(s.Provider,{value:Object(j.a)({state:u},b),children:o})}}},T=a(294),E=a.n(T).a.create({baseURL:"https://api.adverts247.com/api"}),P=_((function(e,t){switch(t.type){case"set_loading":return Object(j.a)(Object(j.a)({},e),{},{loading:t.payload});case"signin":return Object(j.a)(Object(j.a)({},e),{},{token:t.payload.token,user:t.payload.user,loggedIn:!0});case"signout":return Object(j.a)(Object(j.a)({},e),{},{token:null,user:null,loggedIn:!1});case"set_error":case"clear_error":return Object(j.a)(Object(j.a)({},e),{},{error:t.payload});default:return e}}),{loading:!1,token:null,user:null,loggedIn:!1,error:null},{loginAdmin:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r,c,s,i;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.email,c=a.password,e({type:"set_loading",payload:!0}),t.prev=2,t.next=5,E.post("/admin/signin",{email:r,password:c});case 5:s=t.sent,console.log(s),i=s.data.token,e({type:"signin",payload:{token:i,user:s.data.user}}),l.push(n),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0.response),t.t0.response?e({type:"set_error",payload:t.t0.response.data.error}):e({type:"set_error",payload:"Something went wrong"});case 16:e({type:"set_loading",payload:!1});case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(){e({type:"clear_error",payload:null})}},logout:function(e){return function(){localStorage.removeItem("247auth"),e({type:"signout"}),l.push(d)}}},!0,(function(e){var t={user:e.user,loggedIn:e.loggedIn,token:e.token};localStorage.setItem("247auth",JSON.stringify(t))})),M=P.Context,F=P.Provider,q=a(63),R=a(33),B=function(){var e,t,a={validationSchema:R.b({emailAddress:R.c().email("Must be a valid email").required("Email is required"),password:R.c().min(7).max(255).required("Password is required")})}.validationSchema,r=Object(i.h)().state;console.log(r);var c=Object(n.useContext)(M),s=c.state,o=s.loading,l=s.error,d=s.loggedIn,j=c.loginAdmin,m=c.clearError,f=Object(w.e)({resolver:Object(q.a)(a)}),h=f.register,O=f.handleSubmit,N=f.formState.errors,S=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,n,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(),a=t.emailAddress,n=t.password,c=(null===r||void 0===r?void 0:r.from)||u,e.next=5,j({email:a,password:n},c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return d?Object(g.jsx)(i.a,{to:u}):Object(g.jsxs)("div",{className:"grid grid-cols-6 gap-0 h-screen min-h-screen",children:[Object(g.jsx)("div",{className:"col-span-3 bg-247-main h-full flex",children:Object(g.jsx)("img",{src:D,alt:"logo",width:"340",className:"m-auto"})}),Object(g.jsx)("div",{className:"col-span-3 bg-247-transparent flex",children:Object(g.jsxs)("div",{className:"px-20 w-full items-center m-auto",children:[Object(g.jsx)("h1",{className:"text-5xl font-bold text-247-dark-text font-customRoboto",children:"Sign In"}),Object(g.jsx)("p",{className:"text-2xl text-247-dark-text font-customRoboto font-light mt-1 tracking-wide",children:"Welcome Back"}),Object(g.jsxs)("form",{className:"mt-20",onSubmit:O(S),children:[l&&Object(g.jsx)("p",{className:"font-semibold text-247-error-text",children:l}),Object(g.jsx)(x,{placeholder:"Email Address",type:"email",inputIcon:Object(g.jsx)(y.a,{size:24,color:"#4D4D4D"}),registerFn:h,name:"emailAddress",errorText:null===(e=N.emailAddress)||void 0===e?void 0:e.message}),Object(g.jsx)(x,{placeholder:"Password",type:"password",inputIcon:Object(g.jsx)(v.a,{size:24,color:"#4D4D4D"}),registerFn:h,name:"password",errorText:null===(t=N.password)||void 0===t?void 0:t.message}),Object(g.jsx)(I,{fullWidth:!0,className:["mt-20","bg-247-main"],type:"submit",isLoading:o,children:"Log In"})]})]})})]})},L=a(27),U=a(140),W=a.n(U),V=a(29),G=a.n(V),Q=a(48),K=a(37),H=function(){var e=localStorage.getItem("247auth");return e?JSON.parse(e).token:null},Y="set_loading_state",J="set_create_error_message",X="set_retrieve_error_message",Z="set_fetch_by_id_error",$="set_campaign_list",ee="set_campaign_size",te="set_single_campaign",ae="updating_status",ne="set_update_status_error",re="updating_attributes",ce="set_update_attributes_error",se="fetching_active_campaigns",ie="set_active_campaigns",oe="set_active_campaigns_size",le="fetching_total_size",de="set_total_size",ue="fetching_daily_stat",pe="fetch_daily_stat_fail",be="fetch_daily_stat_success",je="set_campaigns_with_search_input",me={fetch:X,create:J,fetchById:Z,updateStatus:ne,updateAttributes:ce,fetchDailyStat:pe},fe=_((function(e,t){switch(t.type){case Y:return Object(j.a)(Object(j.a)({},e),{},{loading:t.payload});case ae:return Object(j.a)(Object(j.a)({},e),{},{updatingStatus:t.payload});case re:return Object(j.a)(Object(j.a)({},e),{},{updatingAttributes:t.payload});case ce:return Object(j.a)(Object(j.a)({},e),{},{updateAttributesError:t.payload});case ne:return Object(j.a)(Object(j.a)({},e),{},{updateStatusError:t.payload});case J:return Object(j.a)(Object(j.a)({},e),{},{createErrorMsg:t.payload});case X:return Object(j.a)(Object(j.a)({},e),{},{retrieveErrorMsg:t.payload});case Z:return Object(j.a)(Object(j.a)({},e),{},{fetchByIdError:t.payload});case $:return Object(j.a)(Object(j.a)({},e),{},{campaigns:t.payload});case ee:return Object(j.a)(Object(j.a)({},e),{},{campaignSize:t.payload});case te:return Object(j.a)(Object(j.a)({},e),{},{campaign:t.payload});case se:return Object(j.a)(Object(j.a)({},e),{},{fetchingActiveCampaigns:t.payload});case ie:return Object(j.a)(Object(j.a)({},e),{},{activeCampaigns:t.payload});case oe:return Object(j.a)(Object(j.a)({},e),{},{activeCampaignsSize:t.payload});case le:return Object(j.a)(Object(j.a)({},e),{},{fetchingTotalSize:t.payload});case de:return Object(j.a)(Object(j.a)({},e),{},{campaignTotalSize:t.payload});case ue:return Object(j.a)(Object(j.a)({},e),{},{fetchingDailyStat:t.payload});case pe:return Object(j.a)(Object(j.a)({},e),{},{fetchDailyStatError:t.payload});case be:return Object(j.a)(Object(j.a)({},e),{},{campaignDailyStat:t.payload});case je:return Object(j.a)(Object(j.a)({},e),{},{campaignsWithSearchInput:t.payload});default:return e}}),{loading:!1,campaigns:[],campaign:null,createErrorMsg:null,retrieveErrorMsg:null,fetchByIdError:null,campaignSize:0,updatingStatus:!1,updateStatusError:null,updatingAttributes:!1,updateAttributesError:null,fetchingActiveCampaigns:!1,activeCampaigns:[],activeCampaignsSize:0,campaignTotalSize:0,fetchingTotalSize:!1,fetchingDailyStat:!1,campaignDailyStat:[],fetchDailyStatError:null,campaignsWithSearchInput:[]},{createCampaign:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Y,payload:!0}),t.prev=1,t.next=4,E.post("/campaigns",a,{headers:{Authorization:"Bearer ".concat(H()),"content-type":"multipart/form-data"}});case 4:e({type:Y,payload:!1}),n&&n(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.response?(console.log(t.t0.response.data),e({type:J,payload:t.t0.response.data.message||"Unable to create campaign. Something went wrong"})):e({type:J,payload:"Unable to create campaign. Something went wrong"}),e({type:Y,payload:!1});case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchCampaigns:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:X,payload:null}),e({type:Y,payload:!0}),t.prev=2,t.next=5,E.get("/campaigns",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:$,payload:n.data.campaigns}),e({type:ee,payload:n.data.size}),e({type:Y,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response.data),e({type:X,payload:t.t0.response.data.message||"Unable to fetch campaigns. Something went wrong"})):e({type:X,payload:"Unable to fetch campaigns. Something went wrong"}),e({type:Y,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchCampaignsWithSearchInput:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:X,payload:null}),e({type:Y,payload:!0}),t.prev=2,t.next=5,E.get("/campaigns",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:je,payload:n.data.campaigns}),e({type:Y,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response.data),e({type:X,payload:t.t0.response.data.message||"Unable to fetch campaigns. Something went wrong"})):e({type:X,payload:"Unable to fetch campaigns. Something went wrong"}),e({type:Y,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},fetchCampaignById:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Z,payload:null}),e({type:Y,payload:!0}),t.prev=2,t.next=5,E.get("/campaigns/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:n=t.sent,e({type:te,payload:n.data}),e({type:Y,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:Z,payload:t.t0.response.data.message||"Unable to create campaign. Something went wrong"}):e({type:Z,payload:"Unable to create campaign. Something went wrong"}),e({type:Y,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:me[t],payload:null})}},updateCampaignStatus:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ae,payload:!0}),e({type:ne,payload:null}),t.prev=2,t.next=5,E.patch("/change-status/".concat(a),n,{headers:{Authorization:"Bearer ".concat(H())}});case 5:e({type:ae,payload:!1}),r&&r(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response?e({type:ne,payload:t.t0.response.data.message||"Unable to update the status of the campaign. Something went wrong"}):e({type:ne,payload:"Unable to update the status of the campaign. Something went wrong"}),e({type:ae,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a,n){return t.apply(this,arguments)}}()},updateCampaignAttributes:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r){var c;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:re,payload:!0}),e({type:ce,payload:null}),t.prev=2,t.next=5,E.patch("campaigns/".concat(n),a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:c=t.sent,console.log(c.data),e({type:re,payload:!0}),r&&r(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:ce,payload:t.t0.response.data.message||"Unable to update the attributes of the campaign. Something went wrong"}):e({type:ce,payload:"Unable to update the attributes of the campaign. Something went wrong"}),e({type:re,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a,n){return t.apply(this,arguments)}}()},fetchActiveCampaigns:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:X,payload:null}),e({type:se,payload:!0}),t.prev=2,t.next=5,E.get("/campaigns",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{status:"active",sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:ie,payload:n.data.campaigns}),e({type:oe,payload:n.data.size}),e({type:se,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response.data),e({type:X,payload:t.t0.response.data.message||"Unable to fetch campaigns. Something went wrong"})):e({type:X,payload:"Unable to fetch campaigns. Something went wrong"}),e({type:se,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchTotalCampaignSize:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:X,payload:null}),e({type:le,payload:!0}),t.prev=2,t.next=5,E.get("/campaigns",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)({},a)});case 5:n=t.sent,e({type:de,payload:n.data.size}),e({type:le,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response.data),e({type:X,payload:t.t0.response.data.message||"Unable to fetch campaigns. Something went wrong"})):e({type:X,payload:"Unable to fetch campaigns. Something went wrong"}),e({type:le,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},fetchDailyCampaignStat:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ue,payload:!0}),e({type:pe,payload:null}),t.prev=2,t.next=5,E.get("/campaigns/stat/range",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)({},a)});case 5:n=t.sent,e({type:be,payload:n.data}),e({type:ue,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:pe,payload:t.t0.response.data.message||"Unable to fetch daily stats for campaign(s). Something went wrong"}):e({type:pe,payload:"Unable to fetch daily stats for campaign(s). Something went wrong"}),e({type:ue,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}}),he=fe.Context,ge=fe.Provider,Oe="fetching_drivers",xe="fetching_single_driver",ye="updating_status",ve="set_fetch_drivers_error",we="fetch_single_driver_error",Ne="update_status_error",Se="set_drivers_list",Ce="set_single_driver",ke="set_drivers_list_size",Ae="fetching_total_size",Ie="set_drivers_total_size",De="updating_attributes",ze="update_attributes_success",_e="update_attributes_fail",Te="set_drivers_with_search_input",Ee={fetchDrivers:ve,fetchDriverById:we,updateStatus:Ne,updateAttributes:_e},Pe=_((function(e,t){switch(t.type){case Oe:return Object(j.a)(Object(j.a)({},e),{},{fetchingDrivers:t.payload});case xe:return Object(j.a)(Object(j.a)({},e),{},{fetchingSingleDriver:t.payload});case ye:return Object(j.a)(Object(j.a)({},e),{},{updatingDriverStatus:t.payload});case Ne:return Object(j.a)(Object(j.a)({},e),{},{updateStatusError:t.payload});case we:return Object(j.a)(Object(j.a)({},e),{},{fetchSingleDriverError:t.payload});case ve:return Object(j.a)(Object(j.a)({},e),{},{fetchDriversError:t.payload});case Ce:return Object(j.a)(Object(j.a)({},e),{},{driver:t.payload});case Se:return Object(j.a)(Object(j.a)({},e),{},{drivers:t.payload});case ke:return Object(j.a)(Object(j.a)({},e),{},{driverListSize:t.payload});case Ae:return Object(j.a)(Object(j.a)({},e),{},{fetchingTotalSize:t.payload});case Ie:return Object(j.a)(Object(j.a)({},e),{},{driversTotalSize:t.payload});case De:return Object(j.a)(Object(j.a)({},e),{},{updatingAttributes:t.payload});case ze:return Object(j.a)(Object(j.a)({},e),{},{updateAttributesSuccess:t.payload});case _e:return Object(j.a)(Object(j.a)({},e),{},{updateAttributesError:t.payload});case Te:return Object(j.a)(Object(j.a)({},e),{},{driversWithSearchInput:t.payload});default:return e}}),{fetchingDrivers:!1,fetchingSingleDriver:!1,updatingDriverStatus:!1,drivers:[],driver:null,fetchDriversError:null,fetchSingleDriverError:null,updateStatusError:null,driverListSize:0,fetchingTotalSize:!1,driversTotalSize:0,updatingAttributes:!1,updateAttributesError:null,updateAttributesSuccess:null,driversWithSearchInput:[]},{fetchDrivers:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Oe,payload:!0}),e({type:ve,payload:null}),t.prev=2,t.next=5,E.get("/drivers",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:Se,payload:n.data.drivers}),e({type:ke,payload:n.data.size}),e({type:Oe,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:ve,payload:t.t0.response.data.message||"Unable to fetch drivers. Something went wrong"}):e({type:ve,payload:"Unable to fetch drivers. Something went wrong"}),e({type:Oe,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchDriversWithSearchInput:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Oe,payload:!0}),e({type:ve,payload:null}),t.prev=2,t.next=5,E.get("/drivers",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:Te,payload:n.data.drivers}),e({type:Oe,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:ve,payload:t.t0.response.data.message||"Unable to fetch drivers. Something went wrong"}):e({type:ve,payload:"Unable to fetch drivers. Something went wrong"}),e({type:Oe,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},fetchDriverById:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:xe,payload:!0}),e({type:we,payload:null}),t.prev=2,t.next=5,E.get("/driver/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:n=t.sent,e({type:Ce,payload:n.data.driver}),e({type:xe,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:we,payload:t.t0.response.data.message||"Unable to fetch driver. Something went wrong"}):e({type:we,payload:"Unable to fetch driver. Something went wrong"}),e({type:xe,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},updateDriverStatus:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ye,payload:!0}),e({type:Ne,payload:null}),t.prev=2,t.next=5,E.patch("/driver/change-status?driver=".concat(a),{status:n},{headers:{Authorization:"Bearer ".concat(H())}});case 5:t.sent,r&&r(),e({type:ye,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:Ne,payload:t.t0.response.data.message||"Unable to update driver status. Something went wrong"}):e({type:Ne,payload:"Unable to update driver status. Something went wrong"}),e({type:ye,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,a,n){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:Ee[t],payload:null})}},getDriversTotalSize:function(e){return Object(b.a)(Object(p.a)().mark((function t(){var a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Ae,payload:!0}),e({type:ve,payload:null}),t.prev=2,t.next=5,E.get("/drivers",{headers:{Authorization:"Bearer ".concat(H())}});case 5:a=t.sent,e({type:Ie,payload:a.data.size}),e({type:Ae,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:ve,payload:t.t0.response.data.message||"Unable to fetch drivers. Something went wrong"}):e({type:ve,payload:"Unable to fetch drivers. Something went wrong"}),e({type:Ae,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))},updateDriverAttributes:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r){var c;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:De,payload:!0}),e({type:_e,payload:null}),t.prev=2,t.next=5,E.patch("/drivers/".concat(n),a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:c=t.sent,console.log(c.data),e({type:ze,payload:c.data.message}),e({type:De,payload:!1}),r&&r(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:_e,payload:t.t0.response.data.message||"Unable to update driver attributes. Something went wrong"}):e({type:_e,payload:"Unable to update driver attributes. Something went wrong"}),e({type:De,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n){return t.apply(this,arguments)}}()}}),Me=Pe.Context,Fe=Pe.Provider,qe="loading_revenue",Re="set_revenue",Be="set_revenue_error",Le=_((function(e,t){switch(t.type){case qe:return Object(j.a)(Object(j.a)({},e),{},{fetchingRevenue:t.payload});case Re:return Object(j.a)(Object(j.a)({},e),{},{totalRevenue:t.payload});case Be:return Object(j.a)(Object(j.a)({},e),{},{fetchRevenueError:t.payload});default:return e}}),{fetchingRevenue:!1,totalRevenue:0,fetchRevenueError:null},{fetchRevenue:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:qe,payload:!0}),t.prev=1,t.next=4,E.get("/revenue",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)({},a)});case 4:n=t.sent,e({type:Re,payload:n.data.totalRevenue}),e({type:qe,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0.response?e({type:Be,payload:t.t0.response.data.message||"Unable to update the status of the campaign. Something went wrong"}):e({type:Be,payload:"Unable to update the status of the campaign. Something went wrong"});case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}}),Ue=Le.Context,We=Le.Provider,Ve=a(35),Ge=a.n(Ve),Qe=a(54),Ke=a(56),He=a(103),Ye=a.n(He),Je=function(e){var t=e.value,a=e.handleChange,n=e.placeholderText;return Object(g.jsxs)("div",{className:"relative",children:[Object(g.jsx)("input",{className:"pr-4 pl-11 py-2 w-72 border border-247-dark-text rounded-md text-lg text-white focus:outline-none focus:ring-1 font-customRoboto bg-transparent overflow-ellipsis",type:"search",placeholder:n||"Search",value:t,onChange:function(e){return a(e.target.value)}}),Object(g.jsx)("span",{className:"absolute top-1/4 left-3",children:Object(g.jsx)(L.m,{color:"#979797",size:24})})]})},Xe=a(90),Ze=a(299),$e=a(300),et=[{label:"Overview",icon:Xe.a,link:"/overview"},{label:"Campaigns",icon:Xe.b,link:"/campaigns"},{label:"Advertisers",icon:y.b,link:"/advertisers"},{label:"Drivers",icon:Ze.a,link:"/drivers"},{label:"Content Library",icon:L.o,link:"/content-library"},{label:"Playlist Manager",icon:$e.a,link:"/playlist-manager"},{label:"Quiz Centre",icon:L.n,link:"/quiz-centre"},{label:"Send Notifs",icon:v.b,link:"/send-notifications"}],tt=function(){return Object(g.jsx)("div",{className:"h-12 w-12 rounded-full bg-247-gray flex items-center justify-center border-2 border-247-dark-text cursor-pointer",children:Object(g.jsx)(Ke.d,{color:"#212427"})})};function at(e){return function(t){var a=Object(n.useState)(!1),r=Object(z.a)(a,2),c=r[0],s=r[1],i=Object(n.useRef)();return Object(n.useEffect)((function(){document.addEventListener("mousedown",(function(e){var t;null!==(t=i.current)&&void 0!==t&&t.contains(e.target)||s(!1)}))}),[i]),Object(g.jsx)(e,Object(j.a)(Object(j.a)({},t),{},{open:c,setOpen:s,ref:i}))}}var nt="set_loading_state",rt="creating_advertiser",ct="set_create_error",st="set_fetch_error",it="set_fetch_by_id_error",ot="set_advertiser_list",lt="set_advertiser_size",dt="set_single_advertiser",ut="fetching_total_size",pt="set_total_size",bt="set_advertisers_with_search_input",jt="generating_report",mt="generate_report_success",ft="generate_report_fail",ht={fetch:st,fetchById:it,createAdvertiser:ct,generateReport:ft},gt=_((function(e,t){switch(t.type){case nt:return Object(j.a)(Object(j.a)({},e),{},{loading:t.payload});case st:return Object(j.a)(Object(j.a)({},e),{},{fetchError:t.payload});case it:return Object(j.a)(Object(j.a)({},e),{},{fetchByIdError:t.payload});case ot:return Object(j.a)(Object(j.a)({},e),{},{advertisers:t.payload});case lt:return Object(j.a)(Object(j.a)({},e),{},{advertiserSize:t.payload});case dt:return Object(j.a)(Object(j.a)({},e),{},{advertiser:t.payload});case rt:return Object(j.a)(Object(j.a)({},e),{},{creatingAdvertiser:t.payload});case ct:return Object(j.a)(Object(j.a)({},e),{},{createAdvertiserError:t.payload});case ut:return Object(j.a)(Object(j.a)({},e),{},{fetchingTotalSize:t.payload});case pt:return Object(j.a)(Object(j.a)({},e),{},{advertiserTotalSize:t.payload});case bt:return Object(j.a)(Object(j.a)({},e),{},{advertisersWithSearchInput:t.payload});case jt:return Object(j.a)(Object(j.a)({},e),{},{generatingReport:t.payload});case mt:return Object(j.a)(Object(j.a)({},e),{},{generateReportSuccess:t.payload});case ft:return Object(j.a)(Object(j.a)({},e),{},{generateReportError:t.payload});default:return e}}),{loading:!1,creatingAdvertiser:!1,fetchError:null,fetchByIdError:null,createAdvertiserError:null,advertisers:[],advertiserSize:0,advertiser:null,advertiserTotalSize:0,fetchingTotalSize:!1,advertisersWithSearchInput:[],generatingReport:!1,generateReportSuccess:null,generateReportError:null},{fetchAdvertisers:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:nt,payload:!0}),e({type:st,payload:null}),e({type:ot,payload:[]}),t.prev=3,t.next=6,E.get("/advertisers",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 6:n=t.sent,e({type:ot,payload:n.data.advertisers}),e({type:lt,payload:n.data.size}),e({type:nt,payload:!1}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(3),t.t0.response?e({type:st,payload:t.t0.response.data.message||"Unable to fetch advertisers. Something went wrong"}):e({type:st,payload:"Unable to fetch advertisers. Something went wrong"}),e({type:nt,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(e){return t.apply(this,arguments)}}()},fetchAdvertisersWithSearchInput:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:nt,payload:!0}),e({type:st,payload:null}),e({type:bt,payload:[]}),t.prev=3,t.next=6,E.get("/advertisers",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 6:n=t.sent,e({type:bt,payload:n.data.advertisers}),e({type:nt,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),t.t0.response?e({type:st,payload:t.t0.response.data.message||"Unable to fetch advertisers. Something went wrong"}):e({type:st,payload:"Unable to fetch advertisers. Something went wrong"}),e({type:nt,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchAdvertiserById:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(a),e({type:nt,payload:!0}),e({type:it,payload:null}),t.prev=3,t.next=6,E.get("/advertisers/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 6:n=t.sent,e({type:dt,payload:n.data}),e({type:nt,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(3),t.t0.response?e({type:it,payload:t.t0.response.data.message||"Unable to fetch particular advertiser. Something went wrong"}):e({type:it,payload:"Unable to fetch particular advertiser. Something went wrong"}),e({type:nt,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},fetchTotalAdvertisersSize:function(e){return Object(b.a)(Object(p.a)().mark((function t(){var a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ut,payload:!0}),e({type:st,payload:null}),t.prev=2,t.next=5,E.get("/advertisers",{headers:{Authorization:"Bearer ".concat(H())}});case 5:a=t.sent,e({type:pt,payload:a.data.size}),e({type:ut,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:st,payload:t.t0.response.data.message||"Unable to fetch advertisers. Something went wrong"}):e({type:st,payload:"Unable to fetch advertisers. Something went wrong"}),e({type:ut,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))},createAdvertiser:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:rt,payload:!0}),e({type:ct,payload:null}),t.prev=2,t.next=5,E.post("/advertisers",a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:n=t.sent,console.log(n.data),e({type:rt,payload:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response?e({type:ct,payload:t.t0.response.data.message||"Unable to create advertiser. Something went wrong"}):e({type:ct,payload:"Unable to create advertiser. Something went wrong"}),e({type:rt,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()},generateAdvertiserReport:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r,c,s,i;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:jt,payload:!0}),e({type:ft,payload:null}),t.prev=2,t.next=5,E.get("/advertisers/report/generate",{headers:{Authorization:"Bearer ".concat(H())},params:{advertiser:a},responseType:"arraybuffer"});case 5:r=t.sent,c=new Blob([r.data],{type:"application/pdf"}),(s=document.createElement("a")).href=window.URL.createObjectURL(c),i=(new Date).getTime(),s.download="".concat(n,"_AdReport_").concat(i),s.click(),console.log(r.data),e({type:jt,payload:!1}),e({type:mt,payload:"Report generated successfully!"}),t.next=21;break;case 17:t.prev=17,t.t0=t.catch(2),t.t0.response?e({type:ft,payload:t.t0.response.data.message||"Unable to generate report for advertiser. Something went wrong"}):e({type:ft,payload:"Unable to generate report for advertiser. Something went wrong"}),e({type:jt,payload:!1});case 21:case"end":return t.stop()}}),t,null,[[2,17]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:ht[t],payload:null})}}}),Ot=gt.Context,xt=gt.Provider,yt=function(e){var t=e.onBtnClick,a=e.title,n=e.icon,r=e.isLoading;return Object(g.jsx)("button",{onClick:t,className:"text-base text-white bg-247-red-shade px-5 py-3 rounded-full flex items-center justify-center",style:{minWidth:"160px"},children:r?Object(g.jsx)(k,{}):Object(g.jsxs)(g.Fragment,{children:[n,a]})})},vt=a(141),wt=a.n(vt),Nt=a(97),St=a.n(Nt),Ct=a(176),kt=a.n(Ct),At=a(236),It=a.n(At);It.a.setAppElement("#root");var Dt,zt=function(e){var t=e.modalOpen,a=e.setModalOpen,n=e.children,r=e.width,c=e.cb,s={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",backgroundColor:"#282C31",border:"1px solid #282C31",borderRadius:"8px",width:r?"".concat(r,"px"):"650px",padding:"28px 32px",maxHeight:"90vh",overflowY:"auto"},overlay:{backgroundColor:"rgba(0, 0, 0, 0.86)"}};return Object(g.jsx)(It.a,{isOpen:t,style:s,onRequestClose:function(){a(!1),c&&c()},children:n})},_t=a(301),Tt=a.n(_t),Et=["label","darkMode","placeholder","startDate","endDate","handleChange","errorText"],Pt=function(e){var t=e.label,a=e.darkMode,n=e.placeholder,r=e.startDate,c=e.endDate,s=e.handleChange,i=e.errorText,o=Object(m.a)(e,Et);return Object(g.jsxs)("div",{className:"mt-8",children:[t&&Object(g.jsx)("label",{className:"text-base mb-2 font-medium inline-block text-white",children:t}),Object(g.jsxs)("div",{className:C()("relative","rounded-md",{"bg-247-dark-mode-input-bg":a}),children:[Object(g.jsx)(Tt.a,Object(j.a)({className:C()("z-20","w-full","py-3"),selectsRange:!0,startDate:r,endDate:c,onChange:function(e){return s(e)},placeholderText:n},o)),Object(g.jsx)(L.g,{className:"absolute top-1/2 left-5 cursor-pointer z-0",style:{transform:"translateY(-50%)"},size:20,color:"#DFDFDF"})]}),i&&Object(g.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:i})]})},Mt=a(303),Ft=["innerProps","cx","data","selectProps","isSelected","isFocused"],qt=["label","standAlone","bgColor","borderColor","options","value","darkMode","errorText","placeholderText","handleChange"],Rt=function(e){var t=e.innerProps,a=(e.cx,e.data,e.selectProps,e.isSelected),n=e.isFocused,r=Object(m.a)(e,Ft);return Object(g.jsxs)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:C()("flex","items-center","px-3","py-3","cursor-pointer","hover:bg-black","hover:text-247-red-straight",{"bg-black":a}),"data-focused":n,"data-selected":a},t),r),{},{children:[Object(g.jsx)("div",{className:"w-5 h-5",children:a&&Object(g.jsx)(L.h,{size:20})}),Object(g.jsx)("label",{className:"ml-3",children:r.label})]}))},Bt=function(e){var t=e.label,a=e.standAlone,n=e.bgColor,r=e.borderColor,c=e.options,s=e.value,i=e.darkMode,o=e.errorText,l=e.placeholderText,d=e.handleChange,u=Object(m.a)(e,qt),p={control:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{backgroundColor:t.selectProps.darkMode?"rgba(0, 0, 0, 0.25)":n,borderColor:t.selectProps.darkMode?"#4D4D4D":r,padding:"6px 10px","&:hover":{borderColor:t.selectProps.darkMode?"#4D4D4D":r},"&:focus":{borderColor:t.selectProps.darkMode?"#4D4D4D":r,boxShadow:"none"}})},indicatorSeparator:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{display:"none"})},input:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontSize:"1.125rem",fontWeight:"500",color:"#fff"})},placeholder:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",color:"#848b95"})},singleValue:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",color:t.isDisabled?"rgba(255, 255, 255, 0.5)":"#fff"})},menu:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",backgroundColor:t.selectProps.darkMode?"#222222":n,color:"#fff"})}};return Object(g.jsxs)("div",{className:C()({"mt-8":!a}),children:[t&&Object(g.jsx)("label",{className:"inline-block text-white mb-2 font-medium",children:t}),Object(g.jsx)(Mt.a,Object(j.a)({className:"react-select",options:c,placeholder:l,styles:p,darkMode:i,value:s,onChange:d,isSearchable:!1,components:{Option:Rt}},u)),o&&Object(g.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:o})]})},Lt=a(26),Ut=a(60),Wt=a(304),Vt=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;return new Promise((function(n,r){var c,s=document.createElement("video");s.setAttribute("src",t?e:URL.createObjectURL(e)),s.load(),s.addEventListener("error",(function(e){r("error when loading video file",e)})),s.addEventListener("loadedmetadata",(function(){c=s.duration,s.duration<a?r("video is too short."):(setTimeout((function(){s.currentTime=a}),200),s.addEventListener("seeked",(function(){var e=document.createElement("canvas");e.width=s.videoWidth,e.height=s.videoHeight;var t=e.getContext("2d");t.drawImage(s,0,0,e.width,e.height),t.canvas.toBlob((function(e){n({blob:e,duration:c})}),"image/jpeg",.75)})))}))}))},Gt={".jpg,.png,.jpeg":"(PNG, AND JPG Files Supported)",".mp4":"(MP4 Files Supported)"},Qt=function(e){var t=e.label,a=e.multiple,r=e.callUpdateFilesCb,c=e.accepts,s=e.setDuration,i=e.isEdit,o=e.resetToDefault,l=Object(n.useState)({}),d=Object(z.a)(l,2),u=d[0],m=d[1],f=Object(n.useRef)(null),h=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var n,r,c,i,o,l,d,b;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(Lt.a)(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=25;break}if(!((c=r.value).size<5e8)){e.next=23;break}if(a){e.next=22;break}if(i="image"===c.type.split("/")[0],o=void 0,!i){e.next=13;break}o=URL.createObjectURL(c),e.next=20;break;case 13:return e.next=15,Vt(c);case 15:l=e.sent,d=l.blob,b=l.duration,s&&s(b),o=URL.createObjectURL(d);case 20:return c.preview=o,e.abrupt("return",{file:c});case 22:u[c.name]=c;case 23:e.next=3;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(1),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:return e.abrupt("return",Object(j.a)({},u));case 34:case"end":return e.stop()}}),e,null,[[1,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.target.files).length){e.next=7;break}return e.next=4,h(a);case 4:n=e.sent,m(n),r(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"mt-8",children:[Object(g.jsxs)("label",{className:"mb-2 font-medium inline-block text-white text-base",children:[t," ",Object(g.jsx)("span",{className:"text-xs font-normal ml-3",children:c?Gt[c]:"(PNG, JPG, AND MP4 Files Supported)"})]}),Object(g.jsxs)("div",{className:"rounded-md w-full bg-247-dark-mode-input-bg p-4",children:[!Object.keys(u).length&&Object(g.jsxs)("div",{className:"w-full relative rounded-md border border-dashed border-247-dotted-border bg-247-upload-bg flex-col text-center py-5 text-247-placeholder-shade cursor-pointer",children:[Object(g.jsx)("div",{className:"mx-auto inline-block",children:Object(g.jsx)(Ut.d,{size:28})}),Object(g.jsxs)("p",{className:"text-sm",children:["Drag and drop or browse to choose ",a?"files":"a file"]}),Object(g.jsx)("input",{type:"file",ref:f,className:"absolute top-0 left-0 bottom-0 right-0 w-full opacity-0 cursor-pointer",onChange:function(e){return O(e)},accept:c||".jpg,.png,.jpeg,.mp4"})]}),!!Object.keys(u).length&&Object(g.jsxs)("div",{className:"rounded-md max-h-52 relative group",children:[Object(g.jsx)("div",{className:"absolute flex items-end justify-end rounded-md w-full h-full group-hover:visible group-hover:bg-247-overlay",children:Object(g.jsxs)("div",{className:"flex items-center space-x-4 mr-5 mb-5",children:[i&&Object(g.jsxs)("button",{className:"bg-white rounded-md opacity-0 group-hover:opacity-100 flex items-center h-10 px-4 text-black",onClick:o,children:[Object(g.jsx)(Wt.a,{size:16,color:"#f00",className:"mr-2"}),"Reset"]}),Object(g.jsx)("div",{onClick:function(){m({}),r({})},className:"bg-white flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100  w-10 h-10 rounded-md",children:Object(g.jsx)(Ke.c,{size:16,color:"#f00"})})]})}),Object.keys(u).map((function(e,t){var a=u[e];return Object(g.jsx)("div",{children:Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"max-h-52 w-full object-cover rounded-md",src:a.preview,alt:"file preview ".concat(t)})})},e)}))]})]})]})},Kt=function(e,t){Object(n.useEffect)((function(){e&&Ve.toast.error(e,{duration:3e3}),setTimeout((function(){return t("create")}),3e3)}),[e])},Ht=a(327),Yt=["innerProps","cx","data","selectProps","isSelected","isFocused"],Jt=function(e){var t=e.innerProps,a=(e.cx,e.data,e.selectProps,e.isSelected),n=e.isFocused,r=Object(m.a)(e,Yt);return Object(g.jsxs)("div",Object(j.a)(Object(j.a)(Object(j.a)({className:C()("flex","items-center","px-2","py-3","cursor-pointer","hover:bg-black","hover:text-247-red-straight",{"bg-black":a}),"data-focused":n,"data-selected":a},t),r),{},{children:[Object(g.jsx)("div",{className:"w-5 h-5",children:a&&Object(g.jsx)(L.h,{size:20})}),Object(g.jsx)("label",{className:"ml-3",children:r.label})]}))},Xt=function(e){var t=e.label,a=e.standAlone,n=e.bgColor,r=e.borderColor,c=e.handleChange,s=e.darkMode,i=e.errorText,o=e.placeholderText,l=e.value,d=e.loadOptionFn,u=e.createNewOption,p=e.getOptionLabel,b=e.getOptionValue,m=e.loading,f=e.disabled,h=e.inputValue,O=e.onInputValueChange,x={control:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{backgroundColor:t.selectProps.darkMode&&t.isDisabled?"rgba(0, 0, 0, 0.1)":t.selectProps.darkMode&&!t.isDisabled?"rgba(0, 0, 0, 0.25)":n,borderColor:t.selectProps.darkMode?"#4D4D4D":r,padding:"6px 10px","&:hover":{borderColor:t.selectProps.darkMode?"#4D4D4D":r},"&:focus":{borderColor:t.selectProps.darkMode?"#4D4D4D":r,boxShadow:"none"}})},indicatorSeparator:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{display:"none"})},input:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontSize:"1.125rem",fontWeight:"500",color:"#fff"})},placeholder:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",color:"#848b95"})},singleValue:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",color:t.isDisabled?"rgba(255, 255, 255, 0.5)":"#fff"})},menu:function(e,t){return Object(j.a)(Object(j.a)({},e),{},{fontWeight:"500",backgroundColor:t.selectProps.darkMode?"#222222":n,color:"#fff"})}};return Object(g.jsxs)("div",{className:C()({"mt-8":!a}),children:[t&&Object(g.jsx)("label",{className:"inline-block text-white mb-2 font-medium",children:t}),Object(g.jsx)(Ht.a,{value:l,inputValue:h,styles:x,darkMode:s,getOptionLabel:p,getOptionValue:b,components:{Option:Jt},cacheOptions:!0,defaultOptions:!0,loadOptions:d,isSearchable:!0,onChange:c,onInputChange:O,onCreateOption:u,isClearable:!0,placeholder:o,isLoading:m,isDisabled:m||f,maxMenuHeight:180}),i&&Object(g.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:i})]})},Zt=[{label:"All",id:"all"},{label:"Active",id:"active"},{label:"Closed",id:"closed"},{label:"Paused",id:"paused"}],$t=[{label:"All Types",value:"all"},{label:"Image",value:"image"},{label:"Video",value:"video"}],ea=[{label:"All",id:"all"},{label:"Active",id:"approved"},{label:"Suspended",id:"suspended"},{label:"Pending",id:"pending"}],ta=[{value:"image",label:"Image"},{value:"video",label:"Video"}],aa="notification::join",na="notification::driver_approval_request",ra="notification::driver_approved",ca="notification::driver_suspended",sa="notification::driver_rejected",ia="notification::driver_broadcast",oa="notification::driver_payout_request",la="notification::driver_payout_fail",da="notification::driver_payout_success",ua=function(e){var t=e.imgSrc,a=e.onRemoveExistingMedia,n=e.label;return Object(g.jsxs)("div",{className:"mt-8",children:[Object(g.jsxs)("label",{className:"mb-2 font-medium inline-block text-white text-base",children:[n," ",Object(g.jsx)("span",{className:"text-xs font-normal ml-3",children:"(PNG, JPG, AND MP4 Files Supported)"})]}),Object(g.jsxs)("div",{className:"rounded-md w-full bg-247-dark-mode-input-bg p-4",children:[" ",Object(g.jsxs)("div",{className:"w-full max-h-52 rounded-md relative group",children:[Object(g.jsx)("div",{className:"absolute flex items-end justify-end rounded-md w-full h-full group-hover:visible group-hover:bg-247-overlay",children:Object(g.jsx)("div",{onClick:a,className:"bg-white flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100  w-10 h-10 rounded-md mr-5 mb-5",children:Object(g.jsx)(Ke.c,{size:16,color:"#f00"})})}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{className:"max-h-52 w-full object-cover rounded-md",src:t,alt:"campaign preview"})})]})]})]})},pa=function(e){var t,a,r=e.modalIsOpen,c=e.setIsOpen,s=e.modalWidth,i=e.isEdit,o=e.editData,l=e.editFn,d=e.editing,u=e.fetchCallback,j={validationSchema:R.b({campaignName:R.c().required("Campaign name is required"),duration:R.a().length(2,"select start and end duration").required("Campaign duration is required"),adBudget:R.c().required("Ad Spend is required"),adType:R.b().required("Ad type is required"),advertiser:R.b().required("Advertiser is required").typeError("This field cannot be empty")})}.validationSchema,m=Object(n.useContext)(he),f=m.createCampaign,h=m.clearError,O=m.state,y=O.loading,v=O.createErrorMsg,N=Object(n.useState)(0),S=Object(z.a)(N,2),C=S[0],k=S[1],A=Object(n.useState)([]),D=Object(z.a)(A,2),_=D[0],T=D[1],P=Object(n.useState)(!1),M=Object(z.a)(P,2),F=M[0],B=M[1],L=Object(n.useState)(""),U=Object(z.a)(L,2),W=U[0],V=U[1],G=Object(n.useState)(!1),K=Object(z.a)(G,2),Y=K[0],J=K[1];Kt(v,(function(){h("create")}));var X=Object(w.e)({resolver:Object(q.a)(j),defaultValues:i&&o}),Z=X.register,$=X.handleSubmit,ee=X.control,te=X.formState.errors,ae=X.setValue,ne=X.setError,re=X.clearErrors,ce=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/advertisers".concat(t?"?startsWith=".concat(t):""),{headers:{Authorization:"Bearer ".concat(H())}});case 2:return a=e.sent,e.abrupt("return",a.data.advertisers);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,E.post("/advertisers",{companyName:t},{headers:{Authorization:"Bearer ".concat(H())}});case 4:a=e.sent,B(!1),ae("advertiser",a.data),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0.response),e.t0.response?ne("advertiser",{message:e.t0.response.data.message||"Unable to create advertiser, try again"}):ne("advertiser",{message:"Unable to create new advertiser, try again"}),B(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i){e.next=5;break}return e.next=3,le(t);case 3:e.next=7;break;case 5:return e.next=7,oe(t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=new FormData,!_[0]){e.next=14;break}return a.append("campaignName",t.campaignName),a.append("advertiser",t.advertiser.id),a.append("videoLengthInSeconds",C),a.append("adBudget",parseFloat(t.adBudget.replace(/,/g,""))),a.append("adType",t.adType.value),a.append("duration",JSON.stringify([Object(Q.default)(t.duration[0],"yyyy-MM-dd"),Object(Q.default)(t.duration[1],"yyyy-MM-dd")])),a.append("campaignMedia",_[0]),e.next=11,f(a,(function(){return Ge.a.success("Campaign created successfully"),u()}));case 11:c(!1),e.next=15;break;case 14:Ge.a.error("You need to upload a content for the campaign");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,n,r,s,i;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wt()(t,(function(e,t){return!St()(o[t],e)})),!kt()(a)||_[0]){e.next=4;break}return Ge.a.error("You haven't made any changes!"),e.abrupt("return");case 4:n=new FormData,e.t0=Object(p.a)().keys(a);case 6:if((e.t1=e.t0()).done){e.next=24;break}r=e.t1.value,e.t2=r,e.next="campaignName"===e.t2?11:"duration"===e.t2?13:"adBudget"===e.t2?16:"adType"===e.t2?19:21;break;case 11:return n.append("campaignName",a[r]),e.abrupt("break",22);case 13:return s=JSON.stringify([Object(Q.default)(a[r][0],"yyyy-MM-dd"),Object(Q.default)(a[r][1],"yyyy-MM-dd")]),n.append("duration",s),e.abrupt("break",22);case 16:return i=parseFloat(a[r].replace(/,/g,"")),n.append("adBudget",i),e.abrupt("break",22);case 19:return n.append("adType",a[r].value),e.abrupt("break",22);case 21:return e.abrupt("return");case 22:e.next=6;break;case 24:return _[0]&&n.append("campaignMedia",_[0]),e.next=27,l(n);case 27:c(!1);case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsxs)(zt,{modalOpen:r,setModalOpen:c,width:s,children:[Object(g.jsx)("h2",{className:"text-2xl text-white text-center font-semibold",children:i?"Edit campaign (".concat(o.campaignName,")"):"Create new campaign"}),Object(g.jsxs)("form",{className:"mt-8",onSubmit:$(ie),children:[Object(g.jsx)(x,{label:"Campaign Name",darkMode:!0,placeholder:"enter campaign name",type:"text",registerFn:Z,name:"campaignName",errorText:null===(t=te.campaignName)||void 0===t?void 0:t.message}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(w.a,{name:"advertiser",control:ee,render:function(e){var t,a=e.field;return Object(g.jsx)(Xt,{label:"Advertiser",disabled:i,handleChange:function(e){return a.onChange(e)},darkMode:!0,placeholderText:"Enter advertiser name...",value:a.value,loadOptionFn:ce,createNewOption:se,getOptionLabel:function(e){return e.__isNew__?e.label:e.companyName},getOptionValue:function(e){return e.__isNew__?e.value:e.id},loading:F,errorText:null===(t=te.advertiser)||void 0===t?void 0:t.message,inputValue:W,onInputValueChange:function(e){re("advertiser"),V(e)}})}}),Object(g.jsx)(w.a,{name:"duration",control:ee,render:function(e){var t,a=e.field;return Object(g.jsx)(Pt,{label:"Duration",darkMode:!0,placeholder:"Select campaign duration",startDate:a.value&&(null===a||void 0===a?void 0:a.value[0])||null,endDate:a.value&&(null===a||void 0===a?void 0:a.value[1])||null,handleChange:function(e){return a.onChange(e)},errorText:null===(t=te.duration)||void 0===t?void 0:t.message,minDate:new Date})}})]}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Ad Budget",darkMode:!0,placeholder:"enter campaign spend",type:"string",registerFn:Z,setValue:ae,isNumeric:!0,name:"adBudget",errorText:null===(a=te.adBudget)||void 0===a?void 0:a.message}),Object(g.jsx)(w.a,{name:"adType",control:ee,render:function(e){var t,a=e.field;return Object(g.jsx)(Bt,{label:"Ad Type",darkMode:!0,options:ta,isDisabled:i,placeholderText:"select ad type",value:a.value,handleChange:function(e){return a.onChange(e)},errorText:null===(t=te.adType)||void 0===t?void 0:t.message})}})]}),i&&!Y?Object(g.jsx)(ua,{label:"Upload Content",imgSrc:o.preview,onRemoveExistingMedia:function(){return J(!0)}}):Object(g.jsx)(Qt,{label:"Upload Content",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);T(t)},isEdit:i,resetToDefault:function(){T([]),J(!1)},setDuration:k}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:y||d,children:i?"Submit Change":"Create Campaign"})]})]})},ba=a(53),ja=a.n(ba),ma=function(e){Object.assign({},e);return Object(g.jsxs)("div",{className:"h-full",children:[Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},fa=function(e){var t=e.title,a=e.recordType,n=e.recordInfo,r=e.handleClick;return Object(g.jsxs)("div",{onClick:r,className:"w-full rounded-md bg-247-gray-accent3 border-2 border-247-dark-text px-8 py-5 mb-6 cursor-pointer",children:[Object(g.jsx)("span",{className:"text-white bg-247-red-shade rounded-full px-3 py-1 text-sm",children:ja()(a)}),Object(g.jsx)("h3",{className:"text-white text-2xl font-medium my-3",children:t}),Object(g.jsx)("div",{children:Object.entries(n).map((function(e){var t=Object(z.a)(e,2),a=t[0],n=t[1];return Object(g.jsx)("span",{className:"bg-247-main rounded-full text-white text-sm px-2 py-1 mr-2",children:n},a)}))})]})},ha=function(e){var t=e.results,a=e.loadingResults,n=Object(i.g)();return Object(g.jsx)("div",{className:"mt-9 px-5",children:a?Object(g.jsx)(ma,{}):t.map((function(e){return Object(g.jsx)(fa,{title:e.name||e.campaignName||e.advertiserName,recordType:e.type,recordInfo:e.recordInfo,handleClick:function(){return function(e){n.push("/".concat(e.type,"/").concat(e.id))}(e)}},e.id)}))})},ga=a(325),Oa=Object(n.createContext)({notifications:[],notificationCount:0,emitEvent:function(){},fetchNotifications:function(){},closeNotification:function(){},testNotif:function(){}}),xa=function(){return Object(n.useContext)(Oa)},ya=function(e){var t=e.children,a=Object(n.useContext)(M).state.user,r=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/notifications",{headers:{Authorization:"Bearer ".concat(H())},params:{status:"unread",userId:a.id,sortBy:"createdAt",orderBy:"desc"}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t,a){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.patch("/notifications/".concat(t,"/read"),a,{headers:{Authorization:"Bearer ".concat(H())}});case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s=Object(n.useState)([]),i=Object(z.a)(s,2),o=i[0],l=i[1],d=Object(n.useState)(0),u=Object(z.a)(d,2),j=u[0],m=u[1],f=Object(n.useRef)(o),h=Object(n.useRef)(j),O=function(e){f.current=e,l(e)},x=function(e){h.current=e,m(e)},y=Object(n.useRef)(),v=function(e){console.log(e);var t=[e].concat(Object(N.a)(f.current));O(t),x(h.current+1)},w=function(e){console.log(e);var t=[e].concat(Object(N.a)(f.current));O(t),x(h.current+1)};Object(n.useEffect)((function(){y.current=Object(ga.a)("https://api.adverts247.com/notifier"),r().then((function(e){O(e.notifications),x(e.count)})),y.current.on("connect",(function(){console.log("connected"),y.current.emit(aa,{userId:a.id})})),y.current.on(oa,v),y.current.on(na,w)}),[]);var S=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.filter((function(e){return e.id!==t})),O(a),x(a.length),e.next=5,c(t,{read:!0});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(g.jsx)(Oa.Provider,{value:{notificationCount:j,notifications:o,emitEvent:function(e,t){y.current.emit(e,t)},fetchNotifications:r,closeNotification:S},children:t})},va=a(306),wa=function(e){var t=e.subject,a=e.message,n=e.actionText,r=e.handleAction,c=e.handleClose,s=e.time;return Object(g.jsxs)("div",{className:"bg-247-dark-accent2 w-full grid grid-cols-3 rounded-md shadow-xl mb-3",children:[Object(g.jsxs)("div",{className:"col-span-2 py-3 px-5",children:[t&&Object(g.jsx)("h5",{className:"text-247-transparent text-base font-semibold mb-1",children:t}),Object(g.jsx)("p",{className:"text-247-transparent text-sm",children:a}),Object(g.jsx)("p",{className:"text-247-gray-accent5 text-sm mt-2",children:"".concat(s," ago")})]}),Object(g.jsxs)("div",{className:"flex flex-col",children:[Object(g.jsx)("button",{onClick:r,className:"bg-247-error-text w-full text-247-transparent py-3 rounded-tr-md flex-grow text-sm font-bold cursor-pointer",children:n}),Object(g.jsx)("button",{onClick:c,className:"bg-247-gray-accent2 w-full py-3 rounded-br-md flex-grow text-sm font-bold cursor-pointer",children:"Close"})]})]})},Na=a(42),Sa=(Dt={},Object(Na.a)(Dt,"driver_approval_request",{actionText:"Approve",action:function(e,t){var a="/driver/".concat(e);l.push(a),t&&t()}}),Object(Na.a)(Dt,"payout_request",{actionText:"Settle",action:function(e,t){var a="/driver/".concat(e,"/?payoutModalOpen=true");l.push(a),t&&t()}}),Dt),Ca=function(e){var t=e.notifications,a=e.show,n=e.handleNotificationClose,r=e.setShow;return Object(g.jsx)("div",{className:C()(["w-2/6","fixed","top-0","right-0","mt-28","mr-9","z-50",{visible:a},{hidden:!a},{"opacity-0":!a},{"opacity-100":a}]),children:t.map((function(e){var t,a=(null===e||void 0===e||null===(t=e.sender)||void 0===t?void 0:t.driverId)||(null===e||void 0===e?void 0:e.driverId);return Object(g.jsx)(wa,{actionText:Sa[e.type].actionText,handleAction:function(){r(!1),Sa[e.type].action(a,(function(){return n(e.id)}))},message:e.notification,subject:e.subject,time:Object(va.a)(new Date(e.createdAt)),handleClose:function(){return n(e.id||e.notificationId)}},e.id)}))})},ka=Object(n.forwardRef)((function(e,t){var a=e.open,n=e.setOpen,r=e.count,c=e.notifications,s=e.onNotificationRead;return Object(g.jsxs)("div",{ref:t,className:"relative cursor-pointer",children:[Object(g.jsxs)("div",{onClick:function(){n(!a)},children:[Object(g.jsx)(L.d,{color:"#979797",size:28}),r>0&&Object(g.jsx)("div",{className:"w-5 h-5 flex items-center justify-center border-2 border-247-main rounded-full bg-red-500 absolute -top-2 -right-1",children:Object(g.jsx)("span",{className:"text-xs text-247-transparent",children:r})})]}),Object(g.jsx)(Ca,{notifications:c,show:a,handleNotificationClose:s,setShow:n})]})})),Aa=at(ka),Ia=Object(n.forwardRef)((function(e,t){var a=e.children,r=e.open,c=e.setOpen,s=e.customHeader,o=e.fetchCampaignsFn,l=Object(i.h)(),d=Object(n.useContext)(M).logout,u=xa(),j=u.notifications,m=u.notificationCount,f=u.closeNotification,O=Object(n.useContext)(he),x=O.state,y=x.loading,v=x.campaignsWithSearchInput,w=O.fetchCampaignsWithSearchInput,S=Object(n.useContext)(Ot),C=S.state,k=C.loading,A=C.advertisersWithSearchInput,I=S.fetchAdvertisersWithSearchInput,_=Object(n.useContext)(Me),T=_.state,E=T.fetchingDrivers,P=T.driversWithSearchInput,F=_.fetchDriversWithSearchInput,q=Object(n.useState)(""),R=Object(z.a)(q,2),B=R[0],U=R[1],W=Object(n.useState)(!1),V=Object(z.a)(W,2),G=V[0],Q=V[1],K=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={startsWith:t},e.next=3,Promise.all([w(a),I(a),F(a)]);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),H=Object(n.useCallback)(Ye()((function(e){K(e)}),500),[]),Y=Object(n.useMemo)((function(){return k||y||E}),[k,y,E]),J=Object(n.useMemo)((function(){var e=P.map((function(e){return{type:"driver",name:e.name,recordInfo:{phoneNumber:"0".concat(e.phoneNumber),email:e.email,city:e.city},id:e.driverId}})),t=v.map((function(e){var t;return{type:"campaign",campaignName:e.campaignName,id:e.campaignID,recordInfo:{adType:e.adType,impressions:"".concat(null===e||void 0===e||null===(t=e.campaignStat)||void 0===t?void 0:t.impressions," impressions"),status:e.status}}})),a=A.map((function(e){return{type:"advertiser",advertiserName:e.companyName,id:e.advertiserId,recordInfo:{email:e.email}}}));return[].concat(Object(N.a)(e),Object(N.a)(t),Object(N.a)(a))}),[P,v,A]);return Object(g.jsxs)("div",{className:"h-screen max-h-screen overflow-y-hidden",children:[Object(g.jsx)(Ve.Toaster,{position:"top-center"}),Object(g.jsxs)("div",{className:"grid grid-cols-5 gap-0 max-h-screen h-screen",children:[Object(g.jsxs)("div",{className:"overflow-y-scroll scrollbar-hide h-screen min-h-screen border-r-2 border-247-dark-text bg-247-secondary min-w-min",children:[Object(g.jsx)("img",{src:D,alt:"logo",width:"160",className:"ml-10 mt-10"}),Object(g.jsx)("ul",{className:"ml-10 mt-20",children:et.map((function(e){return l.pathname.includes(e.link)?Object(g.jsx)("li",{className:"py-5",children:Object(g.jsx)(Qe.a,{to:e.link,children:Object(g.jsxs)("span",{className:"flex items-center space-x-6",children:[Object(g.jsx)(e.icon,{size:22,color:"#FF0000"}),Object(g.jsx)("span",{className:"text-white text-xl font-customRoboto whitespace-nowrap",children:e.label})]})})}):Object(g.jsx)("li",{className:"py-5",children:Object(g.jsx)(Qe.a,{to:e.link,children:Object(g.jsxs)("span",{className:"flex items-center space-x-6",children:[Object(g.jsx)(e.icon,{size:22,color:"#959698"}),Object(g.jsx)("span",{className:"text-247-inactive-link text-xl font-customRoboto whitespace-nowrap",children:e.label})]})})})}))})]}),Object(g.jsxs)("div",{className:"col-span-4 w-full h-screen min-h-screen bg-247-main px-10 py-10",children:[s||Object(g.jsxs)("div",{className:"flex items-center justify-between pb-4",children:[Object(g.jsx)(Je,{value:B,handleChange:function(e){U(e),H(e)},placeholderText:"Search Campaigns, Advertisers & Drivers"}),Object(g.jsxs)("div",{className:"flex space-x-8 items-center",children:[Object(g.jsx)(yt,{onBtnClick:function(){return Q(!0)},title:"Create Campaign",icon:Object(g.jsx)(L.a,{className:"mr-2",size:22})}),Object(g.jsx)(Aa,{count:m,notifications:j,onNotificationRead:f}),Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)(tt,{}),Object(g.jsxs)("div",{className:"relative",ref:t,children:[Object(g.jsx)("div",{children:Object(g.jsx)(Ke.a,{color:"#EBEBEB",className:"ml-2 cursor-pointer",onClick:function(){c(!r)}})}),Object(g.jsx)("ul",{className:"absolute top-7 text-right bg-247-secondary border -right-3 border-247-dark-text p-0 transition-all translate-y-3 origin-top-right",children:Object(g.jsx)("li",{className:h()("list-none","text-white","py-2","px-6","z-20",{"opacity-0":!r},{"opacity-100":r},{visible:r},{hidden:!r},"cursor-pointer"),onClick:d,children:"Logout"})})]})]})]})]}),Object(g.jsx)("div",{className:"overflow-y-scroll max-h-full scrollbar-hide",children:B.length>0?Object(g.jsx)(ha,{results:J,loadingResults:B.length>0&&Y}):a})]})]}),Object(g.jsx)(pa,{setIsOpen:Q,modalIsOpen:G,modalWidth:704,fetchCallback:o})]})})),Da=at(Ia),za=a(573),_a=a(574),Ta=a(328),Ea=a(578),Pa=a(318),Ma=a(319),Fa=a(156),qa=function(e){var t=e.data,a=e.yDataKey,n=e.xDataKey;return Object(g.jsx)(za.a,{width:"100%",height:300,children:Object(g.jsxs)(_a.a,{data:t,margin:{top:5,right:20,bottom:5,left:0},children:[Object(g.jsx)(Ta.a,{type:"monotone",dataKey:a,stroke:"#4FB81D"}),Object(g.jsx)(Ea.a,{stroke:"#4d4d4d",strokeDasharray:"5 5"}),Object(g.jsx)(Pa.a,{dataKey:n}),Object(g.jsx)(Ma.a,{}),Object(g.jsx)(Fa.a,{})]})})},Ra=function(e,t,a){return e>9999&&e<1e6?a?t?e.toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):e.toLocaleString("en-NG"):"".concat(t?(e/1e3).toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:0}):(e/1e3).toLocaleString("en-NG")," K"):e>=1e6?"".concat(t?(e/1e6).toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):(e/1e6).toLocaleString("en-NG")," M"):t?e.toLocaleString("en-NG",{currency:"NGN",style:"currency",maximumFractionDigits:2,minimumFractionDigits:2}):e.toLocaleString("en-NG")},Ba=function(e){var t=parseInt(e,10),a=Math.floor(t/3600),n=Math.floor((t-3600*a)/60),r=t-3600*a-60*n,c=a<10?"0".concat(a):a,s=n<10?"0".concat(n):n,i=r<10?"0".concat(r):r;return"".concat(c,":").concat(s,":").concat(i)},La=function(e){var t=parseInt(e,10),a=Math.floor(t/60),n=t-60*a,r=a<10?"0".concat(a):a,c=n<10?"0".concat(n):n;return"".concat(r,":").concat(c)},Ua=function(e){var t=e.split(":");return 60*parseInt(t[0])+parseInt(t[1])},Wa=function(e){return e/100},Va=function(e){var t=e.color,a=void 0===t?"#045684":t;return Object(g.jsxs)("svg",{width:"161",height:"130",viewBox:"0 0 161 130",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(g.jsx)("g",{filter:"url(#filter0_d_217_1150)",children:Object(g.jsx)("path",{d:"M1 112C38.8667 97.8023 120.28 55.7256 143 1",stroke:a,strokeWidth:"5"})}),Object(g.jsx)("defs",{children:Object(g.jsxs)("filter",{id:"filter0_d_217_1150",x:"0.122314",y:"0.0414124",width:"160.187",height:"129.299",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(g.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(g.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(g.jsx)("feOffset",{dx:"8",dy:"8"}),Object(g.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),Object(g.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(g.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),Object(g.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_217_1150"}),Object(g.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_217_1150",result:"shape"})]})})]})},Ga=function(e){var t=e.color,a=void 0===t?"#035524":t;return Object(g.jsxs)("svg",{width:"163",height:"112",viewBox:"0 0 163 112",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(g.jsx)("g",{filter:"url(#filter0_d_217_1170)",children:Object(g.jsx)("path",{d:"M1 3C45.3333 6.33333 136.2 29.6 145 96",stroke:a,strokeWidth:"5"})}),Object(g.jsx)("defs",{children:Object(g.jsxs)("filter",{id:"filter0_d_217_1170",x:"0.8125",y:"0.50705",width:"161.666",height:"110.821",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[Object(g.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),Object(g.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),Object(g.jsx)("feOffset",{dx:"8",dy:"8"}),Object(g.jsx)("feGaussianBlur",{stdDeviation:"3.5"}),Object(g.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),Object(g.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),Object(g.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_217_1170"}),Object(g.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_217_1170",result:"shape"})]})})]})},Qa=(a(238),a(239),function(e,t){var a=new URLSearchParams(window.location.search);return t?a.set(e,t):a.delete(e),a.toString()}),Ka=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Object(i.h)(),a=new URLSearchParams(t.search);return a.get(e)||void 0},Ha=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Object(i.g)(),a=Object(n.useCallback)((function(a){var n=Qa(e,a);t.replace("".concat(t.location.pathname).concat(n?"?".concat(n):""))}),[t,e]);return a},Ya=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=Ka(e),a=Ha(e);return[t,a]},Ja=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,a=Ya(e),n=Object(z.a)(a,2),r=n[0],c=n[1];return[r||t,c]},Xa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-DD",a=Ya(e),r=Object(z.a)(a,2),c=r[0],s=r[1],i=Object(n.useMemo)((function(){var e=G()(c);return c&&e.isValid()?e:void 0}),[c]),o=Object(n.useCallback)((function(e){s(e?e.format(t):void 0)}),[t,s]);return[i,o]},Za=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",t=arguments.length>1?arguments[1]:void 0,a=Xa(e),n=Object(z.a)(a,2),r=n[0],c=n[1];return[r||t,c]},$a=a(186),en=a(320),tn=function(e,t){return Object(en.a)(new Date(e),new Date(t))},an=function(e){return Object(Q.default)(new Date(e),"dd MMM, yyyy")},nn=function(e){return Object(Q.default)(new Date(e),"dd/MM")},rn=a(225),cn=Object(Q.default)(new Date,"yyyy/MM/dd"),sn=Object(Q.default)(Object(rn.default)(new Date,7),"yyyy/MM/dd"),on=G()().subtract(12,"M"),ln=G()(),dn={startDate:on,endDate:ln},un=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"160px",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})},pn=function(e){var t=e.statName,a=e.statInfo,n=e.bgColor,r=e.statChange,c=e.indicatorColor;return Object(g.jsxs)("div",{className:"px-9 py-8 w-full bg-bottom ".concat(n," bg-cover rounded-md border border-247-box-border col-span-1 relative"),children:[Object(g.jsx)("h3",{className:"text-white font-customRoboto text-2xl",children:t}),Object(g.jsxs)("div",{className:"mt-12 flex relative items-center",children:[Object(g.jsx)("h2",{className:"text-white font-bold text-5xl",children:a}),r>0?Object(g.jsx)(L.f,{className:"absolute left-56 text-247-increment-green",size:48}):Object(g.jsx)(L.e,{className:"absolute left-56 text-247-decrement-red",size:48})]}),Object(g.jsx)("div",{className:"absolute top-1/2 right-10 mt-2",style:{transform:"translateY(-50%)"},children:r>0?Object(g.jsx)(Va,{color:c}):Object(g.jsx)(Ga,{color:c})})]})},bn=function(){var e=Object(n.useContext)(he),t=e.state,a=t.fetchingTotalSize,r=t.campaignTotalSize,c=t.activeCampaignsSize,s=t.fetchingActiveCampaigns,i=t.fetchingDailyStat,o=t.campaignDailyStat,l=e.fetchTotalCampaignSize,d=e.fetchActiveCampaigns,u=e.fetchDailyCampaignStat,m=Object(n.useContext)(Ue),f=m.state,h=f.fetchingRevenue,O=f.totalRevenue,x=m.fetchRevenue,y=Object(n.useContext)(Me),v=y.state,w=v.driverListSize,N=v.fetchingDrivers,S=y.fetchDrivers,C=Object(n.useMemo)((function(){return a||s||N||h||i}),[s,N,h,a,i]),k=Object(n.useMemo)((function(){return o.map((function(e){return{impressions:e.impressions,date:nn(e.date)}}))}),[o]),A=Za("startDate",dn.startDate),I=Object(z.a)(A,2),D=I[0],_=I[1],T=Za("endDate",dn.endDate),E=Object(z.a)(T,2),P=E[0],M=E[1],F=Object(n.useMemo)((function(){return{startDate:Object(Q.default)(D.toDate(),"yyyy/MM/dd"),endDate:Object(Q.default)(P.toDate(),"yyyy/MM/dd")}}),[D,P]),q=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([d(Object(j.a)({},t)),l(Object(j.a)({},t)),S(Object(j.a)({status:"approved"},t)),x()]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){q(F)}),[F]),Object(n.useEffect)((function(){W()('button[name="daterange"]').daterangepicker({opens:"left",ranges:{"Last 7 Days":[G()().subtract(6,"days"),G()()],"Last 14 Days":[G()().subtract(13,"days"),G()()],"Last 30 Days":[G()().subtract(29,"days"),G()()],"Last 3 months":[G()().subtract(3,"M"),G()()],"Last 12 months":[G()().subtract(12,"M"),G()()],"Month to date":[G()().startOf("month"),G()()],"All time":[G()().subtract(2,"Y"),G()()]},startDate:D,endDate:P,alwaysShowCalendars:!0,applyButtonClasses:"range-apply-btn"},(function(e,t,a){_(e),M(t)})),u({startDate:sn,endDate:cn})}),[]),Object(g.jsxs)(Da,{pageTitle:"Overview",children:[Object(g.jsxs)("div",{className:"flex items-center w-full justify-between",children:[Object(g.jsxs)("div",{className:"mt-16 mb-8",children:[Object(g.jsx)("h2",{className:"text-4xl text-white",children:"Hello, Welcome back"}),Object(g.jsx)("p",{className:"text-white text-base",children:"Today is Sunday, 22 February"})]}),Object(g.jsx)("div",{className:"flex",children:Object(g.jsxs)("button",{className:"bg-transparent px-5 py-3 rounded-md text-white border border-white flex items-center text-base",name:"daterange",children:[Object(g.jsx)(L.g,{size:20,className:"mr-3"}),"Set Date Filter"]})})]}),C?Object(g.jsx)("div",{className:"grid grid-cols-2 gap-8",children:Array.from({length:4},(function(e,t){return t+1})).map((function(e){return Object(g.jsx)(un,{},e)}))}):Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-8",children:[Object(g.jsx)(pn,{indicatorColor:"#045684",bgColor:"bg-blue-gradient",statChange:5.23,statInfo:Ra(r),statName:"Total Campaigns"}),Object(g.jsx)(pn,{indicatorColor:"#035524",bgColor:"bg-green-gradient",statChange:-1.08,statInfo:Ra(c),statName:"Active Campaigns"}),Object(g.jsx)(pn,{indicatorColor:"#000000",bgColor:"bg-yellow-gradient",statChange:1.75,statInfo:Ra(w),statName:"Active Drivers"}),Object(g.jsx)(pn,{indicatorColor:"#21A0AA",bgColor:"bg-orange-gradient",statChange:1.75,statInfo:Ra(Wa(O),!0),statName:"Total Revenue"})]}),Object(g.jsxs)("div",{className:"mt-10 mb-20 w-full bg-247-secondary rounded-md border-2 border-247-dark-text pl-6 pr-10 py-10",children:[Object(g.jsx)("div",{className:"flex justify-between items-center mb-10",children:Object(g.jsx)("h3",{className:"text-white font-customRoboto text-3xl font-medium",children:"Impressions"})}),Object(g.jsx)(qa,{data:k,xDataKey:"date",yDataKey:"impressions"})]})]})},jn=function(e){var t=e.infoTitle,a=e.infoValue,n=e.bgColor,r=e.statChange,c=e.btnText,s=e.btnActive,i=e.btnAction;return Object(g.jsxs)("div",{className:"".concat(n," rounded-lg border-2 border-247-dark-text py-8 px-7 flex flex-col items-start justify-between"),children:[Object(g.jsx)("h4",{className:"text-white font-customRoboto font-medium text-xl",children:t}),Object(g.jsxs)("div",{className:"mt-4 flex items-center relative",children:[Object(g.jsx)("h2",{className:"font-customRoboto text-white text-3xl font-medium",children:a}),r&&(r>0?Object(g.jsx)(L.f,{className:"absolute left-48 text-247-increment-green",size:40}):Object(g.jsx)(L.e,{className:"absolute left-48 text-247-decrement-red",size:40}))]}),c&&Object(g.jsx)("button",{onClick:function(){return i()},className:C()("text-lg","font-semibold","px-7","py-2","rounded","mt-4","bg-white","disabled:bg-247-inactive-btn","disabled:text-247-gray-accent5","disabled:cursor-not-allowed"),disabled:!s,children:c})]})},mn=function(e,t,a,r){var c=Object(n.useMemo)((function(){return e*t}),[e,t]),s=Object(n.useMemo)((function(){return c-t}),[c,t]),i=Object(n.useMemo)((function(){return a.slice(s,c)}),[s,c,a]),o=Math.ceil(r/t);return{currentList:i,indexOfFirstItem:s,indexOfLastItem:c,pages:o}},fn=function(e){var t=e.headers,a=e.children,n=e.loadingData;return Object(g.jsxs)("table",{className:"font-customRoboto w-full text-white border-collapse relative",children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{className:"border border-247-dark-text bg-247-red-straight",children:t.map((function(e,t){return Object(g.jsx)("th",{className:C()("text-left","py-4","text-lg",{"px-2":0===t},{"px-6":0!==t}),children:e},"".concat(e,"_").concat(t))}))})}),Object(g.jsx)("tbody",{className:C()({"h-48":n}),children:a})]})},hn=function(e){var t=e.checked,a=e.iconColor,n=e.name,r=e.value,c=e.handleChange;return Object(g.jsxs)("div",{className:"flex justify-center items-center",children:[Object(g.jsx)("input",{type:"checkbox",name:n,id:n,value:r,checked:t,className:"invisible w-0 h-0",onChange:c}),Object(g.jsxs)("label",{className:C()([{"text-xl":!!r},{"font-bold":!!r},{"ml-3":!!r},{"text-247-gray-accent2":!!r},"flex","items-center"]),htmlFor:n,children:[t?Object(g.jsx)(L.i,{color:a,className:C()([{"mr-2":r},"toggle-check"])}):Object(g.jsx)(L.j,{color:a,className:C()([{"mr-2":r},"toggle-check"])}),r]})]})},gn=a(82),On=function(e){var t=e.visibleRows,a=e.setActivePage,n=e.setVisibleRows,r=e.firstItem,c=e.pages,s=e.activePage,i=e.dataLength,o=e.lastItem;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("p",{className:"text-247-gray-accent2 mr-4 font-customRoboto text-base",children:"Show rows:"}),Object(g.jsxs)("select",{name:"rows",id:"rows",value:t,onChange:function(e){a(1),n(e.target.value)},className:"px-3 py-1 font-customRoboto text-247-gray-accent2 bg-transparent border-2 rounded-sm focus:outline-none focus:ring-1 border-247-dark-text",children:[Object(g.jsx)("option",{value:5,children:"5"}),Object(g.jsx)("option",{value:10,children:"10"}),Object(g.jsx)("option",{value:15,children:"15"})]})]}),Object(g.jsxs)("div",{className:"flex ml-16 items-center",children:[Object(g.jsx)("p",{className:"text-base text-247-gray-accent2",children:"".concat(r," - ").concat(c===s?i:o," of ").concat(i)}),Object(g.jsxs)("div",{className:"ml-3",children:[Object(g.jsx)("button",{onClick:1===s?null:function(){a(s-1)},className:"px-3 rounded-l-md py-1 border-2 border-247-dark-text",children:Object(g.jsx)(gn.a,{size:20,color:"#CACACA"})}),Object(g.jsx)("button",{onClick:c===s?null:function(){a(s+1)},className:"px-3 rounded-r-md py-1 border-2 border-l-0 border-247-dark-text",children:Object(g.jsx)(gn.b,{size:20,color:"#CACACA"})})]})]})]})},xn=a(321),yn=function(e){var t=e.title,a=e.subtitle;return Object(g.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(g.jsxs)("div",{className:"flex flex-col items-center",children:[Object(g.jsx)(xn.a,{size:60,color:"#d1d1d1"}),Object(g.jsx)("h4",{className:"text-white font-semibold text-2xl mt-5",children:t}),Object(g.jsx)("p",{className:"mt-2 text-gray-300",children:a})]})})},vn=function(e){var t=e.title,a=e.subtitle;return Object(g.jsx)("div",{className:"w-full flex justify-center items-center",children:Object(g.jsxs)("div",{className:"flex flex-col items-center",children:[Object(g.jsx)(gn.c,{size:60,color:"#d1d1d1"}),Object(g.jsx)("h4",{className:"text-white font-semibold text-2xl mt-5",children:t}),Object(g.jsx)("p",{className:"mt-2 text-gray-300",children:a})]})})},wn=function(e){return e.campaigns.map((function(e){var t,a;return(null===e||void 0===e||null===(t=e.campaignStat)||void 0===t||null===(a=t.adSpend)||void 0===a?void 0:a.amountInKobo)||0})).reduce((function(e,t){return e+t}),0)},Nn=function(e){return e.campaigns.map((function(e){return e.campaignStat.impressions})).reduce((function(e,t){return e+t}),0)},Sn=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"140px",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})},Cn=["","Advertiser","No. of Campaigns","Total Impressions","Total Spend","Total Duration"],kn=function(){var e=Object(n.useState)([]),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(z.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(5),u=Object(z.a)(d,2),m=u[0],f=u[1],h=Object(i.g)(),O=Object(n.useContext)(he),x=O.state,y=x.fetchingTotalSize,v=x.campaignTotalSize,w=O.fetchTotalCampaignSize,S=Object(n.useContext)(Ue),C=S.state,A=C.fetchingRevenue,I=C.totalRevenue,D=S.fetchRevenue,_=Object(n.useContext)(Ot),T=_.state,E=T.loading,P=T.advertisers,M=T.advertiserSize,F=T.fetchError,q=T.advertiserTotalSize,R=T.fetchingTotalSize,B=_.fetchAdvertisers,L=_.fetchTotalAdvertisersSize,U=Object(n.useMemo)((function(){return R||y||A}),[y,R,A]);Object(n.useEffect)((function(){Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([L(),w(),D()]);case 2:case"end":return e.stop()}}),e)})))()}),[]);var W=Object(n.useMemo)((function(){return{limit:m,skip:(o-1)*m}}),[m,o]);Object(n.useEffect)((function(){B(Object(j.a)({},W))}),[W]);var V=mn(o,m,P,M),G=V.indexOfFirstItem,Q=V.indexOfLastItem,K=V.pages;return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Da,{pageTitle:"Advertisers",children:[U?Object(g.jsx)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:Array.from({length:3},(function(e,t){return t+1})).map((function(e){return Object(g.jsx)(Sn,{},e)}))}):Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"No. of Advertisers",infoValue:Ra(q)}),Object(g.jsx)(jn,{bgColor:"bg-green-gradient",infoTitle:"Total Revenue",infoValue:Ra(Wa(I),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-yellow-gradient",infoTitle:"Total Campaigns",infoValue:Ra(v,!1,!0)})]}),Object(g.jsxs)("div",{className:"mt-16 rounded-md bg-black border-2 border-247-dark-text mb-10",children:[Object(g.jsxs)(fn,{headers:Cn,loadingData:E,children:[E&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!E&&P.length>0&&P.map((function(e,t){var n=Nn(e),c=wn(e),s=e.campaigns.map((function(e){var t;return(null===e||void 0===e||null===(t=e.campaignStat)||void 0===t?void 0:t.playTimeInSeconds)||0})).reduce((function(e,t){return e+t}),0),i=Ba(s);return Object(g.jsxs)("tr",{onClick:function(t){t.target.closest(".toggle-check")||h.push({pathname:"/advertiser/".concat(e.advertiserId)})},className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(g.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(g.jsx)(hn,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),n=Object(N.a)(a);n.splice(t,1),r(n)}else r([].concat(Object(N.a)(a),[e]))}(t)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsx)("div",{className:"flex items-center",children:e.companyName})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Number(e.campaigns.length).toLocaleString("en-US")," "]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(n).toLocaleString("en-US")}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(Wa(c)).toLocaleString("en-NG",{currency:"NGN",style:"currency",minimumFractionDigits:2,maximumFractionDigits:2})}),Object(g.jsx)("td",{className:"px-6 py-5",children:i})]},e.id)}))]}),!E&&!F&&0===P.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!E&&F&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:F})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:P&&P.length>0&&Object(g.jsx)(On,{activePage:o,dataLength:M,firstItem:G+1,lastItem:Q,pages:K,setActivePage:l,setVisibleRows:f,visibleRows:m})})]})})},An=a(128),In=a.n(An),Dn=function(e){var t=e.defaultFilters,a=e.filterList,n=e.activeFilter,r=e.setActiveFilter;return Object(g.jsx)("div",{className:"bg-247-tab-bg rounded-lg p-3",children:Object(g.jsx)("ul",{className:"flex text-white gap-3 text-lg",children:a.map((function(e){var a=e.label,c=e.id;return Object(g.jsx)("li",{children:Object(g.jsx)("button",{onClick:function(){c===t.status?r(void 0):r(c)},className:h()("py-1","px-2","rounded-md",{"bg-247-tab-bg":c!==n},{"bg-247-red-straight":c===n}),children:a})},c)}))})})},zn=a(106),_n=a.n(zn),Tn=function(e){var t=e.defaultFilters,a=e.statusFilters,r=e.typeFilters,c=e.selectedStatusFilter,s=e.setSelectedStatusFilter,i=e.selectedTypeFilter,o=e.setSelectedTypeFilter,l=e.startDate,d=e.endDate,u=e.setStartDate,p=e.setEndDate;return Object(n.useEffect)((function(){W()('button[name="campaign-daterange"]').daterangepicker({opens:"left",ranges:{"Last 7 Days":[G()().subtract(6,"days"),G()()],"Last 14 Days":[G()().subtract(13,"days"),G()()],"Last 30 Days":[G()().subtract(29,"days"),G()()],"Last 3 months":[G()().subtract(3,"M"),G()()],"Last 12 months":[G()().subtract(12,"M"),G()()],"Month to date":[G()().startOf("month"),G()()],"All time":[G()().subtract(2,"Y"),G()()]},startDate:l,endDate:d,alwaysShowCalendars:!0,applyButtonClasses:"range-apply-btn"},(function(e,t,a){u(e),p(t)}))}),[]),Object(g.jsxs)("div",{className:"flex pt-3 px-8 mb-3 items-stretch justify-between",children:[Object(g.jsx)(Dn,{defaultFilters:t,filterList:a,activeFilter:c,setActiveFilter:s}),Object(g.jsx)("div",{className:"w-40 flex items-center bg-247-tab-bg justify-center rounded-lg",children:Object(g.jsx)("div",{className:"w-full",children:Object(g.jsx)(Bt,{standAlone:!0,options:r,value:_n()(r,{value:i}),handleChange:function(e){return e.value===t.type?o(void 0):o(e.value)},bgColor:"#222",borderColor:"#222"})})}),Object(g.jsxs)("button",{name:"campaign-daterange",className:"flex items-center bg-247-tab-bg p-4 rounded-lg text-white text-base font-semibold",children:[Object(g.jsx)(L.g,{size:20,className:"mr-3"}),"Set Date Filter"]})]})},En=function(e){Object.assign({},e);return Object(g.jsxs)("div",{className:"py-10 h-full",children:[Object(g.jsxs)("div",{className:"grid grid-cols-3 space-x-4 mt-6",children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"30vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"10vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},Pn=function(){return Object(g.jsx)("div",{className:"absolute top-0 left-0 right-0 min-h-screen z-50 bg-247-overlay-2 flex items-center justify-center",children:Object(g.jsx)(k,{size:"v-large"})})},Mn=["","Campaign Name","Status","Advertiser","Impressions","Duration","Ad Spend"],Fn=G()().subtract(12,"M"),qn=G()(),Rn=function(e){var t=e.advertiserName,a=e.goToPrevPage,n=e.handleReportDownload;return Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("button",{onClick:a,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(g.jsx)(L.c,{color:"#f00",size:28})}),Object(g.jsx)("div",{className:"ml-14 flex items-center",children:Object(g.jsx)("h3",{className:"text-2xl text-247-gray font-semibold",children:t})})]}),Object(g.jsx)(yt,{title:"Download report",icon:Object(g.jsx)(Ut.b,{className:"mr-2",size:22}),onBtnClick:n})]})},Bn={status:"all",type:"all",startDate:Fn,endDate:qn},Ln=function(){var e=Object(i.g)(),t=Object(i.i)().advertiserId,a=Object(n.useState)(1),r=Object(z.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(5),l=Object(z.a)(o,2),d=l[0],u=l[1],p=Object(n.useState)([]),b=Object(z.a)(p,2),m=b[0],f=b[1],O=Ja("status",Bn.status),x=Object(z.a)(O,2),y=x[0],v=x[1],w=Ja("type",Bn.type),S=Object(z.a)(w,2),C=S[0],A=S[1],I=Za("startDate",Bn.startDate),D=Object(z.a)(I,2),_=D[0],T=D[1],E=Za("endDate",Bn.endDate),P=Object(z.a)(E,2),M=P[0],F=P[1],q=Object(n.useContext)(Ot),R=q.state,B=R.loading,L=R.advertiser,U=R.generatingReport,W=R.generateReportError,V=q.fetchAdvertiserById,G=q.generateAdvertiserReport,K=q.clearError;Object(n.useEffect)((function(){V(t)}),[]);var H=Object(n.useMemo)((function(){if(L)return{totalAdSpend:wn(L),totalImpression:Nn(L)}}),[L]),Y=Object(n.useMemo)((function(){return L?{status:y,type:C,advertiser:L.id,startDate:Object(Q.default)(_.toDate(),"yyyy/MM/dd"),endDate:Object(Q.default)(M.toDate(),"yyyy/MM/dd")}:{}}),[y,C,L,_,M]),J=Object(n.useMemo)((function(){return{limit:d,skip:(c-1)*d}}),[d,c]),X=Object(n.useContext)(he),Z=X.fetchCampaigns,$=X.state,ee=$.loading,te=$.campaignSize,ae=$.campaigns,ne=$.retrieveErrorMsg;Object(n.useEffect)((function(){if(L){var e=In()(Y,(function(e){return e&&"all"===e}));Z(Object(j.a)(Object(j.a)({},e),J))}}),[Y,J,L,_,M]);var re=mn(c,d,ae,te),ce=re.indexOfFirstItem,se=re.indexOfLastItem,ie=re.pages;Kt(W,(function(){K("generateReport")}));return L&&Object(g.jsxs)(Da,{customHeader:Object(g.jsx)(Rn,{goToPrevPage:function(){return e.push("/advertisers")},advertiserName:null===L||void 0===L?void 0:L.companyName,handleReportDownload:function(){console.log("downloading advertiser report"),G(L.id,L.companyName)}}),children:[U&&Object(g.jsx)(Pn,{}),B?Object(g.jsx)(En,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"mt-20 grid grid-cols-3 gap-6",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Total No. of Campaigns",infoValue:null===L||void 0===L?void 0:L.campaigns.length}),Object(g.jsx)(jn,{bgColor:"bg-green-gradient",infoTitle:"Total Spend",infoValue:Ra(Wa(H.totalAdSpend),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-yellow-gradient",infoTitle:"Total Impressions",infoValue:Ra(H.totalImpression,!1,!0)})]}),Object(g.jsxs)("div",{className:"mt-16 bg-black rounded-md border-2 border-247-dark-text mb-10",children:[Object(g.jsx)(Tn,{defaultFilters:Bn,setSelectedStatusFilter:v,setSelectedTypeFilter:A,selectedStatusFilter:y,selectedTypeFilter:C,statusFilters:Zt,typeFilters:$t,startDate:_,endDate:M,setStartDate:T,setEndDate:F}),Object(g.jsxs)(fn,{headers:Mn,loadingData:ee,children:[ee&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!ee&&ae.length>0&&ae.map((function(e,t){var a,n,r=tn(e.duration[1],e.duration[0]);return Object(g.jsxs)("tr",{className:m.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(g.jsx)("td",{className:"px-3 py-5",children:Object(g.jsx)(hn,{checked:!!m.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(m.includes(e)){var t=m.indexOf(e),a=Object(N.a)(m);a.splice(t,1),f(a)}else f([].concat(Object(N.a)(m),[e]))}(t)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsx)("div",{className:"flex items-center ",children:e.campaignName})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center gap-3",children:[Object(g.jsx)("div",{className:h()("rounded-full","w-4","h-4",{"bg-active-gradient":"active"===e.status},{"bg-closed-gradient":"closed"===e.status},{"bg-paused-gradient":"paused"===e.status})}),ja()(e.status)]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:e.advertiser.companyName}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(e.campaignStat.impressions).toLocaleString("en-NG")}),Object(g.jsx)("td",{className:"px-6 py-5",children:"".concat(r," ").concat(r>1?"days":"day")}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(Wa((null===e||void 0===e||null===(a=e.campaignStat)||void 0===a||null===(n=a.adSpend)||void 0===n?void 0:n.amountInKobo)||0)).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},"campaign".concat(e.id))}))]}),!ee&&!ne&&0===ae.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!ee&&ne&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:ne})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:ae&&ae.length>0&&Object(g.jsx)(On,{activePage:c,dataLength:te,firstItem:ce+1,lastItem:se,pages:ie,setActivePage:s,setVisibleRows:u,visibleRows:d})})]})]})},Un=function(e){var t=e.defaultFilters,a=e.statusFilters,n=e.selectedStatusFilter,r=e.setSelectedStatusFilter,c=e.navigateToPayoutRequests;return Object(g.jsxs)("div",{className:"flex pt-3 px-8 mb-3 items-center justify-between",children:[Object(g.jsx)(Dn,{defaultFilters:t,filterList:a,activeFilter:n,setActiveFilter:r}),Object(g.jsx)(yt,{title:"See payout requests",onBtnClick:c})]})},Wn="fetching_payout_requests",Vn="set_payout_requests",Gn="set_payout_list_size",Qn="set_fetch_payouts_error",Kn="fetching_total_settled",Hn="fetch_settled_error",Yn="set_total_settled",Jn="fetching_total_pending",Xn="fetch_pending_error",Zn="set_total_pending",$n="settling_single_payout",er="single_payout_success",tr="single_payout_fail",ar="settling_bulk_payout",nr="bulk_payout_success",rr="bulk_payout_fail",cr={fetchRequests:Qn,settleBulk:rr,settleSingle:tr,fetchTotalSettled:Hn,fetchTotalPending:Xn},sr=_((function(e,t){switch(t.type){case Wn:return Object(j.a)(Object(j.a)({},e),{},{fetchingPayouts:t.payload});case Vn:return Object(j.a)(Object(j.a)({},e),{},{payoutRequests:t.payload});case Gn:return Object(j.a)(Object(j.a)({},e),{},{payoutsListSize:t.payload});case Qn:return Object(j.a)(Object(j.a)({},e),{},{fetchPayoutsError:t.payload});case Kn:return Object(j.a)(Object(j.a)({},e),{},{fetchingTotalSettled:t.payload});case Hn:return Object(j.a)(Object(j.a)({},e),{},{fetchSettledError:t.payload});case Yn:return Object(j.a)(Object(j.a)({},e),{},{totalSettled:t.payload});case Jn:return Object(j.a)(Object(j.a)({},e),{},{fetchingTotalPending:t.payload});case Xn:return Object(j.a)(Object(j.a)({},e),{},{fetchPendingError:t.payload});case Zn:return Object(j.a)(Object(j.a)({},e),{},{totalPending:t.payload});case $n:return Object(j.a)(Object(j.a)({},e),{},{settlingSinglePayout:t.payload});case tr:return Object(j.a)(Object(j.a)({},e),{},{singlePayoutError:t.payload});case er:return Object(j.a)(Object(j.a)({},e),{},{singlePayoutSuccess:t.payload});case ar:return Object(j.a)(Object(j.a)({},e),{},{settlingBulkPayout:t.payload});case rr:return Object(j.a)(Object(j.a)({},e),{},{bulkPayoutError:t.payload});case nr:return Object(j.a)(Object(j.a)({},e),{},{bulkPayoutSuccess:t.payload});default:return e}}),{fetchingPayouts:!1,payoutRequests:[],payoutsListSize:0,fetchPayoutsError:null,fetchingTotalSettled:!1,totalSettled:0,fetchSettledError:null,fetchingTotalPending:!1,totalPending:0,fetchPendingError:null,settlingSinglePayout:!1,singlePayoutSuccess:null,singlePayoutError:null,settlingBulkPayout:!1,bulkPayoutSuccess:null,bulkPayoutError:null},{fetchPayoutRequests:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Wn,payload:!0}),e({type:Qn,payload:null}),t.prev=2,t.next=5,E.get("/payouts",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:Wn,payload:!1}),e({type:Vn,payload:n.data.payouts}),e({type:Gn,payload:n.data.size}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Qn,payload:t.t0.response.data.message||"Unable to fetch payout requests. Something went wrong"}):e({type:Qn,payload:"Unable to fetch payout requests. Something went wrong"}),e({type:Wn,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},getTotalSettledPayouts:function(e){return Object(b.a)(Object(p.a)().mark((function t(){var a,n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Kn,payload:!0}),e({type:Hn,payload:null}),t.prev=2,t.next=5,E.get("/payouts",{headers:{Authorization:"Bearer ".concat(H())},params:{status:"success"}});case 5:a=t.sent,n=a.data.payouts.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),console.log(a.data.payouts),e({type:Kn,payload:!1}),e({type:Yn,payload:n}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:Hn,payload:t.t0.response.data.message||"Unable to fetch payout requests. Something went wrong"}):e({type:Hn,payload:"Unable to fetch payout requests. Something went wrong"}),e({type:Kn,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})))},getTotalPendingPayouts:function(e){return Object(b.a)(Object(p.a)().mark((function t(){var a,n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Jn,payload:!0}),e({type:Xn,payload:null}),t.prev=2,t.next=5,E.get("/payouts",{headers:{Authorization:"Bearer ".concat(H())},params:{status:"pending"}});case 5:a=t.sent,n=a.data.payouts.map((function(e){return e.amount})).reduce((function(e,t){return e+t}),0),e({type:Jn,payload:!1}),e({type:Zn,payload:n}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Xn,payload:t.t0.response.data.message||"Unable to fetch payout requests. Something went wrong"}):e({type:Xn,payload:"Unable to fetch payout requests. Something went wrong"}),e({type:Jn,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))},settleSinglePayoutRequest:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r,c){var s;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:$n,payload:!0}),e({type:tr,payload:null}),t.prev=2,t.next=5,E.post("/payouts/settle",a,{headers:{Authorization:"Bearer ".concat(H())},params:{requestId:n}});case 5:s=t.sent,console.log(s.data),e({type:er,payload:s.data.message}),e({type:$n,payload:!1}),r(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:tr,payload:t.t0.response.data.message||"Unable to settle payout request. Something went wrong"}):e({type:tr,payload:"Unable to settle payout request. Something went wrong"}),e({type:$n,payload:!1}),c();case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n,r){return t.apply(this,arguments)}}()},settleBulkPayoutRequest:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n,r){var c;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ar,payload:!0}),e({type:rr,payload:null}),t.prev=2,t.next=5,E.post("/payouts/settle/bulk",{requests:a},{headers:{Authorization:"Bearer ".concat(H())}});case 5:c=t.sent,console.log(c.data),e({type:nr,payload:c.data.message}),e({type:ar,payload:!1}),n&&n(),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:rr,payload:t.t0.response.data.message||"Unable to settle bulk payout requests. Something went wrong"}):e({type:rr,payload:"Unable to settle bulk payout requests. Something went wrong"}),e({type:ar,payload:!1}),r&&r();case 17:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a,n){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:cr[t],payload:null})}}}),ir=sr.Context,or=sr.Provider,lr=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"140px",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})},dr=["","Driver","Status","Location","Total Trips","Total Earnings","Pending Payout"],ur={status:"all"},pr=function(){var e=Object(n.useState)([]),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(z.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(5),u=Object(z.a)(d,2),m=u[0],f=u[1],h=Ja("status",ur.status),O=Object(z.a)(h,2),x=O[0],y=O[1],v=Object(n.useMemo)((function(){return{status:x}}),[x]),w=Object(n.useMemo)((function(){return{limit:m,skip:(o-1)*m}}),[m,o]),S=Object(n.useContext)(ir),A=S.state,I=A.fetchingTotalSettled,D=A.totalSettled,_=A.fetchingTotalPending,T=A.totalPending,E=S.getTotalSettledPayouts,P=S.getTotalPendingPayouts,M=Object(n.useContext)(Me),F=M.state,q=F.fetchingDrivers,R=F.drivers,B=F.fetchDriversError,L=F.driverListSize,U=F.fetchingTotalSize,W=F.driversTotalSize,V=M.fetchDrivers,G=M.getDriversTotalSize,Q=Object(n.useMemo)((function(){return U||I||_}),[U,I,_]);Object(n.useEffect)((function(){Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([G(),E(),P()]);case 2:case"end":return e.stop()}}),e)})))()}),[]),Object(n.useEffect)((function(){var e=In()(v,(function(e){return e&&"all"===e}));V(Object(j.a)(Object(j.a)({},e),w))}),[v,w]);var K=mn(o,m,R,L),H=K.indexOfFirstItem,Y=K.indexOfLastItem,J=K.pages,X=Object(i.g)();return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(Da,{pageTitle:"Drivers",children:[Q?Object(g.jsx)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:Array.from({length:3},(function(e,t){return t+1})).map((function(e){return Object(g.jsx)(lr,{},e)}))}):Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Total No. of Drivers",infoValue:Ra(W,!1,!0)}),Object(g.jsx)(jn,{bgColor:"bg-green-gradient",infoTitle:"Settled Payout",infoValue:Ra(Wa(D),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-yellow-gradient",infoTitle:"Pending Payout",infoValue:Ra(Wa(T),!0,!0)})]}),Object(g.jsxs)("div",{className:"mt-10 bg-247-secondary rounded-md border-2 border-247-dark-text mb-10",children:[Object(g.jsx)(Un,{defaultFilters:ur,selectedStatusFilter:x,setSelectedStatusFilter:y,statusFilters:ea,navigateToPayoutRequests:function(){return X.push("/pending-payouts")}}),Object(g.jsxs)(fn,{headers:dr,loadingData:q,children:[q&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!q&&R.length>0&&R.map((function(e,t){var n,c,s=(null===e||void 0===e||null===(n=e.driverStat)||void 0===n?void 0:n.trips.length)||0,i=e.driverStat?e.driverStat.earnings.map((function(e){return e.amountInKobo})).reduce((function(e,t){return e+t}),0):0,o=(null===e||void 0===e||null===(c=e.driverStat)||void 0===c?void 0:c.pendingPayout)||0;return Object(g.jsxs)("tr",{onClick:function(t){t.target.closest(".toggle-check")||X.push({pathname:"/driver/".concat((null===e||void 0===e?void 0:e.driverId)||e.id)})},className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",children:[Object(g.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(g.jsx)(hn,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),n=Object(N.a)(a);n.splice(t,1),r(n)}else r([].concat(Object(N.a)(a),[e]))}(t)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{children:[e.name,Object(g.jsx)("span",{className:"block text-sm font-light",children:e.email})]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center gap-3",children:[Object(g.jsx)("div",{className:C()("rounded-full","w-4","h-4",{"bg-active-gradient":"approved"===e.status},{"bg-closed-gradient":"suspended"===e.status||"rejected"===e.status},{"bg-paused-gradient":"pending"===e.status})}),ja()("approved"===e.status?"active":e.status)]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:e.city}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(s,!1,!0)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(Wa(i),!0,!0)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(Wa(o),!0,!0)})]},"driver_".concat(e.id))}))]}),!q&&!B&&0===R.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!q&&B&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:B})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:R&&R.length>0&&Object(g.jsx)(On,{activePage:o,dataLength:L,firstItem:H+1,lastItem:Y,pages:J,setActivePage:l,setVisibleRows:f,visibleRows:m})})]})})},br=a(322),jr=a(183),mr="fetching_lifetime_earning",fr="set_lifetime_earning",hr="fetch_lifetime_error",gr="fetching_day_earning",Or="set_day_earning",xr="fetch_day_earning_error",yr=_((function(e,t){switch(t.type){case mr:return Object(j.a)(Object(j.a)({},e),{},{fetchingLifetimeEarning:t.payload});case fr:return Object(j.a)(Object(j.a)({},e),{},{lifetimeEarning:t.payload});case hr:return Object(j.a)(Object(j.a)({},e),{},{fetchLifetimeError:t.payload});case gr:return Object(j.a)(Object(j.a)({},e),{},{fetchingDayEarning:t.payload});case Or:return Object(j.a)(Object(j.a)({},e),{},{dayEarning:t.payload});case xr:return Object(j.a)(Object(j.a)({},e),{},{fetchDayEarningError:t.payload});default:return e}}),{fetchingLifetimeEarning:!1,fetchLifetimeError:null,lifetimeEarning:0,fetchingDayEarning:!1,fetchDayEarningError:null,dayEarning:0},{getDriverLifetimeEarning:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:mr,payload:!0}),t.prev=1,t.next=4,E.get("/earnings/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 4:n=t.sent,e({type:mr,payload:!1}),e({type:fr,payload:n.data.totalEarning}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0.response?e({type:hr,payload:t.t0.response.data.message||"Unable to retrieve driver's earnings. Something went wrong"}):e({type:hr,payload:"Unable to retrieve driver's earnings. Something went wrong"}),e({type:mr,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},getDriverDayEarning:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:gr,payload:!0}),t.prev=1,t.next=4,E.get("/earnings/".concat(a),{headers:{Authorization:"Bearer ".concat(H())},params:{period:"day"}});case 4:n=t.sent,e({type:Or,payload:n.data.totalEarning}),e({type:gr,payload:!1}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(1),t.t0.response?e({type:xr,payload:t.t0.response.data.message||"Unable to retrieve driver's earnings. Something went wrong"}):e({type:xr,payload:"Unable to retrieve driver's earnings. Something went wrong"}),e({type:gr,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()}}),vr=yr.Context,wr=yr.Provider,Nr=function(e){var t=e.label,a=e.value,n=e.last,r=e.valueColor,c=e.isButton,s=e.btnAction;return Object(g.jsxs)("div",{className:C()("text-white",{"mb-7":!n}),children:[Object(g.jsx)("h5",{className:"text-base font-light mb-2",children:t}),c?Object(g.jsx)("button",{className:"text-xl font-semibold cursor-pointer underline text-247-red",onClick:s,children:a}):Object(g.jsx)("h3",{className:"text-xl font-medium",style:r&&{color:r},children:a})]})},Sr=function(e){var t=e.open,a=e.setOpen,n=e.icon,r=e.text,c=e.handleConfirmation,s=e.handleReject,i=e.processingConfirm;return Object(g.jsx)(zt,{modalOpen:t,setModalOpen:a,children:Object(g.jsxs)("div",{className:"text-center",children:[Object(g.jsx)("div",{className:"mx-auto inline-block",children:n}),Object(g.jsx)("p",{className:"text-white text-2xl mt-5 font-medium",children:r}),Object(g.jsxs)("div",{className:"flex items-center justify-center mt-6 gap-7",children:[Object(g.jsx)("button",{onClick:c,className:"text-white bg-247-red-straight px-5 py-2 rounded-md font-medium text-base",children:i?Object(g.jsx)(k,{}):"Yes"}),Object(g.jsx)("button",{onClick:s,className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"No"})]})]})})},Cr=function(e){var t,a,r,c,s,i,o,l,d=e.isOpen,u=e.setIsOpen,p=e.isEdit,b=e.editData,j=e.submitAction,m=e.loading,f=R.b({firstName:R.c().required("First name is required"),lastName:R.c().required("Last name is required"),emailAddress:R.c().email("Enter a valid email address").required("Email is required"),phoneNumber:R.c().length(11).required("Phone number is required"),favouriteMeal:R.c().required("Required field"),hobby:R.c().required("Required field"),askMeAbout:R.c().required("Required field"),vacationSpot:R.c().required("Required field")}),h=Object(w.e)({resolver:Object(q.a)(f)}),O=h.handleSubmit,y=h.formState.errors,v=h.register,N=h.reset;return Object(n.useEffect)((function(){N(b)}),[b]),Object(g.jsxs)(zt,{modalOpen:d,setModalOpen:u,width:704,children:[Object(g.jsx)("h2",{className:"text-white text-center text-2xl font-semibold",children:"Edit Contact Info"}),Object(g.jsxs)("form",{className:"mt-10",onSubmit:O(j),children:[Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"First Name",darkMode:!0,placeholder:"enter first name",type:"text",registerFn:v,name:"firstName",errorText:null===(t=y.firstName)||void 0===t?void 0:t.message,disabled:!0}),Object(g.jsx)(x,{label:"Last Name",darkMode:!0,placeholder:"enter last name",type:"text",registerFn:v,name:"lastName",errorText:null===(a=y.lastName)||void 0===a?void 0:a.message,disabled:!0})]}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Email Address",darkMode:!0,placeholder:"enter email address",type:"text",registerFn:v,name:"emailAddress",errorText:null===(r=y.emailAddress)||void 0===r?void 0:r.message,disabled:!0}),Object(g.jsx)(x,{label:"Phone Number",darkMode:!0,placeholder:"enter phone number",type:"text",registerFn:v,name:"phoneNumber",errorText:null===(c=y.phoneNumber)||void 0===c?void 0:c.message})]}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Favourite Meal",darkMode:!0,placeholder:"enter favourite meal",type:"text",registerFn:v,name:"favouriteMeal",errorText:null===(s=y.favouriteMeal)||void 0===s?void 0:s.message}),Object(g.jsx)(x,{label:"Hobby",darkMode:!0,placeholder:"enter hobby",type:"text",registerFn:v,name:"hobby",errorText:null===(i=y.hobby)||void 0===i?void 0:i.message})]}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Ask Me About",darkMode:!0,placeholder:"what are you passionate about?",type:"text",registerFn:v,name:"askMeAbout",errorText:null===(o=y.askMeAbout)||void 0===o?void 0:o.message}),Object(g.jsx)(x,{label:"Vacation Spot",darkMode:!0,placeholder:"enter your vacation spot",type:"text",registerFn:v,name:"vacationSpot",errorText:null===(l=y.vacationSpot)||void 0===l?void 0:l.message})]}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:m,children:p?"Save Changes":"Create New Driver"})]})]})},kr=function(e){var t=e.isOpen,a=e.setIsOpen,r=e.payouts,c=e.setSettleModalOpen,s=e.setSelectedPayout,i=e.setPayoutHistoryQueryParam,o=Object(n.useState)(1),l=Object(z.a)(o,2),d=l[0],u=l[1],p=mn(d,5,r,r.length),b=p.currentList,j=p.pages;return Object(g.jsxs)(zt,{cb:function(){return i("")},modalOpen:t,setModalOpen:a,children:[Object(g.jsx)("h2",{className:"text-white text-center text-2xl font-semibold",children:"Payout History"}),Object(g.jsx)("div",{className:"mt-14 w-full",children:Object(g.jsx)("ul",{children:b.map((function(e){return Object(g.jsx)("li",{className:"odd:bg-247-dark-accent3 even:bg-black first:rounded-t-lg last:rounded-b-lg",children:Object(g.jsxs)("div",{className:"py-4 px-7 grid grid-cols-4 items-center gap-4 ",children:[Object(g.jsxs)("div",{className:"col-span-2",children:[Object(g.jsx)("h4",{className:"text-white text-base font-semibold",children:Ra(Wa(e.amount),!0,!0)}),Object(g.jsx)("p",{className:"text-247-timestamp-color text-sm font-semibold",children:(t=e.createdAt,Object(Q.default)(new Date(t),"MMM dd, yyyy | HH:mm:ss"))})]}),Object(g.jsx)("div",{className:"col-span-1",children:Object(g.jsx)("button",{className:C()("text-base","px-4","py-2","rounded","text-white","bg-247-red-straight","disabled:bg-247-inactive-btn","disabled:cursor-not-allowed"),disabled:"success"===e.status||"failed"===e.status,onClick:function(){i(""),a(!1),s(e),c({open:!0,type:zr.SINGLE})},children:"Settle"})}),Object(g.jsx)("div",{className:"col-span-1",children:Object(g.jsx)("p",{className:C()("text-base","font-bold",{"text-247-red-straight":"pending"===e.status,"text-247-inactive-link":"failed"===e.status,"text-247-increment-green":"success"===e.status}),children:ja()(e.status)})})]})});var t}))})}),Object(g.jsxs)("div",{className:"flex items-center justify-between mt-9",children:[Object(g.jsx)("button",{onClick:function(){return a(!1)},className:"text-base text-white font-semibold py-3 px-5 rounded bg-247-red-straight",children:"Close"}),Object(g.jsxs)("div",{className:"flex items-center gap-7",children:[Object(g.jsxs)("span",{className:"text-247-transparent",children:["Page ",Object(g.jsx)("span",{className:"font-bold",children:d})," of ",j]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{onClick:function(){1!==d&&u(d-1)},className:C()(["px-3","rounded-l-md","py-1","border-2","border-247-dark-text","disabled:cursor-not-allowed"]),disabled:1===d,children:Object(g.jsx)(gn.a,{size:20,color:1===d?"#CACACA":"#FFFFFF"})}),Object(g.jsx)("button",{onClick:function(){j!==d&&u(d+1)},className:"px-3 rounded-r-md py-1 border-2 border-l-0 border-247-dark-text disabled:cursor-not-allowed",disabled:d===j,children:Object(g.jsx)(gn.b,{size:20,color:d===j?"#CACACA":"#FFFFFF"})})]})]})]})]})},Ar=function(e){var t,a,r,c,s=e.isOpen,i=e.setIsOpen,o=e.driverDeets,l=e.handlePayout,d=R.b({bankName:R.c().required("Bank name is required"),accountNumber:R.c().length(10).required("Account number is required"),accountName:R.c().required("Account name is required"),pendingPayout:R.c().required("Enter an amount to payout")}),u=Object(w.e)({resolver:Object(q.a)(d)}),p=u.register,b=u.handleSubmit,j=u.reset,m=u.setValue,f=u.formState.errors;return Object(n.useEffect)((function(){j(o)}),[o]),Object(g.jsxs)(zt,{modalOpen:s,setModalOpen:i,width:704,children:[Object(g.jsx)("h2",{className:"text-center text-white text-2xl font-semibold",children:"Settle Payout"}),Object(g.jsxs)("form",{className:"mt-10",onSubmit:b(l),children:[Object(g.jsx)(x,{label:"Account Number",darkMode:!0,placeholder:"enter account number",type:"text",registerFn:p,name:"accountNumber",errorText:null===(t=f.accountNumber)||void 0===t?void 0:t.message}),Object(g.jsx)(x,{label:"Bank Name",darkMode:!0,placeholder:"enter bank name",type:"text",registerFn:p,name:"bankName",errorText:null===(a=f.bankName)||void 0===a?void 0:a.message,disabled:!0}),Object(g.jsx)(x,{label:"Account Name",darkMode:!0,placeholder:"enter account name",type:"text",registerFn:p,name:"accountName",errorText:null===(r=f.accountName)||void 0===r?void 0:r.message,disabled:!0}),Object(g.jsx)(x,{label:"Pending Payout",darkMode:!0,placeholder:"enter amount to payout",type:"text",isNumeric:!0,setValue:m,registerFn:p,name:"pendingPayout",errorText:null===(c=f.pendingPayout)||void 0===c?void 0:c.message,disabled:!0}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,children:"Payout"})]})]})},Ir=function(e){Object.assign({},e);return Object(g.jsxs)("div",{className:"py-10 h-full",children:[Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"35vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},Dr=function(e){var t=e.open,a=e.setOpen,n=e.idUrl;return Object(g.jsx)(zt,{modalOpen:t,setModalOpen:a,children:n?Object(g.jsx)("img",{src:n,alt:"driver identity document"}):Object(g.jsx)("h2",{className:"text-247-transparent text-xl text-center font-bold",children:"No ID Document was provided"})})},zr={SINGLE:"single",BULK:"bulk"},_r={approved:{title:"Suspend Account",icon:Object(g.jsx)(Xe.c,{className:"mr-2",size:22}),action:"suspend"},pending:[{title:"Activate Account",icon:Object(g.jsx)(Ut.a,{className:"mr-2",size:22}),action:"activate"},{title:"Reject Account",icon:Object(g.jsx)(Xe.c,{className:"mr-2",size:22}),action:"rejectApprovalRequest"}],suspended:{title:"Reactivate Account",icon:Object(g.jsx)(gn.d,{className:"mr-2",size:22}),action:"reactivate"},rejected:{title:"Activate Account",icon:Object(g.jsx)(Ut.a,{className:"mr-2",size:22}),action:"activate"}},Tr=function(e){var t=e.goToPrevPage,a=e.name,n=e.status,r=e.accountAction,c=e.createdDate;return Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("button",{onClick:t,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(g.jsx)(L.c,{color:"#f00",size:28})}),Object(g.jsxs)("div",{className:"ml-14",children:[Object(g.jsx)("h3",{className:"text-white text-2xl font-semibold",children:a}),Object(g.jsxs)("p",{className:"text-white font-normal text-sm",children:["Date created: ",c]})]}),Object(g.jsx)("div",{className:C()("flex","items-center","justify-center","ml-10","py-1","px-4","rounded-md",{"bg-active-gradient":"approved"===n,"bg-closed-gradient":"suspended"===n||"rejected"===n,"bg-paused-gradient":"pending"===n}),children:Object(g.jsx)("p",{className:"text-white font-medium text-lg",children:ja()(n)})})]}),Object(g.jsx)("div",{className:"flex gap-5",children:Array.isArray(_r[n])?_r[n].map((function(e){return Object(g.jsx)(yt,{title:e.title,icon:e.icon,onBtnClick:function(){return r(e.action)}})})):Object(g.jsx)(yt,{title:_r[n].title,icon:_r[n].icon,onBtnClick:function(){return r(_r[n].action)}})})]})},Er={suspend:{status:"suspended",successEvent:ca,successEventTitle:"Account Suspended",successEventMessage:"Your account has been suspended based on breaking the guidelines. You can contact support for help"},activate:{status:"approved",successEvent:ra,successEventTitle:"Account Approved",successEventMessage:"Your account has been approved. Log in and start earning from your trips"},reactivate:{status:"approved",successEvent:ra,successEventTitle:"Account Re-Approved",successEventMessage:"Your account has been re-approved. Log in and start earning from your trips"},rejectApprovalRequest:{status:"rejected",successEvent:sa,successEventTitle:"Account Approval Failed",successEventMessage:"We are unable to approve your profile. Please upload clear and accurate documents"}},Pr=function(){var e,t,a,r,c,s,o,l,d,u,j,m,f,h,O,x=Object(i.g)(),y=Object(i.i)().driverId,v=xa().emitEvent,w=Object(n.useState)({open:!1,type:zr.BULK}),N=Object(z.a)(w,2),S=N[0],C=N[1],k=Object(n.useState)(!1),A=Object(z.a)(k,2),I=A[0],D=A[1],_=Object(n.useState)(!1),T=Object(z.a)(_,2),E=T[0],P=T[1],F=Object(n.useState)({open:!1,action:null}),q=Object(z.a)(F,2),R=q[0],B=q[1],L=Object(n.useState)(!1),U=Object(z.a)(L,2),W=U[0],V=U[1],G=Object(n.useState)(!1),K=Object(z.a)(G,2),H=K[0],Y=K[1],J=Object(n.useState)(),X=Object(z.a)(J,2),Z=X[0],$=X[1],ee=Object(n.useState)(),te=Object(z.a)(ee,2),ae=te[0],ne=te[1],re=Object(n.useContext)(M).state.user,ce=Object(n.useContext)(ir),se=ce.state,ie=se.payoutRequests,oe=se.fetchingPayouts,le=se.settlingSinglePayout,de=se.singlePayoutError,ue=se.settlingBulkPayout,pe=se.bulkPayoutError,be=ce.fetchPayoutRequests,je=ce.settleSinglePayoutRequest,me=ce.settleBulkPayoutRequest,fe=ce.clearError,he=Object(n.useContext)(Me),ge=he.state,Oe=ge.fetchingSingleDriver,xe=ge.driver,ye=ge.updatingDriverStatus,ve=ge.updateStatusError,we=ge.updatingAttributes,Ne=ge.updateAttributesError,Se=he.fetchDriverById,Ce=he.updateDriverStatus,ke=he.updateDriverAttributes,Ae=he.clearError,Ie=Object(n.useContext)(vr),De=Ie.state,ze=De.fetchingLifetimeEarning,_e=De.fetchingDayEarning,Te=De.lifetimeEarning,Ee=De.dayEarning,Pe=Ie.getDriverLifetimeEarning,Fe=Ie.getDriverDayEarning,qe=Object(n.useMemo)((function(){return ze||_e||Oe||oe}),[ze,_e,Oe,oe]),Re=Ya("payoutModalOpen"),Be=Object(z.a)(Re,2),Le=Be[0],Ue=Be[1];Object(n.useEffect)((function(){"true"===Le&&D(!0),Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([Fe(y),Pe(y),Se(y),be({driver:y})]);case 2:case"end":return e.stop()}}),e)})))()}),[]),Kt(ve,(function(){return Ae("updateStatus")})),Kt(Ne,(function(){return Ae("updateAttributes")})),Kt(de,(function(){return fe("settleSingle")})),Kt(pe,(function(){return fe("settleBulk")}));var We=function(){return v(Er[R.action].successEvent,{sender:re.id,recipient:xe.id,title:Er[R.action].successEventTitle,message:Er[R.action].successEventMessage}),Ge.a.success("Driver is ".concat(Er[R.action].status," successfully!")),Se(y)},Ve=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("suspending..."),e.next=3,Ce(y,Er[R.action].status,We);case 3:B({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("activating..."),e.next=3,Ce(y,Er[R.action].status,We);case 3:B({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("reactivating..."),e.next=3,Ce(y,Er[R.action].status,We);case 3:B({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("rejecting approval..."),e.next=3,Ce(y,Er[R.action].status,We);case 3:B({open:!1,action:null});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ye={suspend:{confirmText:"Are you sure you want to suspend this account?",action:Ve},activate:{confirmText:"Are you sure you want to activate this account?",action:Qe},reactivate:{confirmText:"Are you sure you want to reactivate this account?",action:Ke},rejectApprovalRequest:{confirmText:"Are you sure you want to reject this approval request?",action:He}},Je=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){var t,a,n,r;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S.type===zr.BULK?Wa((null===xe||void 0===xe||null===(t=xe.driverStat)||void 0===t?void 0:t.pendingPayout)||0).toLocaleString():Wa((null===ae||void 0===ae?void 0:ae.amount)||0).toLocaleString(),n=function(){return v(da,{sender:re.id,recipient:xe.id,payoutRequest:Z.requestId||Z.payoutData,title:"Payout Success",message:"Your pending payout request for ".concat(a," was settled to your bank account successfully.")}),Ge.a.success("Successfully settled payout request(s)"),Se(y)},r=function(){return v(la,{sender:re.id,recipient:xe.id,payoutRequest:Z.requestId||Z.payoutData,title:"Payout Failed",message:"Settlement for your pending payout request for ".concat(a," has failed. Please make another request or contact support")}),Se(y)},"single"!==Z.settlementType){e.next=8;break}return e.next=6,je(Z.payoutData,Z.requestId,n,r);case 6:e.next=10;break;case 8:return e.next=10,me(Z.payoutData,n,r);case 10:V(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xe={firstName:null===xe||void 0===xe||null===(e=xe.name)||void 0===e?void 0:e.split(" ")[0],lastName:null===xe||void 0===xe||null===(t=xe.name)||void 0===t?void 0:t.split(" ")[1],emailAddress:null===xe||void 0===xe?void 0:xe.email,phoneNumber:null!==xe&&void 0!==xe&&xe.phoneNumber?"0".concat(xe.phoneNumber):"",favouriteMeal:null===xe||void 0===xe||null===(a=xe.extraInfo)||void 0===a?void 0:a.favouriteMeal,hobby:null===xe||void 0===xe||null===(r=xe.extraInfo)||void 0===r?void 0:r.favouriteHobby,askMeAbout:null===xe||void 0===xe||null===(c=xe.extraInfo)||void 0===c?void 0:c.askMeAbout,vacationSpot:null===xe||void 0===xe?void 0:xe.extraInfo.vacationSpot},Ze=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=wt()(t,(function(e,t){return!St()(Xe[t],e)})),!kt()(a)){e.next=4;break}return Ge.a.error("You haven't made any changes!"),e.abrupt("return");case 4:return e.next=6,ke(t,y,(function(){return P(!1),Ge.a.success("Updated driver information successfully!"),Se(y)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e=Object(n.useMemo)((function(){return null!==xe&&void 0!==xe&&xe.createdAt?Object(Q.default)(new Date(xe.createdAt),"dd/MM/yyyy"):"12/12/2021"}),[xe]);return xe&&Object(g.jsxs)(Da,{customHeader:Object(g.jsx)(Tr,{goToPrevPage:function(){return x.push("/drivers")},name:xe.name,status:xe.status,accountAction:function(e){B({open:!0,action:e})},createdDate:$e}),children:[(ye||ue||le)&&Object(g.jsx)(Pn,{}),qe?Object(g.jsx)(Ir,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"w-full mt-20 rounded-lg bg-247-campaign-preview",children:[Object(g.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(g.jsx)("h4",{className:"text-white text-xl font-medium",children:"Personal Info"}),Object(g.jsx)("button",{onClick:function(){return P(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"Edit Info"})]}),Object(g.jsxs)("div",{className:"flex py-5 px-6",children:[Object(g.jsx)("img",{src:(null===xe||void 0===xe?void 0:xe.profilePhoto)||"https://fakeimg.pl/700x1200/282828/eae0d0/?retina=1&text=No%20Profile%20Image&font_size=64",alt:"profile",className:"h-full drop-shadow-sm w-full object-cover rounded-md",style:{maxWidth:"300px",maxHeight:"300px"}}),Object(g.jsx)("div",{className:"border-l border-white ml-14"}),Object(g.jsxs)("div",{className:"w-full flex justify-around pt-2",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(Nr,{label:"First name",value:xe.name.split(" ")[0]}),Object(g.jsx)(Nr,{label:"Phone Number",value:"0".concat(xe.phoneNumber)}),Object(g.jsx)(Nr,{label:"Hobby",value:xe.extraInfo.favouriteHobby}),Object(g.jsx)(Nr,{label:"Date Created",value:$e,last:!0})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(Nr,{label:"Last name",value:xe.name.split(" ")[1]}),Object(g.jsx)(Nr,{label:"City",value:xe.city}),Object(g.jsx)(Nr,{label:"Ask me about",value:xe.extraInfo.askMeAbout}),Object(g.jsx)(Nr,{label:"ID Type",value:"Drivers License",last:!0})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(Nr,{label:"Email Address",value:xe.email}),Object(g.jsx)(Nr,{label:"Favourite Meal",value:xe.extraInfo.favouriteMeal}),Object(g.jsx)(Nr,{label:"Vacation Spot",value:xe.extraInfo.vacationSpot}),Object(g.jsx)(Nr,{label:"ID Upload",value:"Open ID",btnAction:function(){return Y(!0)},isButton:!0})]})]})]})]}),Object(g.jsxs)("div",{className:"w-full mt-14 mb-24 rounded-lg bg-247-campaign-preview",children:[Object(g.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(g.jsx)("h4",{className:"text-white text-xl font-medium",children:"Earnings"}),Object(g.jsx)("button",{onClick:function(){return D(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium disabled:bg-247-inactive-btn disabled:text-247-gray-accent5 disabled:cursor-not-allowed",disabled:0===ie.length,children:"Payout History"})]}),Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-6 pt-16 pb-5 px-6",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Today's Earning",infoValue:Ra(Wa(Ee),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-green-gradient",infoTitle:"Total Earning",infoValue:Ra(Wa(Te),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-yellow-gradient",infoTitle:"Pending Payout",infoValue:Ra(Wa(null===xe||void 0===xe||null===(s=xe.driverStat)||void 0===s?void 0:s.pendingPayout),!0,!0),btnActive:(null===xe||void 0===xe||null===(o=xe.driverStat)||void 0===o?void 0:o.pendingPayout)>0,btnText:"Settle",btnAction:function(){return C({open:!0,type:zr.BULK})}})]})]})]}),Object(g.jsx)(Sr,{open:R.open,setOpen:B,text:null===(l=Ye[null===R||void 0===R?void 0:R.action])||void 0===l?void 0:l.confirmText,icon:Object(g.jsx)(br.a,{size:28,color:"#fff"}),handleConfirmation:null===(d=Ye[null===R||void 0===R?void 0:R.action])||void 0===d?void 0:d.action,handleReject:function(){return B({open:!1,action:null})}}),Object(g.jsx)(Sr,{open:W,setOpen:V,text:"Continue payout for ".concat(null===xe||void 0===xe?void 0:xe.name),handleConfirmation:Je,handleReject:function(){V(!1)},icon:Object(g.jsx)(jr.a,{size:32,color:"#fff"})}),Object(g.jsx)(Cr,{isOpen:E,setIsOpen:P,isEdit:!0,loading:we,editData:Xe,submitAction:Ze}),Object(g.jsx)(kr,{isOpen:I,setIsOpen:D,setPayoutHistoryQueryParam:Ue,payouts:ie,setSettleModalOpen:C,setSelectedPayout:ne}),Object(g.jsx)(Ar,{isOpen:S.open,setIsOpen:C,driverDeets:{bankName:null===xe||void 0===xe||null===(u=xe.bankInformation)||void 0===u||null===(j=u.bank)||void 0===j?void 0:j.name,accountNumber:null===xe||void 0===xe||null===(m=xe.bankInformation)||void 0===m?void 0:m.accountNumber,accountName:null===xe||void 0===xe||null===(f=xe.bankInformation)||void 0===f?void 0:f.accountName,requestId:null===ae||void 0===ae?void 0:ae.id,driverId:xe.id,recipientCode:null===xe||void 0===xe||null===(h=xe.bankInformation)||void 0===h?void 0:h.recipientCode,settlementType:S.type,pendingPayout:S.type===zr.BULK?Wa((null===xe||void 0===xe||null===(O=xe.driverStat)||void 0===O?void 0:O.pendingPayout)||0).toLocaleString():Wa((null===ae||void 0===ae?void 0:ae.amount)||0).toLocaleString()},handlePayout:function(e){var t;if(console.log(e,xe,"confirming payout"),"single"===e.settlementType)t={payoutData:{recepientCode:e.recipientCode,driver:e.driverId},requestId:e.requestId,settlementType:e.settlementType};else{var a=ie.filter((function(e){return"pending"===e.status})).map((function(e){var t;return{requestId:e.id,driver:xe.id,recepientCode:null===xe||void 0===xe||null===(t=xe.bankInformation)||void 0===t?void 0:t.recipientCode,amount:e.amount}}));t={settlementType:e.settlementType,payoutData:a}}$(t),C(!1),V(!0)}}),Object(g.jsx)(Dr,{open:H,setOpen:Y,idUrl:null===xe||void 0===xe?void 0:xe.driversValidId})]})},Mr=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"140px",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})},Fr=["","Campaign Name","Status","Advertiser","Impressions","Duration","Ad Spend"],qr={status:"all",type:"all",startDate:G()().subtract(12,"M"),endDate:G()()},Rr=function(){var e=Object(n.useState)(1),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(5),s=Object(z.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)([]),u=Object(z.a)(d,2),m=u[0],f=u[1],h=Object(i.g)(),O=Ja("status",qr.status),x=Object(z.a)(O,2),y=x[0],v=x[1],w=Ja("type",qr.type),S=Object(z.a)(w,2),A=S[0],I=S[1],D=Za("startDate",qr.startDate),_=Object(z.a)(D,2),T=_[0],E=_[1],P=Za("endDate",qr.endDate),M=Object(z.a)(P,2),F=M[0],q=M[1],R=Object(n.useMemo)((function(){return{status:y,type:A,startDate:Object(Q.default)(T.toDate(),"yyyy/MM/dd"),endDate:Object(Q.default)(F.toDate(),"yyyy/MM/dd")}}),[y,A,T,F]),B=Object(n.useMemo)((function(){return{limit:o,skip:(a-1)*o}}),[o,a]),L=Object(n.useContext)(Ue),U=L.state,W=U.fetchingRevenue,V=U.totalRevenue,G=L.fetchRevenue,K=Object(n.useContext)(he),H=K.fetchCampaigns,Y=K.fetchTotalCampaignSize,J=K.fetchActiveCampaigns,X=K.state,Z=X.loading,$=X.campaigns,ee=X.campaignSize,te=X.retrieveErrorMsg,ae=X.fetchingTotalSize,ne=X.campaignTotalSize,re=X.activeCampaignsSize,ce=X.fetchingActiveCampaigns,se=Object(n.useMemo)((function(){return ae||ce||W}),[ce,ae,W]);Object(n.useEffect)((function(){Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([J(),Y(),G()]);case 2:case"end":return e.stop()}}),e)})))()}),[]);var ie=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){var t;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=In()(R,(function(e){return e&&"all"===e})),H(Object(j.a)(Object(j.a)({},t),B));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){ie()}),[R,B]);var oe=mn(a,o,$,ee),le=oe.indexOfFirstItem,de=oe.indexOfLastItem,ue=oe.pages;return Object(g.jsxs)(Da,{fetchCampaignsFn:ie,children:[se?Object(g.jsx)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:Array.from({length:3},(function(e,t){return t+1})).map((function(e){return Object(g.jsx)(Mr,{},e)}))}):Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-16",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Total Revenue",infoValue:Ra(Wa(V),!0,!0),statChange:2.4}),Object(g.jsx)(jn,{infoTitle:"Active Campaigns",infoValue:Ra(re),bgColor:"bg-green-gradient",statChange:-2.5}),Object(g.jsx)(jn,{infoTitle:"Total Campaigns",infoValue:Ra(ne),bgColor:"bg-yellow-gradient",statChange:2.4})]}),Object(g.jsxs)("div",{className:"mt-16 bg-black rounded-md border-2 border-247-dark-text mb-10",children:[Object(g.jsx)(Tn,{defaultFilters:qr,setSelectedStatusFilter:v,setSelectedTypeFilter:I,selectedStatusFilter:y,selectedTypeFilter:A,statusFilters:Zt,typeFilters:$t,startDate:T,endDate:F,setStartDate:E,setEndDate:q}),Object(g.jsxs)(fn,{headers:Fr,loadingData:Z,children:[Z&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!Z&&$.length>0&&$.map((function(e,t){var a,n,r=tn(e.duration[1],e.duration[0]);return Object(g.jsxs)("tr",{className:m.includes(t)?"text-lg bg-gray-700 border border-247-dark-text cursor-pointer hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3 cursor-pointer hover:bg-gray-700",onClick:function(t){t.target.closest(".toggle-check")||h.push({pathname:"/campaign/".concat(e.campaignID)})},children:[Object(g.jsx)("td",{className:"px-3 py-5 toggle-check",children:Object(g.jsx)(hn,{checked:!!m.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(e){!function(e){if(m.includes(e)){var t=m.indexOf(e),a=Object(N.a)(m);a.splice(t,1),f(a)}else f([].concat(Object(N.a)(m),[e]))}(t)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsx)("div",{className:"flex items-center ",children:e.campaignName})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center gap-3",children:[Object(g.jsx)("div",{className:C()("rounded-full","w-4","h-4",{"bg-active-gradient":"active"===e.status},{"bg-closed-gradient":"closed"===e.status},{"bg-paused-gradient":"paused"===e.status})}),ja()(e.status)]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:e.advertiser.companyName}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(e.campaignStat.impressions).toLocaleString("en-NG")}),Object(g.jsx)("td",{className:"px-6 py-5",children:"".concat(r," ").concat(r>1?"days":"day")}),Object(g.jsx)("td",{className:"px-6 py-5",children:Number(Wa((null===(a=e.campaignStat)||void 0===a||null===(n=a.adSpend)||void 0===n?void 0:n.amountInKobo)||0)).toLocaleString("en-NG",{style:"currency",currency:"NGN"})})]},"campaign".concat(e.campaignID))}))]}),!Z&&!te&&0===$.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!Z&&te&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:te})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:$&&$.length>0&&Object(g.jsx)(On,{activePage:a,dataLength:ee,firstItem:le+1,lastItem:de,pages:ue,setActivePage:r,setVisibleRows:l,visibleRows:o})})]})},Br=function(e){var t=e.data,a=e.impressionDataKey,n=e.xDataKey;return Object(g.jsx)(za.a,{width:"100%",height:360,children:Object(g.jsxs)(_a.a,{data:t,margin:{top:5,right:20,bottom:5,left:0},children:[Object(g.jsx)(Ea.a,{stroke:"#4d4d4d",strokeDasharray:"5 5"}),Object(g.jsx)(Ta.a,{type:"monotone",dataKey:a,stroke:"#4FB81D"}),Object(g.jsx)(Ma.a,{axisLine:!1}),Object(g.jsx)(Pa.a,{dataKey:n}),Object(g.jsx)(Fa.a,{})]})})},Lr=function(e){Object.assign({},e);return Object(g.jsxs)("div",{className:"py-10 h-full",children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"30vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsxs)("div",{className:"grid grid-cols-3 space-x-4 mt-6",children:[Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"20vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"10vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})}),Object(g.jsx)("div",{className:"mt-6",children:Object(g.jsx)(K.a,{width:"100%",height:"15vh",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})]})},Ur={active:[{text:"Pause",action:"pause",icon:Object(g.jsx)(L.k,{className:"mr-2",size:22})},{text:"Terminate",action:"terminate",icon:Object(g.jsx)(Xe.c,{className:"mr-2",size:22})}],paused:[{text:"Resume",action:"resume",icon:Object(g.jsx)(L.l,{className:"mr-2",size:22})},{text:"Terminate",action:"terminate",icon:Object(g.jsx)(Xe.c,{className:"mr-2",size:22})}],closed:[]},Wr=function(e){var t=e.loadingState,a=e.handleCampaignAction,n=e.campaignName,r=e.campaignId,c=e.status,s=e.goToPrevPage;return Object(g.jsxs)("div",{className:"flex items-center justify-between",children:[Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("button",{onClick:s,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(g.jsx)(L.c,{color:"#f00",size:28})}),Object(g.jsxs)("div",{className:"ml-14 flex items-center",children:[Object(g.jsx)("h3",{className:"text-2xl text-247-gray font-semibold",children:n}),Object(g.jsx)("span",{className:"bg-247-dark-text text-247-gray-accent2 px-3 py-1 text-xl rounded-md ml-8",children:r})]})]}),Object(g.jsx)("div",{className:"flex items-center justify-center",children:Ur[c].map((function(e){return Object(g.jsx)("div",{className:"mx-3",children:Object(g.jsx)(yt,{title:e.text,icon:e.icon,onBtnClick:function(){return a(e.action)},isLoading:t})})}))})]})},Vr={active:"#028307",paused:"#EC5500",closed:"#E20000"},Gr=function(){var e,t,a,r,c,s,o=Object(n.useState)({open:!1,action:null}),l=Object(z.a)(o,2),d=l[0],u=l[1],j=Object(n.useState)(!1),m=Object(z.a)(j,2),f=m[0],h=m[1],O=Object(i.i)().campaignId,x=Object(n.useContext)(he),y=x.state,v=y.loading,w=y.campaign,N=y.campaignDailyStat,S=y.updatingStatus,C=y.updateStatusError,k=y.updatingAttributes,A=y.updateAttributesError,I=x.fetchCampaignById,D=x.fetchDailyCampaignStat,_=x.updateCampaignStatus,T=x.updateCampaignAttributes,E=x.clearError,P=Object(n.useContext)(Ot),M=P.state,F=M.loading,q=M.advertisers,R=P.fetchAdvertisers;Kt(C,(function(){E("updateStatus")})),Kt(A,(function(){E("updateAttributes")}));var B=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([R({}),I(O),D({startDate:sn,endDate:cn,campaignId:O})]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){B()}),[]);var L=Object(n.useMemo)((function(){return N.map((function(e){return{impressions:e.impressions,date:nn(e.date)}}))}),[N]),U=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t,O,(function(){return Ge.a.success("Campaign has been updated successfully!"),I(O)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=Object(i.g)(),V=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(w.campaignID,{action:"terminate"},(function(){return Ge.a.success("Campaign has been terminated successfully!"),I(O)}));case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(w.campaignID,{action:"pause"},(function(){return Ge.a.success("Campaign has been paused successfully!"),I(O)}));case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(w.campaignID,{action:"resume"},(function(){return Ge.a.success("Campaign has resumed successfully!"),I(O)}));case 2:u(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K={pause:{confirmText:"Are you sure you want to pause this campaign?",handleFn:G},terminate:{confirmText:"Are you sure you want to terminate this campaign?",handleFn:V},resume:{confirmText:"Are you sure you want to resume this campaign?",handleFn:Q}},H={campaignName:null===w||void 0===w?void 0:w.campaignName,advertiser:_n()(q,{companyName:null===w||void 0===w?void 0:w.advertiser.companyName}),duration:null===w||void 0===w?void 0:w.duration.map((function(e){return new Date(e)})),adBudget:Wa(null===w||void 0===w?void 0:w.adBudgetInKobo).toLocaleString(),adType:_n()(ta,{value:null===w||void 0===w?void 0:w.adType}),preview:"image"===(null===w||void 0===w?void 0:w.adType)?null===w||void 0===w?void 0:w.campaignMedia:null===w||void 0===w?void 0:w.videoThumbnail},Y=Object(n.useMemo)((function(){return w&&(e=w.duration[1],t=w.duration[0],Object($a.a)(new Date(e),new Date(t)));var e,t}),[w]);return w&&Object(g.jsx)(Da,{customHeader:Object(g.jsx)(Wr,{campaignId:null===w||void 0===w?void 0:w.campaignID,campaignName:null===w||void 0===w?void 0:w.campaignName,handleCampaignAction:function(e){u({open:!0,action:e})},goToPrevPage:function(){return W.push("/campaigns")},status:null===w||void 0===w?void 0:w.status,loadingState:S}),children:v||F?Object(g.jsx)(Lr,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"w-full mt-20 rounded-lg bg-247-campaign-preview",children:[Object(g.jsxs)("div",{className:"w-full bg-247-campaign-preview-title flex items-center justify-between px-12 py-4 rounded-t-lg",children:[Object(g.jsx)("h4",{className:"text-white text-xl font-medium",children:"Campaign Information"}),Object(g.jsx)("button",{onClick:function(){return h(!0)},className:"text-247-campaign-preview-title bg-white px-5 py-2 rounded-md font-medium",children:"Edit Campaign"})]}),Object(g.jsxs)("div",{className:"flex py-5 px-6",children:[Object(g.jsx)("img",{src:"image"===w.adType?w.campaignMedia:w.videoThumbnail,alt:"ad preview",className:"h-64 drop-shadow-sm w-full object-cover rounded-md",style:{maxWidth:"450px"}}),Object(g.jsx)("div",{className:"border-l border-white ml-14"}),Object(g.jsxs)("div",{className:"w-full flex justify-around pt-2",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)(Nr,{label:"Campaign name",value:null===w||void 0===w?void 0:w.campaignName}),Object(g.jsx)(Nr,{label:"Advertiser",value:null===w||void 0===w||null===(e=w.advertiser)||void 0===e?void 0:e.companyName}),Object(g.jsx)(Nr,{label:"Ad Type",value:ja()(null===w||void 0===w?void 0:w.adType),last:!0})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(Nr,{label:"Ad Budget",value:Number(Wa(null===w||void 0===w?void 0:w.adBudgetInKobo)).toLocaleString("en-NG",{currency:"NGN",style:"currency"})}),Object(g.jsx)(Nr,{label:"Duration",value:Y}),Object(g.jsx)(Nr,{label:"Status",value:ja()(null===w||void 0===w?void 0:w.status),valueColor:Vr[null===w||void 0===w?void 0:w.status],last:!0})]})]})]})]}),Object(g.jsxs)("div",{className:"grid grid-cols-3 gap-6 mt-14",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Campaign Playtime",infoValue:Ba(null===w||void 0===w||null===(t=w.campaignStat)||void 0===t?void 0:t.playTimeInSeconds)}),Object(g.jsx)(jn,{infoTitle:"Total Impressions",infoValue:Ra(w.campaignStat.impressions,!1,!0),bgColor:"bg-green-gradient"}),Object(g.jsx)(jn,{infoTitle:"Amount Spent",infoValue:Ra(Wa((null===w||void 0===w||null===(a=w.campaignStat)||void 0===a||null===(r=a.adSpend)||void 0===r?void 0:r.amountInKobo)||0),!0,!0),bgColor:"bg-yellow-gradient"})]}),Object(g.jsxs)("div",{className:"w-full mb-32 bg-247-campaign-preview rounded-xl mt-14 px-9 py-8",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between mb-14",children:[Object(g.jsx)("h3",{className:"text-3xl text-247-gray-accent2 font-medium",children:"Campaign Analytics"}),Object(g.jsx)("div",{className:"flex gap-10",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("div",{className:"w-5 h-5 rounded-full border-4 border-247-green"}),Object(g.jsx)("label",{className:"text-247-gray-accent2 text-2xl ml-4",children:"Impressions"})]})})]}),Object(g.jsx)(Br,{data:L,impressionDataKey:"impressions",xDataKey:"date"})]}),Object(g.jsx)(Sr,{open:d.open,setOpen:u,text:null===(c=K[null===d||void 0===d?void 0:d.action])||void 0===c?void 0:c.confirmText,icon:Object(g.jsx)(Ke.b,{size:28,color:"#fff"}),handleConfirmation:null===(s=K[null===d||void 0===d?void 0:d.action])||void 0===s?void 0:s.handleFn,handleReject:function(){return u({open:!1,action:null})}}),Object(g.jsx)(pa,{modalIsOpen:f,setIsOpen:h,modalWidth:704,editData:H,editFn:U,editing:k,isEdit:!0})]})})},Qr=function(e){var t=e.name,a=e.value,n=e.handleChange,r=e.errorText;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("textarea",{className:C()(["bg-transparent","border-2","w-full","rounded-md","px-6","py-4","text-white","text-lg","focus:outline-none","bg-247-dark-mode-input-bg",{"border-247-dark-text":!r},{"border-247-error-text":!!r},"outline-none"]),placeholder:"Write a message...",name:t,id:t,rows:"10",value:a,onChange:n}),r&&Object(g.jsx)("p",{className:"text-sm mt-1 ml-2 text-247-error-text",children:r})]})},Kr=function(){var e,t=R.b({subject:R.c().required("Subject is required"),message:R.c().required("Message is required")}),a=Object(w.e)({resolver:Object(q.a)(t)}),r=a.handleSubmit,c=a.register,s=a.formState,i=s.errors,o=s.isDirty,l=s.isSubmitting,d=a.control,u=a.reset,p=a.setValue,b=Object(n.useContext)(M).state.user,j=xa().emitEvent;return Object(g.jsx)(Da,{pageTitle:"Send Notifs",children:Object(g.jsxs)("form",{className:"mt-14 max-w-3xl",onSubmit:r((function(e){j(ia,{message:e.message,sender:b.id,subject:e.subject}),Ge.a.success("Message broadcasted to drivers successfully!"),u(),p("message","")})),children:[Object(g.jsx)(x,{darkMode:!0,placeholder:"Enter subject",type:"text",registerFn:c,name:"subject",errorText:null===(e=i.subject)||void 0===e?void 0:e.message}),Object(g.jsx)("div",{className:"mt-8",children:Object(g.jsx)(w.a,{name:"message",control:d,render:function(e){var t,a=e.field;return Object(g.jsx)(Qr,{name:"notif-text",value:a.value,handleChange:function(e){return a.onChange(e.target.value)},errorText:null===(t=i.message)||void 0===t?void 0:t.message})}})}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-10"],disabled:!o,isLoading:l,children:"Send Notification"})]})})},Hr=function(e){var t,a,n=e.isOpen,r=e.setIsOpen,c=e.handleUpload,s=e.setMediaItem,i=e.setMediaDuration,o=e.creatingContent,l=R.b({title:R.c().required("Title is required"),category:R.c().required("Category is required")}),d=Object(w.e)({resolver:Object(q.a)(l)}),u=d.handleSubmit,p=d.formState.errors,b=d.register;return Object(g.jsxs)(zt,{modalOpen:n,setModalOpen:r,width:704,children:[Object(g.jsx)("h2",{className:"text-white text-2xl font-semibold text-center",children:"Upload Content"}),Object(g.jsxs)("form",{className:"mt-10",onSubmit:u(c),children:[Object(g.jsx)(x,{label:"Title",darkMode:!0,placeholder:"enter title",type:"string",registerFn:b,name:"title",errorText:null===(t=p.title)||void 0===t?void 0:t.message}),Object(g.jsx)(x,{label:"Category",darkMode:!0,placeholder:"enter category",type:"string",registerFn:b,name:"category",errorText:null===(a=p.category)||void 0===a?void 0:a.message}),Object(g.jsx)(Qt,{label:"Upload Content",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);s(t)},accepts:".mp4",setDuration:i}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:o,children:"Upload"})]})]})},Yr=a(184),Jr=a.n(Yr),Xr=a(323),Zr=a.n(Xr),$r=at(Object(n.forwardRef)((function(e,t){var a=e.setConfirmItemDelete,n=e.setCurrentItem,r=e.removeItemFromPlaylist,c=e.addItemToPlaylist,s=e.contentItem,i=e.index,o=e.checkedItems,l=e.toggleItemCheck,d=e.hideAction,u=e.smallText,p=e.open,b=e.setOpen,j=[{name:"Delete content",action:function(e){b(!1),n(e),a(!0)}},"not-live"===s.status&&{name:"Add to live playlist",action:function(e){b(!1),c(e)}},"live"===s.status&&{name:"Remove from live playlist",action:function(e){b(!1),r(e)}}];return Object(g.jsxs)("tr",{className:C()("border","border-247-dark-text","hover:bg-gray-700",{"bg-gray-700":o.includes(i)},{"odd:bg-247-dark-accent3":!o.includes(i)},{"text-lg":!u},{"text-sm":u}),children:[Object(g.jsx)("td",{className:"px-3 py-5",children:Object(g.jsx)(hn,{checked:!!o.includes(i),iconColor:"#CACACA",name:s.title.toLowerCase(),handleChange:function(){return l(i)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("img",{src:s.previewUri,className:"h-14 w-24 object-cover rounded",alt:"content thumbnail"}),Object(g.jsxs)("div",{className:"ml-4",children:[Object(g.jsx)("p",{children:s.title}),Object(g.jsx)("p",{className:"text-sm text-247-timestamp-color font-semibold",children:s.type})]})]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:s.duration}),Object(g.jsx)("td",{className:"px-6 py-5",children:s.category}),Object(g.jsx)("td",{className:"px-6 py-5",children:an(s.createdAt)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(s.plays,!1,!0)}),Object(g.jsx)("td",{className:C()("px-6","py-5",{"text-247-red-straight":"live"===s.status,"text-247-not-live":"not-live"===s.status}),children:ja()(s.status.split("-").join(" "))}),!d&&Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"relative",ref:t,children:[Object(g.jsx)("button",{onClick:function(){return b(!p)},className:"flex items-center justify-center",children:Object(g.jsx)(Ut.c,{color:"#fff",size:24})}),Object(g.jsx)("ul",{style:{transform:"translateX(-90%)"},className:C()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!p},{"opacity-100":p},{visible:p},{hidden:!p}),children:Zr()(j).map((function(e){return Object(g.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(t){return e.action(s)},children:e.name},Jr()(e.name))}))})]})})]})}))),ec="creating_content",tc="fetching_media_items",ac="deleting_item",nc="fetch_media_items_error",rc="create_error",cc="delete_error",sc="set_media_items",ic="set_media_items_size",oc={create:rc,fetchItems:nc,deleteItem:cc},lc=_((function(e,t){switch(t.type){case ec:return Object(j.a)(Object(j.a)({},e),{},{creatingContent:t.payload});case rc:return Object(j.a)(Object(j.a)({},e),{},{createError:t.payload});case tc:return Object(j.a)(Object(j.a)({},e),{},{fetchingMediaItems:t.payload});case nc:return Object(j.a)(Object(j.a)({},e),{},{fetchItemsError:t.payload});case ac:return Object(j.a)(Object(j.a)({},e),{},{deletingItem:t.payload});case cc:return Object(j.a)(Object(j.a)({},e),{},{deleteItemError:t.payload});case sc:return Object(j.a)(Object(j.a)({},e),{},{mediaItems:t.payload});case ic:return Object(j.a)(Object(j.a)({},e),{},{mediaItemsSize:t.payload});default:return e}}),{creatingContent:!1,createError:null,deletingItem:!1,deleteItemError:null,fetchingMediaItems:!1,fetchItemsError:null,mediaItems:[],mediaItemsSize:0},{createContentItem:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ec,payload:!0}),e({type:rc,payload:null}),t.prev=2,t.next=5,E.post("/mediaitems",a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:e({type:ec,payload:!1}),n&&n(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response?e({type:rc,payload:t.t0.response.data.message||"Unable to create content. Something went wrong"}):e({type:rc,payload:"Unable to create content. Something went wrong"}),e({type:ec,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchMediaItems:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:tc,payload:!0}),e({type:nc,payload:null}),t.prev=2,t.next=5,E.get("/mediaitems",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:sc,payload:n.data.mediaItems}),e({type:ic,payload:n.data.size}),e({type:tc,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:nc,payload:t.t0.response.data.message||"Unable to fetch media items. Something went wrong"}):e({type:nc,payload:"Unable to fetch media items. Something went wrong"}),e({type:tc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:oc[t],payload:null})}},deleteMediaItem:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:ac,payload:!0}),e({type:cc,payload:null}),t.prev=2,t.next=5,E.delete("/mediaitems/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:e({type:ac,payload:!1}),n&&n(),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response?e({type:cc,payload:t.t0.response.data.message||"Unable to delete media item. Something went wrong"}):e({type:cc,payload:"Unable to delete media item. Something went wrong"}),e({type:ac,payload:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,a){return t.apply(this,arguments)}}()}}),dc=lc.Context,uc=lc.Provider,pc="fetching_general_playlist",bc="set_general_playlist",jc="fetch_general_playlist_error",mc="adding_playlist_item",fc="playlist_add_success",hc="playlist_add_error",gc="deleting_playlist_item",Oc="playlist_delete_success",xc="playlist_delete_error",yc="adding_multiple_item",vc="add_multiple_success",wc="add_multiple_error",Nc="reordering_playlist",Sc="reorder_success",Cc="reorder_fail",kc={fetchGeneral:jc,addToPlaylist:hc,addMultiple:wc,deleteItem:xc,reorder:Cc},Ac=_((function(e,t){switch(t.type){case pc:return Object(j.a)(Object(j.a)({},e),{},{fetchingGeneralPlaylist:t.payload});case bc:return Object(j.a)(Object(j.a)({},e),{},{generalPlaylist:t.payload});case jc:return Object(j.a)(Object(j.a)({},e),{},{fetchGeneralPlaylistErr:t.payload});case mc:return Object(j.a)(Object(j.a)({},e),{},{addingItemToPlaylist:t.payload});case fc:return Object(j.a)(Object(j.a)({},e),{},{playlistAddedSuccess:t.payload});case hc:return Object(j.a)(Object(j.a)({},e),{},{playlistAddedFail:t.payload});case gc:return Object(j.a)(Object(j.a)({},e),{},{deletePlaylistItem:t.payload});case Oc:return Object(j.a)(Object(j.a)({},e),{},{playlistDeleteSuccess:t.payload});case xc:return Object(j.a)(Object(j.a)({},e),{},{playlistDeleteError:t.payload});case yc:return Object(j.a)(Object(j.a)({},e),{},{addingMultipleItem:t.payload});case vc:return Object(j.a)(Object(j.a)({},e),{},{addMultipleItemSuccess:t.payload});case wc:return Object(j.a)(Object(j.a)({},e),{},{addMultipleItemError:t.payload});case Nc:return Object(j.a)(Object(j.a)({},e),{},{reorderingPlaylist:t.payload});case Sc:return Object(j.a)(Object(j.a)({},e),{},{reorderSuccess:t.payload});case Cc:return Object(j.a)(Object(j.a)({},e),{},{reorderError:t.payload});default:return e}}),{fetchingGeneralPlaylist:!1,generalPlaylist:[],fetchGeneralPlaylistErr:null,addingItemToPlaylist:!1,playlistAddedSuccess:null,playlistAddedFail:null,deletingPlaylistItem:!1,playlistDeleteSuccess:null,playlistDeleteError:null,addingMultipleItem:!1,addMultipleItemError:null,addMultipleItemSuccess:null,reorderingPlaylist:!1,reorderError:null,reorderSuccess:null},{fetchGeneralPlaylist:function(e){return Object(b.a)(Object(p.a)().mark((function t(){var a;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:pc,payload:!0}),e({type:jc,payload:null}),t.prev=2,t.next=5,E.get("/playlists",{headers:{Authorization:"Bearer ".concat(H())},params:{name:"general"}});case 5:a=t.sent,console.log(a.data.playlist),e({type:pc,payload:!1}),e({type:bc,payload:a.data.playlist.queue}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:jc,payload:t.t0.response.data.message||"Unable to fetch playlist. Something went wrong"}):e({type:jc,payload:"Unable to fetch playlist. Something went wrong"}),e({type:pc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})))},addItemToPlaylist:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:mc,payload:!0}),e({type:hc,payload:null}),t.prev=2,t.next=5,E.post("/playlists/item",a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,console.log(r.data.message),e({type:mc,payload:!1}),e({type:fc,payload:r.data.message}),n&&n(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:hc,payload:t.t0.response.data.message||"Unable to add item to playlist. Something went wrong"}):e({type:hc,payload:"Unable to add item to playlist. Something went wrong"}),e({type:mc,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:kc[t],payload:null})}},deletePlaylistItem:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:gc,payload:!0}),e({type:xc,payload:null}),t.prev=2,t.next=5,E.delete("/playlists/item/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,console.log(r.data),e({type:gc,payload:!1}),e({type:Oc,payload:r.data.message}),n&&n(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response),e({type:xc,payload:t.t0.response.data.message||"Unable to delete playlist item. Something went wrong"})):e({type:xc,payload:"Unable to delete playlist item. Something went wrong"}),e({type:gc,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},deletePlaylistItemForMedia:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:gc,payload:!0}),e({type:xc,payload:null}),t.prev=2,t.next=5,E.delete("/playlists/media/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,e({type:gc,payload:!1}),e({type:Oc,payload:r.data.message}),n&&n(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?(console.log(t.t0.response),e({type:xc,payload:t.t0.response.data.message||"Unable to delete playlist item. Something went wrong"})):e({type:xc,payload:"Unable to delete playlist item. Something went wrong"}),e({type:gc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()},addMultipleItemToPlaylist:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:yc,payload:!0}),e({type:wc,payload:null}),t.prev=2,t.next=5,E.post("/playlists/item/multiple",a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,console.log(r.data),e({type:yc,payload:!1}),e({type:vc,payload:r.data.message}),n&&n(),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(2),t.t0.response?e({type:wc,payload:t.t0.response.data.message||"Unable to add items to playlist. Something went wrong"}):e({type:wc,payload:"Unable to add items to playlist. Something went wrong"}),e({type:yc,payload:!1});case 16:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()},reorderPlaylist:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Nc,payload:!0}),e({type:Sc,payload:null}),t.prev=2,t.next=5,E.post("/playlists/reorder",a,{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,console.log(r.data),e({type:Nc,payload:!1}),e({type:Sc,payload:r.data.message}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Cc,payload:t.t0.response.data.message||"Unable to reorder playlist. Something went wrong"}):e({type:Cc,payload:"Unable to reorder playlist. Something went wrong"}),e({type:Nc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()}}),Ic=Ac.Context,Dc=Ac.Provider,zc=["","Title","Duration","Category","Date","Plays","Status",""],_c=function(){var e=Object(n.useState)([]),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(z.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(5),d=Object(z.a)(l,2),u=d[0],m=d[1],f=Object(n.useState)(),h=Object(z.a)(f,2),O=h[0],x=h[1],y=Object(n.useState)([]),v=Object(z.a)(y,2),w=v[0],S=v[1],C=Object(n.useState)(0),A=Object(z.a)(C,2),I=A[0],D=A[1],_=Object(n.useState)(!1),T=Object(z.a)(_,2),E=T[0],P=T[1],M=Object(n.useState)(!1),F=Object(z.a)(M,2),q=F[0],R=F[1],B=Object(n.useContext)(dc),L=B.state,U=L.creatingContent,W=L.createError,V=L.fetchingMediaItems,G=L.deletingItem,Q=L.deleteItemError,K=L.mediaItems,H=L.mediaItemsSize,Y=L.fetchItemsError,J=B.createContentItem,X=B.fetchMediaItems,Z=B.deleteMediaItem,$=B.clearError,ee=Object(n.useContext)(Ic),te=ee.state,ae=te.addingItemToPlaylist,ne=te.playlistAddedFail,re=te.deletingPlaylistItem,ce=te.playlistDeleteError,se=ee.addItemToPlaylist,ie=ee.deletePlaylistItemForMedia,oe=ee.clearError;Kt(W,(function(){$("create")})),Kt(Q,(function(){$("deleteItem")})),Kt(ne,(function(){oe("addToPlaylist")})),Kt(ce,(function(){oe("deleteItem")}));var le=Object(n.useMemo)((function(){return{limit:u,skip:(i-1)*u}}),[u,i]);Object(n.useEffect)((function(){X(Object(j.a)({},le))}),[le]);var de=mn(i,u,K,H),ue=de.indexOfFirstItem,pe=de.indexOfLastItem,be=de.pages,je=function(e){if(a.includes(e)){var t=a.indexOf(e),n=Object(N.a)(a);n.splice(t,1),r(n)}else r([].concat(Object(N.a)(a),[e]))},me=function(){return Ge.a.success("New content created!"),X(Object(j.a)({},le))},fe=function(){return Ge.a.success("Media item deleted successfully!"),X(Object(j.a)({},le))},he=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"uploading new content..."),console.log(w,La(I)),(a=new FormData).append("title",t.title),a.append("category",t.category),a.append("duration",La(I)),a.append("mediaItem",w[0]),e.next=9,J(a,me);case 9:P(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ge=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t.id,(function(){return Ge.a.success("Item removed from playlist successfully!"),X(Object(j.a)({},le))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,n,r,c;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,"adding item to playlist..."),a=t.id,n=t.duration,r=t.mediaUri,c=t.title,e.next=4,se({title:c,mediaUrl:r,durationInSeconds:Ua(n),resourceRef:a,modelType:"MediaItem",mediaType:"video",contentType:"non-campaign"},(function(){return Ge.a.success("Item added to playlist successfully!"),X(Object(j.a)({},le))}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z(O.mediaId,fe);case 2:R(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(Da,{children:[(ae||re)&&Object(g.jsx)(Pn,{}),Object(g.jsxs)("div",{className:"mt-20 rounded-md bg-247-secondary border-2 border-247-dark-text mb-10",children:[Object(g.jsx)("div",{className:"flex py-4 px-8 justify-end",children:Object(g.jsx)(yt,{title:"Upload Content",icon:Object(g.jsx)(Ut.d,{className:"mr-3",size:22}),onBtnClick:function(){return P(!0)}})}),Object(g.jsxs)(fn,{headers:zc,loadingData:V,children:[V&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!V&&K.length>0&&K.map((function(e,t){return Object(g.jsx)($r,{checkedItems:a,contentItem:e,index:t,toggleItemCheck:je,setConfirmItemDelete:R,removeItemFromPlaylist:ge,addItemToPlaylist:Oe,setCurrentItem:x},"contentItem_".concat(t))}))]}),!V&&!Y&&0===K.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!V&&Y&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:Y})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:K&&K.length>0&&Object(g.jsx)(On,{activePage:i,dataLength:H,firstItem:ue+1,lastItem:pe,pages:be,setActivePage:o,setVisibleRows:m,visibleRows:u})}),Object(g.jsx)(Hr,{isOpen:E,setIsOpen:P,handleUpload:he,setMediaItem:S,setMediaDuration:D,creatingContent:U}),Object(g.jsx)(Sr,{open:q,setOpen:R,text:"Are you sure you want to delete this content?",icon:Object(g.jsx)(Ke.b,{size:28,color:"#fff"}),handleConfirmation:xe,processingConfirm:G})]})},Tc=a(151),Ec=at(Object(n.forwardRef)((function(e,t){var a=e.playlistItem,r=e.onDownwardMove,c=e.onUpwardMove,s=e.setConfirmRemoveItem,i=e.open,o=e.setOpen,l=e.draggableId,d=e.index,u=e.setCurrentItem,p=e.key,b=["campaign"!==a.contentType&&{name:"Remove content",action:function(e){u(e),o(!1),s(!0)}},{name:"Move up",action:function(e,t){o(!1),c(e,t)}},{name:"Move down",action:function(e,t){o(!1),r(e,t)}}].filter((function(e){return e})),m=Object(n.useMemo)((function(){var e,t,n;return"campaign"===a.contentType?"video"===a.mediaType?null===a||void 0===a||null===(e=a.resourceRef)||void 0===e?void 0:e.videoThumbnail:null===a||void 0===a||null===(t=a.resourceRef)||void 0===t?void 0:t.campaignMedia:null===a||void 0===a||null===(n=a.resourceRef)||void 0===n?void 0:n.previewUri}),[a.contentType]);return Object(g.jsx)(Tc.b,{draggableId:l,index:d,children:function(e){return Object(g.jsxs)("tr",Object(j.a)(Object(j.a)({ref:e.innerRef},e.draggableProps),{},{className:"text-lg border border-247-dark-text odd:bg-247-dark-accent3 hover:bg-gray-700",children:[Object(g.jsx)("td",Object(j.a)(Object(j.a)({},e.dragHandleProps),{},{className:"px-3 py-5",children:Object(g.jsx)(L.b,{color:"#fff",size:30})})),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("img",{src:m,className:"h-14 w-24 object-cover rounded",alt:"content thumbnail"}),Object(g.jsxs)("div",{className:"ml-4",children:[Object(g.jsx)("p",{children:a.title}),Object(g.jsx)("p",{className:"text-sm text-247-timestamp-color font-semibold",children:a.contentType})]})]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:La(a.durationInSeconds)}),Object(g.jsx)("td",{className:"px-6 py-5",children:an(a.createdAt)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{className:"relative",ref:t,children:[Object(g.jsx)("button",{onClick:function(){return o(!i)},className:"flex items-center justify-center",children:Object(g.jsx)(Ut.c,{color:"#fff",size:24})}),Object(g.jsx)("ul",{style:{transform:"translateX(-90%)"},className:C()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!i},{"opacity-100":i},{visible:i},{hidden:!i}),children:b.map((function(e){return Object(g.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(t){return e.action(a,d)},children:e.name},Jr()(e.name))}))})]})})]}))}},p)}))),Pc=function(e){var t=e.droppableId,a=e.children,n=e.headers,r=e.handleDragEnd;return Object(g.jsxs)("table",{className:"font-customRoboto w-full text-white border-collapse",children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{className:"border border-247-dark-text bg-247-red-straight",children:n.map((function(e,t){return Object(g.jsx)("th",{className:"text-left px-6 py-4 text-lg",children:e},"".concat(e,"_").concat(t))}))})}),Object(g.jsx)(Tc.a,{onDragEnd:r,children:Object(g.jsx)(Tc.c,{droppableId:t,children:function(e){return Object(g.jsxs)("tbody",Object(j.a)(Object(j.a)({},e.droppableProps),{},{ref:e.innerRef,children:[a,e.placeholder]}))}})})]})},Mc=["","Title","Duration","Category","Date","Plays","Status"],Fc=function(e){var t=e.isOpen,a=e.setIsOpen,r=e.currentPage,c=e.indexOfFirstItem,s=e.indexOfLastItem,i=e.pages,o=e.setCurrentPage,l=e.setShownRows,d=e.shownRows,u=e.list,p=e.listSize,b=e.loadingData,j=e.fetchError,m=e.onMultipleAdd,f=e.addingMultipleItem,h=e.addCallback,O=e.contentSearch,x=e.handleSearchChange,y=Object(n.useState)([]),v=Object(z.a)(y,2),w=v[0],S=v[1],C=function(e){if(w.includes(e)){var t=w.indexOf(e),a=Object(N.a)(w);a.splice(t,1),S(a)}else S([].concat(Object(N.a)(w),[e]))};return Object(g.jsxs)(zt,{modalOpen:t,setModalOpen:a,width:1100,cb:function(){return S([])},children:[Object(g.jsxs)("div",{className:"mt-10 rounded-md bg-black border-247-dark-text mb-10",children:[Object(g.jsx)("div",{className:"flex py-4 px-8",children:Object(g.jsx)(Je,{value:O,handleChange:x,placeholderText:"Search Content Library"})}),Object(g.jsxs)(fn,{headers:Mc,loadingData:b,children:[b&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!b&&u.length>0&&u.map((function(e,t){return Object(g.jsx)($r,{checkedItems:w,contentItem:e,index:t,toggleItemCheck:C,hideAction:!0,smallText:!0},"contentItem_".concat(t))}))]}),!b&&!j&&0===u.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Media Content Found",subtitle:"We cannot find any media content that's not on the playlist"})}),!b&&j&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:j})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:u&&u.length>0&&Object(g.jsx)(On,{activePage:r,dataLength:p,firstItem:c+1,lastItem:s,pages:i,setActivePage:o,setVisibleRows:l,visibleRows:d})}),!j&&Object(g.jsx)(I,{className:["bg-247-red-straight","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:f,handleClick:function(){if(0===w.length)Ge.a.error("You have not selected any media item");else{var e=w.map((function(e){return u[e]})).map((function(e){return{title:e.title,mediaUrl:e.mediaUri,durationInSeconds:Ua(e.duration),resourceRef:e.id,modelType:"MediaItem",mediaType:"video",contentType:"non-campaign"}}));console.log(e),m({items:e},(function(){return Ge.a.success("Items added to playlist successfully"),S([]),a(!1),h()}))}},children:"Add"})]})},qc=["","Title","Duration","Date Added","Action"],Rc=function(){var e=Object(n.useState)(1),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(5),s=Object(z.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(1),d=Object(z.a)(l,2),u=d[0],m=d[1],f=Object(n.useState)(5),h=Object(z.a)(f,2),O=h[0],x=h[1],y=Object(n.useState)(!1),v=Object(z.a)(y,2),w=v[0],N=v[1],S=Object(n.useState)(!1),C=Object(z.a)(S,2),A=C[0],I=C[1],D=Object(n.useState)(),_=Object(z.a)(D,2),T=_[0],E=_[1],P=Object(n.useState)([]),M=Object(z.a)(P,2),F=M[0],q=M[1],R=Object(n.useState)(""),B=Object(z.a)(R,2),U=B[0],W=B[1],V=Object(n.useContext)(Ic),G=V.state,Q=G.generalPlaylist,K=G.fetchingGeneralPlaylist,H=G.fetchGeneralPlaylistErr,Y=G.deletingPlaylistItem,J=G.playlistDeleteError,X=G.addingMultipleItem,Z=G.addMultipleItemError,$=G.reorderError,ee=V.fetchGeneralPlaylist,te=V.addMultipleItemToPlaylist,ae=V.deletePlaylistItem,ne=V.reorderPlaylist,re=V.clearError,ce=Object(n.useContext)(dc),se=ce.state,ie=se.mediaItems,oe=se.mediaItemsSize,le=se.fetchItemsError,de=se.fetchingMediaItems,ue=ce.fetchMediaItems,pe=Object(n.useMemo)((function(){return{limit:O,skip:(u-1)*O}}),[O,u]),be=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([ee(),ue(Object(j.a)(Object(j.a)({},pe),{},{status:"not-live"}))]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){be()}),[]),Object(n.useEffect)((function(){q(Q)}),[Q]),Kt($,(function(){re("reorder")})),Kt(J,(function(){re("deleteItem")})),Kt(Z,(function(){re("addMultiple")}));var je=mn(a,i,F,Q.length),me=je.currentList,fe=je.indexOfFirstItem,he=je.indexOfLastItem,ge=je.pages,Oe=mn(u,O,ie,oe),xe=Oe.indexOfFirstItem,ye=Oe.indexOfLastItem,ve=Oe.pages,we=Object(n.useCallback)(Ye()((function(e){ue(Object(j.a)(Object(j.a)({},pe),{},{status:"not-live"},e.length>0&&{startsWith:e}))}),500),[]),Ne=function(e,t,a){var n=Array.from(e),r=n.splice(t,1),c=Object(z.a)(r,1)[0];return n.splice(a,0,c),n},Se=function(e,t){var a=Ne(F,t,t+1),n=a.map((function(e){return e.id}));q(a),ne({queue:n})},Ce=function(e,t){var a=Ne(F,t,t-1),n=a.map((function(e){return e.id}));q(a),ne({queue:n})},ke=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(T.id,(function(){return Ge.a.success("Playlist item removed successfully"),be()}));case 2:N(!1),console.log("removing item from playlist...");case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)(Da,{pageTitle:"Ad-Playlists",children:[Object(g.jsxs)("div",{className:"flex items-center justify-between mt-16",children:[Object(g.jsx)("h3",{className:"text-white text-3xl font-semibold",children:"Live Playlist"}),Object(g.jsx)(yt,{title:"Add Content",icon:Object(g.jsx)(L.a,{className:"mr-2",size:22}),onBtnClick:function(){return I(!0)}})]}),Object(g.jsxs)("div",{className:"mt-16",children:[Object(g.jsx)(Pc,{handleDragEnd:function(e){if(console.log(e),e.destination){var t=Ne(F,e.source.index,e.destination.index),a=t.map((function(e){return e.id}));q(t),ne({queue:a})}},droppableId:"playlist-table",headers:qc,children:!K&&Q.length>0&&me.map((function(e,t){return Object(g.jsx)(Ec,{playlistItem:e,index:t,draggableId:e.id,onDownwardMove:Se,onUpwardMove:Ce,setConfirmRemoveItem:N,setCurrentItem:E},e.id)}))}),K&&Object(g.jsx)("div",{className:"w-full py-12 bg-black",children:Object(g.jsx)(k,{size:"large"})}),!K&&H&&Object(g.jsx)("div",{className:"w-full py-9 bg-black",children:Object(g.jsx)(vn,{title:"Error Retrieving Playlist",subtitle:H})}),!K&&!H&&0===Q.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20 mt-12",children:Q&&Q.length>0&&Object(g.jsx)(On,{activePage:a,dataLength:F.length,firstItem:fe+1,lastItem:he,pages:ge,setActivePage:r,setVisibleRows:o,visibleRows:i})}),Object(g.jsx)(Fc,{isOpen:A,setIsOpen:I,currentPage:u,indexOfFirstItem:xe,indexOfLastItem:ye,list:ie,listSize:oe,pages:ve,setCurrentPage:m,setShownRows:x,shownRows:O,fetchError:le,loadingData:de,onMultipleAdd:te,addingMultipleItem:X,addCallback:be,contentSearch:U,setContentSearch:W,handleSearchChange:function(e){W(e),we(e)}}),Object(g.jsx)(Sr,{open:w,setOpen:N,text:"Are you sure you want to remove this item from the playlist?",icon:Object(g.jsx)(Ke.b,{size:28,color:"#fff"}),handleConfirmation:ke,processingConfirm:Y})]})},Bc="creating_quiz",Lc="fetching_quiz",Uc="deleting_quiz",Wc="fetch_quizzes_error",Vc="delete_quiz_error",Gc="set_quizzes",Qc="set_quizzes_count",Kc="create_quiz_error",Hc={createQuiz:Kc,fetchQuizzes:Wc,deleteQuiz:Vc},Yc=_((function(e,t){switch(t.type){case Bc:return Object(j.a)(Object(j.a)({},e),{},{creatingQuiz:t.payload});case Lc:return Object(j.a)(Object(j.a)({},e),{},{fetchingQuizzes:t.payload});case Wc:return Object(j.a)(Object(j.a)({},e),{},{fetchQuizzesError:t.payload});case Kc:return Object(j.a)(Object(j.a)({},e),{},{createQuizError:t.payload});case Gc:return Object(j.a)(Object(j.a)({},e),{},{quizzes:t.payload});case Qc:return Object(j.a)(Object(j.a)({},e),{},{quizzesCount:t.payload});case Uc:return Object(j.a)(Object(j.a)({},e),{},{deletingQuiz:t.payload});case Vc:return Object(j.a)(Object(j.a)({},e),{},{deleteQuizError:t.payload});default:return e}}),{creatingQuiz:!1,createQuizError:null,fetchingQuizzes:!1,fetchQuizzesError:null,quizzes:[],quizzesCount:0,deletingQuiz:!1,deleteQuizError:null},{createNewQuiz:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("working"),e({type:Bc,payload:!0}),e({type:Kc,payload:null}),t.prev=3,t.next=6,E.post("/quizzes",a,{headers:{Authorization:"Bearer ".concat(H())}});case 6:e({type:Bc,payload:!1}),n&&n(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),t.t0.response?e({type:Kc,payload:t.t0.response.data.message||"Unable to create quiz. Something went wrong"}):e({type:Kc,payload:"Unable to create quiz. Something went wrong"}),e({type:Bc,payload:!1});case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,a){return t.apply(this,arguments)}}()},fetchQuizzes:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a){var n;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Lc,payload:!0}),e({type:Wc,payload:null}),t.prev=2,t.next=5,E.get("/quizzes",{headers:{Authorization:"Bearer ".concat(H())},params:Object(j.a)(Object(j.a)({},a),{},{sortBy:"createdAt",orderBy:"desc"})});case 5:n=t.sent,e({type:Gc,payload:n.data.quizzes}),e({type:Qc,payload:n.data.count}),e({type:Lc,payload:!1}),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Wc,payload:t.t0.response.data.message||"Unable to fetch quizzes. Something went wrong"}):e({type:Wc,payload:"Unable to fetch quizzes. Something went wrong"}),e({type:Lc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}()},deleteQuiz:function(e){return function(){var t=Object(b.a)(Object(p.a)().mark((function t(a,n){var r;return Object(p.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:Uc,payload:!0}),e({type:Vc,payload:null}),t.prev=2,t.next=5,E.delete("/quiz/".concat(a),{headers:{Authorization:"Bearer ".concat(H())}});case 5:r=t.sent,console.log(r.data),e({type:Uc,payload:!1}),n&&n(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),t.t0.response?e({type:Vc,payload:t.t0.response.data.message||"Unable to delete quiz. Something went wrong"}):e({type:Vc,payload:"Unable to delete quiz. Something went wrong"}),e({type:Uc,payload:!1});case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e,a){return t.apply(this,arguments)}}()},clearError:function(e){return function(t){e({type:Hc[t],payload:null})}}}),Jc=Yc.Context,Xc=Yc.Provider,Zc=[{id:"quiz-001",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1500,correctAnswer:20,correctOption:"C"},{id:"quiz-002",question:"What year did Nigeria gain her independence?",answers:1500,correctAnswer:35,correctOption:"A"},{id:"quiz-003",question:"What is the capital of Tanzania?",answers:500,correctAnswer:59,correctOption:"D"},{id:"quiz-004",question:"One of these songs is by Wizkid, pick one",answers:1300,correctAnswer:20,correctOption:"A"},{id:"quiz-005",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1250,correctAnswer:25,correctOption:"C"},{id:"quiz-006",question:"What year did Nigeria gain her independence?",answers:2e3,correctAnswer:40,correctOption:"B"},{id:"quiz-007",question:"Which one of these afrobeats artistes won a grammy in 2021?",answers:1700,correctAnswer:21,correctOption:"A"}],$c={0:"A",1:"B",2:"C",3:"D"},es=at(Object(n.forwardRef)((function(e,t){var a=e.setCurrentItem,n=e.checkedItems,r=e.index,c=e.toggleItemCheck,s=e.quizItem,i=e.setConfirmDeleteItem,o=e.setOpen,l=e.open,d=s.options.findIndex((function(e){return e.toLowerCase()===s.answer.toLowerCase()}));return Object(g.jsxs)("tr",{className:C()("border","border-247-dark-text","hover:bg-gray-700","text-lg",{"bg-gray-700":n.includes(r)},{"odd:bg-247-dark-accent3":!n.includes(r)}),children:[Object(g.jsx)("td",{className:"px-3 py-5",children:Object(g.jsx)(hn,{checked:!!n.includes(r),iconColor:"#CACACA",name:s.id.toLowerCase(),handleChange:function(){return c(r)}})}),Object(g.jsx)("td",{className:"px-6 py-5 max-w-xs",children:s.question}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(s.timesAnswered,!1,!0)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(s.timesAnsweredCorrectly,!1,!0)}),Object(g.jsx)("td",{className:"px-6 py-5",children:$c[d]}),Object(g.jsx)("td",{children:Object(g.jsxs)("div",{className:"relative",ref:t,children:[Object(g.jsx)("button",{onClick:function(){return o(!l)},className:"flex items-center justify-center",children:Object(g.jsx)(Ut.c,{color:"#fff",size:24})}),Object(g.jsx)("ul",{style:{transform:"translateX(-90%)"},className:C()("absolute","top-7","bg-247-dark-accent3","p-0","left-1/2","transition-all","translate-y-3","origin-top-right","w-52","z-50","shadow-xl","rounded-lg",{"opacity-0":!l},{"opacity-100":l},{visible:l},{hidden:!l}),children:Object(g.jsx)("li",{className:"w-full py-4 px-5 text-white text-sm font-semibold hover:bg-black hover:text-247-red-straight first:rounded-t-lg last:rounded-b-lg cursor-pointer",onClick:function(e){o(!1),a(s),i(!0)},children:"Delete question"})})]})})]})}))),ts=function(e){var t,a,n,r,c,s=e.isOpen,i=e.setIsOpen,o=e.submitAction,l=e.setMediaItem,d=e.creatingQuiz,u=R.b({question:R.c().required("This field is required"),optionA:R.c().required("This field is required"),optionB:R.c().required("This field is required"),optionC:R.c().required("This field is required"),optionD:R.c().required("This field is required"),correctOption:R.b().required("This field is required")}),p=Object(w.e)({resolver:Object(q.a)(u)}),b=p.handleSubmit,j=p.register,m=p.formState.errors,f=p.control;return Object(g.jsxs)(zt,{modalOpen:s,setModalOpen:i,width:704,children:[Object(g.jsx)("h3",{className:"text-white text-center text-2xl font-semibold",children:"New Quiz"}),Object(g.jsxs)("form",{className:"mt-10",onSubmit:b(o),children:[Object(g.jsx)(x,{label:"Question",darkMode:!0,placeholder:"enter quiz question",type:"text",registerFn:j,name:"question",errorText:null===(t=m.question)||void 0===t?void 0:t.message}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Option A",darkMode:!0,placeholder:"enter option a",type:"text",registerFn:j,name:"optionA",errorText:null===(a=m.optionA)||void 0===a?void 0:a.message}),Object(g.jsx)(x,{label:"Option B",darkMode:!0,placeholder:"enter option b",type:"text",registerFn:j,name:"optionB",errorText:null===(n=m.optionB)||void 0===n?void 0:n.message})]}),Object(g.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(g.jsx)(x,{label:"Option C",darkMode:!0,placeholder:"enter option c",type:"text",registerFn:j,name:"optionC",errorText:null===(r=m.optionC)||void 0===r?void 0:r.message}),Object(g.jsx)(x,{label:"Option D",darkMode:!0,placeholder:"enter option d",type:"text",registerFn:j,name:"optionD",errorText:null===(c=m.optionD)||void 0===c?void 0:c.message})]}),Object(g.jsx)(w.a,{name:"correctOption",control:f,render:function(e){var t,a=e.field;return Object(g.jsx)(Bt,{label:"Select Correct Option",darkMode:!0,options:[{value:"a",label:"A"},{value:"b",label:"B"},{value:"c",label:"C"},{value:"d",label:"D"}],placeholderText:"select the correct option",value:a.value,handleChange:function(e){return a.onChange(e)},errorText:null===(t=m.correctOption)||void 0===t?void 0:t.message})}}),Object(g.jsx)(Qt,{label:"Upload Quiz Image",multiple:!1,callUpdateFilesCb:function(e){var t=Object.values(e);l(t)},accepts:".jpg,.png,.jpeg"}),Object(g.jsx)(I,{type:"submit",className:["bg-247-red","block","mt-12","px-12","font-normal"],fullWidth:!0,isLoading:d,children:"Submit Quiz"})]})]})},as=function(e){var t=e.checkedItems,a=e.toggleAll;return Object(g.jsx)(hn,{checked:t.length===Zc.length,iconColor:"#CACACA",name:"checkAll",handleChange:a})},ns=function(){var e=Object(n.useState)([]),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(z.a)(c,2),i=s[0],o=s[1],l=Object(n.useState)(5),d=Object(z.a)(l,2),u=d[0],m=d[1],f=Object(n.useState)(),h=Object(z.a)(f,2),O=h[0],x=h[1],y=Object(n.useState)([]),v=Object(z.a)(y,2),w=v[0],S=v[1],C=Object(n.useState)(!1),A=Object(z.a)(C,2),I=A[0],D=A[1],_=Object(n.useState)(!1),T=Object(z.a)(_,2),E=T[0],P=T[1],M=Object(n.useContext)(Jc),F=M.state,q=F.creatingQuiz,R=F.createQuizError,B=F.quizzes,U=F.quizzesCount,W=F.fetchQuizzesError,V=F.fetchingQuizzes,G=F.deletingQuiz,Q=F.deleteQuizError,K=M.createNewQuiz,H=M.fetchQuizzes,Y=M.deleteQuiz,J=M.clearError;Kt(R,(function(){J("createQuiz")})),Kt(Q,(function(){J("deleteQuiz")}));var X=Object(n.useMemo)((function(){return{limit:u,skip:(i-1)*u}}),[u,i]);Object(n.useEffect)((function(){H(Object(j.a)({},X))}),[X]);var Z=mn(i,u,B,U),$=Z.indexOfFirstItem,ee=Z.indexOfLastItem,te=Z.pages;console.log(B);var ae=function(e){if(a.includes(e)){var t=a.indexOf(e),n=Object(N.a)(a);n.splice(t,1),r(n)}else r([].concat(Object(N.a)(a),[e]))},ne=function(){return Ge.a.success("Quiz has been sucessfully deleted!"),H(Object(j.a)({},X))},re=function(){var e=Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(O._id,ne);case 2:D(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){return Ge.a.success("New quiz added successfully!"),H(Object(j.a)({},X))},se=function(){var e=Object(b.a)(Object(p.a)().mark((function e(t){var a,n;return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="option".concat(t.correctOption.value.toUpperCase()),(n=new FormData).append("question",t.question),n.append("option1",t.optionA),n.append("option2",t.optionB),n.append("option3",t.optionC),n.append("option4",t.optionD),n.append("answer",t[a]),n.append("quizImage",w[0]),e.next=11,K(n,ce);case 11:P(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=[Object(g.jsx)(as,{checkedItems:a,toggleAll:function(){if(0!==a.length)r([]);else{var e=Array.from({length:Zc.length},(function(e,t){return t}));r(e)}}}),"Question","Answers","Correct Answer","Correct Option",""];return Object(g.jsxs)(Da,{children:[Object(g.jsx)("div",{className:"w-full flex items-center mt-20 justify-end",children:Object(g.jsx)(yt,{title:"New Quiz",icon:Object(g.jsx)(L.a,{className:"mr-2",size:22}),onBtnClick:function(){return P(!0)}})}),Object(g.jsxs)("div",{className:"mt-8 mb-10 bg-247-secondary",children:[Object(g.jsxs)(fn,{headers:ie,loadingData:V,children:[V&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!V&&B.length>0&&B.map((function(e,t){return Object(g.jsx)(es,{quizItem:e,index:t,checkedItems:a,toggleItemCheck:ae,setConfirmDeleteItem:D,setCurrentItem:x},e.id)}))]}),!V&&!W&&0===B.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!V&&W&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:W})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:B&&B.length>0&&Object(g.jsx)(On,{activePage:i,dataLength:U,firstItem:$+1,lastItem:ee,pages:te,setActivePage:o,setVisibleRows:m,visibleRows:u})}),Object(g.jsx)(Sr,{open:I,setOpen:D,text:"Are you sure you want to delete this question?",icon:Object(g.jsx)(Ke.b,{size:28,color:"#fff"}),handleConfirmation:re,processingConfirm:G}),Object(g.jsx)(ts,{isOpen:E,setIsOpen:P,submitAction:se,setMediaItem:S,creatingQuiz:q})]})},rs=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(K.a,{width:"100%",height:"140px",shape:"rect",colorEnd:"#1A1C1F",colorStart:"#1D2023"})})},cs=["","Driver","Total Earning","Pending Payout"],ss=function(e){var t=e.goToPrevPage;return Object(g.jsxs)("div",{className:"flex items-center",children:[Object(g.jsx)("button",{onClick:t,className:"bg-transparent border-0 outline-none focus:outline-none",children:Object(g.jsx)(L.c,{color:"#f00",size:28})}),Object(g.jsx)("h3",{className:"text-2xl text-247-gray font-semibold ml-14",children:"Pending Payouts"})]})},is=function(){var e=Object(n.useState)([]),t=Object(z.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(1),s=Object(z.a)(c,2),o=s[0],l=s[1],d=Object(n.useState)(5),u=Object(z.a)(d,2),j=u[0],m=u[1],f=Object(n.useState)(!1),h=Object(z.a)(f,2),O=h[0],x=h[1],y=Object(n.useState)(!1),v=Object(z.a)(y,2),w=v[0],S=v[1],C=Object(n.useState)(),A=Object(z.a)(C,2),I=A[0],D=A[1],_=Object(i.g)(),T=Object(n.useContext)(ir),E=T.state,P=E.fetchingTotalSettled,M=E.totalSettled,F=E.fetchingTotalPending,q=E.totalPending,R=E.fetchingPayouts,B=E.payoutRequests,L=E.payoutsListSize,U=E.fetchPayoutsError,W=T.getTotalSettledPayouts,V=T.getTotalPendingPayouts,G=T.fetchPayoutRequests,Q=Object(n.useMemo)((function(){return P||F}),[P,F]),K=mn(o,j,B,L),H=K.indexOfFirstItem,Y=K.indexOfLastItem,J=K.pages;console.log(B,L),Object(n.useEffect)((function(){Object(b.a)(Object(p.a)().mark((function e(){return Object(p.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([W(),V(),G({status:"pending"})]);case 2:case"end":return e.stop()}}),e)})))()}),[]);return Object(g.jsxs)(Da,{customHeader:Object(g.jsx)(ss,{goToPrevPage:function(){return _.goBack()}}),children:[Q?Object(g.jsx)("div",{className:"mt-16 grid grid-cols-3 gap-6",children:Array.from({length:2},(function(e,t){return t+1})).map((function(e){return Object(g.jsx)(rs,{},e)}))}):Object(g.jsxs)("div",{className:"mt-16 grid grid-cols-3 gap-6",children:[Object(g.jsx)(jn,{bgColor:"bg-blue-gradient",infoTitle:"Pending Payout",infoValue:Ra(Wa(q),!0,!0)}),Object(g.jsx)(jn,{bgColor:"bg-green-gradient",infoTitle:"Settled Payout",infoValue:Ra(Wa(M),!0,!0)})]}),Object(g.jsxs)("div",{className:"mt-10 bg-247-secondary rounded-md border-2 border-247-dark-text mb-10",children:[Object(g.jsxs)(fn,{headers:cs,loadingData:R,children:[R&&Object(g.jsx)("div",{className:"flex items-center justify-center w-full absolute py-14",children:Object(g.jsx)(k,{size:"large"})}),!R&&B.length>0&&B.map((function(e,t){var n,c;return Object(g.jsxs)("tr",{className:a.includes(t)?"text-lg bg-gray-700 border border-247-dark-text  hover:bg-gray-700":"text-lg border border-247-dark-text odd:bg-247-dark-accent3  hover:bg-gray-700",children:[Object(g.jsx)("td",{className:"px-3 py-5",children:Object(g.jsx)(hn,{checked:!!a.includes(t),iconColor:"#CACACA",name:e.id.toLowerCase(),handleChange:function(){return function(e){if(a.includes(e)){var t=a.indexOf(e),n=Object(N.a)(a);n.splice(t,1),r(n)}else r([].concat(Object(N.a)(a),[e]))}(t)}})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsxs)("div",{children:[null===e||void 0===e||null===(n=e.driver)||void 0===n?void 0:n.name,Object(g.jsx)("span",{className:"block text-sm font-light",children:null===e||void 0===e||null===(c=e.driver)||void 0===c?void 0:c.email})]})}),Object(g.jsx)("td",{className:"px-6 py-5",children:Ra(Wa(null===e||void 0===e?void 0:e.amount),!0,!0)}),Object(g.jsx)("td",{className:"px-6 py-5",children:Object(g.jsx)(yt,{onBtnClick:function(){var t,a,n,r,c,s,i;D({bankName:null===e||void 0===e||null===(t=e.driver)||void 0===t||null===(a=t.bankInformation)||void 0===a||null===(n=a.bank)||void 0===n?void 0:n.name,accountNumber:null===e||void 0===e||null===(r=e.driver)||void 0===r||null===(c=r.bankInformation)||void 0===c?void 0:c.accountNumber,accountName:null===e||void 0===e||null===(s=e.driver)||void 0===s||null===(i=s.bankInformation)||void 0===i?void 0:i.accountName,pendingPayout:Wa(null===e||void 0===e?void 0:e.amount)}),x(!0)},title:"Settle"})})]},"payout_".concat(e.id))}))]}),!R&&!U&&0===B.length&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(yn,{title:"No Campaign Found",subtitle:"We cannot find any campaign that fits your criteria."})}),!R&&U&&Object(g.jsx)("div",{className:"w-full py-9",children:Object(g.jsx)(vn,{title:"Error Retrieving Campaigns",subtitle:U})})]}),Object(g.jsx)("div",{className:"flex items-center justify-end mb-20",children:B&&L>0&&Object(g.jsx)(On,{activePage:o,dataLength:L,firstItem:H+1,lastItem:Y,pages:J,setActivePage:l,setVisibleRows:m,visibleRows:j})}),Object(g.jsx)(Ar,{isOpen:O,setIsOpen:x,driverDeets:I,handlePayout:function(e){console.log(e,"confirming payout"),x(!1),S(!0)}}),Object(g.jsx)(Sr,{open:w,setOpen:S,text:"Continue payout for ".concat(null===I||void 0===I?void 0:I.accountName),handleConfirmation:function(){console.log("paying driver..."),S(!1)},icon:Object(g.jsx)(jr.a,{size:32,color:"#fff"})})]})},os=["component","userType"],ls=function(e){var t=e.component,a=e.userType,r=Object(m.a)(e,os),c=Object(n.useContext)(M).state,s=c.user,o=c.loggedIn,l=Object(i.h)();return Object(g.jsx)(i.b,Object(j.a)(Object(j.a)({},r),{},{children:o&&(null===s||void 0===s?void 0:s.kind.toLowerCase())===a?Object(g.jsx)(t,{}):Object(g.jsx)(i.a,{to:{pathname:d,state:{from:l,userType:a}}})}))};var ds=function(){var e=Object(i.h)();return console.log(e),Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)(i.d,{children:[Object(g.jsx)(i.b,{exact:!0,path:"/",children:Object(g.jsx)(i.a,{to:{pathname:d,state:{from:e}}})}),Object(g.jsx)(i.b,{path:d,component:B}),Object(g.jsx)(ls,{exact:!0,userType:"admin",path:u,component:bn}),Object(g.jsx)(ls,{path:"/advertisers",exact:!0,userType:"admin",component:kn}),Object(g.jsx)(ls,{path:"/advertiser/:advertiserId",userType:"admin",component:Ln}),Object(g.jsx)(ls,{path:"/drivers",exact:!0,userType:"admin",component:pr}),Object(g.jsx)(ls,{path:"/driver/:driverId",userType:"admin",component:Pr}),Object(g.jsx)(ls,{path:"/campaigns",exact:!0,userType:"admin",component:Rr}),Object(g.jsx)(ls,{path:"/campaign/:campaignId",userType:"admin",component:Gr}),Object(g.jsx)(ls,{path:"/send-notifications",exact:!0,userType:"admin",component:Kr}),Object(g.jsx)(ls,{path:"/content-library",exact:!0,userType:"admin",component:_c}),Object(g.jsx)(ls,{path:"/playlist-manager",exact:!0,userType:"admin",component:Rc}),Object(g.jsx)(ls,{path:"/quiz-centre",exact:!0,userType:"admin",component:ns}),Object(g.jsx)(ls,{path:"/pending-payouts",exact:!0,userType:"admin",component:is})]})})},us=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,580)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(F,{children:Object(g.jsx)(xt,{children:Object(g.jsx)(Xc,{children:Object(g.jsx)(We,{children:Object(g.jsx)(or,{children:Object(g.jsx)(Dc,{children:Object(g.jsx)(wr,{children:Object(g.jsx)(uc,{children:Object(g.jsx)(ge,{children:Object(g.jsx)(Fe,{children:Object(g.jsx)(ya,{children:Object(g.jsx)(i.c,{history:l,children:Object(g.jsx)(ds,{})})})})})})})})})})})})})}),document.getElementById("root")),us()}},[[565,1,2]]]);
//# sourceMappingURL=main.2d429843.chunk.js.map